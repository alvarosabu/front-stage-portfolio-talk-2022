(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4744],{32100:function(e,i,t){"use strict";t.r(i),t.d(i,{default:function(){return _l}});var n=t(2784),a=t(81839),r=t(95235),s=t(82269),o=t(40639),d=t(78359),l=t(34689),c=t(76911),m=t(59579),u=t(52322);const p=["p"];function g(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),t.push.apply(t,n)}return t}function v(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?g(Object(t),!0).forEach((function(i){(0,r.Z)(e,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}))}return e}const h=({children:e})=>{const{path:i,query:t,location:n,createHref:r}=(0,a.k)();if(i!==i.toLowerCase()&&!t.p){const{p:e}=t,a=(0,s.Z)(t,p),o=(0,c.B)(a),d=o?`${i.toLowerCase()}?${o}`:i.toLowerCase(),l=r(v(v({},n),{},{pathname:d}));return(0,u.jsx)(m.Z,{to:l,redirectPermanently:!0})}return e};var y=t(69680),k=t(4343),f=t(10869),b=t.n(f),w=t(86235),x=t(93395),N=t(64745),S=t(2430),j=t(2955),P=t(69497),_=t(14507),C=t(71933),I=t(96753),Z=t(92736),O=t(81024),F=t(79583),T=t(29717),R=t(30382),z=t.n(R);const D=z()`
  mutation SubmitHelpfulnessVote(
    $commentId: ID!
    $feedback: HelpfulnessFeedback
  ) {
    submitHelpfulnessVote(commentId: $commentId, feedback: $feedback) {
      success
      error
    }
  }
`,V={productReviews:z()`
    fragment SubmitHelpfulnessVote_Reviews on ProductReviews {
      reviews {
        id
      }
    }
  `};var E=({children:e})=>{const[i,t]=(0,w.Db)(D);return e(i,t)},A=t(18247),M=t(8982),B=t(29522),$=t(82461),L=t(68289),W=t(54914),U=t(74121),G=t.n(U);const q=W.ZP.button.withConfig({displayName:"ProductReviewsOverviewstyles__RatingBox",componentId:"sc-echww5-0"})(["margin-bottom:",";padding:0 "," 0 ",";margin-left:-",";display:flex;flex-direction:row;align-items:center;",";",";"],(e=>e.theme.sizing("xs")),(e=>e.theme.sizing("xl")),(e=>e.theme.sizing("xs")),(e=>e.theme.sizing("xs")),(e=>e.selected?(0,W.iv)(["background-repeat:no-repeat;background-position:100% 50%;background-color:",";background-image:url(",");background-size:35px;"],e.theme.color("blue_extra_light"),G()):""),(e=>e.disabled?(0,W.iv)(["opacity:0.5;font-style:italic;cursor:no-drop;"]):"")),H=W.ZP.div.withConfig({displayName:"ProductReviewsOverviewstyles__PercentageBarWrapper",componentId:"sc-echww5-1"})(["width:",";"],(e=>e.theme.sizing(4))),Q=(0,W.ZP)($.Z).withConfig({displayName:"ProductReviewsOverviewstyles__BreakdownWrapper",componentId:"sc-echww5-2"})(["",";"],(e=>e.theme.layout.container({direction:{small:"column",medium:"row",large:"row"}}))),K=(0,W.ZP)(M.Z).withConfig({displayName:"ProductReviewsOverviewstyles__BreakdownTitle",componentId:"sc-echww5-3"})(["margin-top:0;"]),X=W.ZP.div.withConfig({displayName:"ProductReviewsOverviewstyles__OverallExperienceWrapper",componentId:"sc-echww5-4"})(["",";",";"],(({theme:e})=>e.media.min("medium")((0,W.iv)(["border-left:1px solid ",";padding-left:",";"],(e=>e.theme.color("grey_light")),(e=>e.theme.sizing("ms"))))),(({theme:e})=>e.media.max("medium")((0,W.iv)(["border-top:1px solid ",";padding-top:",";"],e.color("grey_light"),e.sizing("ms"))))),Y=(0,W.ZP)($.Z).withConfig({displayName:"ProductReviewsOverviewstyles__WriteReviewButtonWrapper",componentId:"sc-echww5-5"})(["",";padding-bottom:",";"],(e=>e.theme.layout.item({width:{small:"100%",medium:"auto",large:"auto"}})),(e=>e.theme.sizing("ms"))),J=W.ZP.div.withConfig({displayName:"ProductReviewsOverviewstyles__Disclaimer",componentId:"sc-echww5-6"})(["width:100%;padding:"," 0;border-top:1px solid ",";"],(e=>e.theme.sizing("ms")),(e=>e.theme.color("grey_light"))),ee=(0,W.ZP)($.Z).withConfig({displayName:"ProductReviewsOverviewstyles__OverviewWrapper",componentId:"sc-echww5-7"})(["",";justify-content:space-between;"],(e=>e.theme.layout.container({direction:{small:"column",medium:"row",large:"row"}}))),ie=W.ZP.div.withConfig({displayName:"ProductReviewsOverviewstyles__FirstSubmitReviewContainer",componentId:"sc-echww5-8"})(["display:flex;flex-direction:column;align-items:center;padding:"," 0;",";"],(e=>e.theme.sizing("ms")),(e=>e.theme.media.min("medium")((0,W.iv)(["flex-direction:row;justify-content:flex-end;"])))),te=(0,W.ZP)($.Z).withConfig({displayName:"ProductReviewsOverviewstyles__OverallRating",componentId:"sc-echww5-9"})(["display:flex;align-items:flex-end;"]),ne=(0,W.ZP)($.Z).withConfig({displayName:"ProductReviewsOverviewstyles__StatsWrapper",componentId:"sc-echww5-10"})(["display:flex;flex-direction:column;"]);var ae=t(96710);var re=({overallPlayExperience:e,overallDifficulty:i,valueForMoney:t})=>{const n=(0,Z.T)();return(0,u.jsxs)(X,{children:[(0,u.jsx)(K,{size:"s0",tag:"h3",children:(0,u.jsx)(B.Z,{id:"product.details.reviews.overallExperience"})}),e?(0,u.jsx)($.Z,{bottom:"xs",children:(0,u.jsx)(ae.Z,{mode:"display",type:"bricks",label:n("product.details.reviews.playExperience"),rating:e})}):null,i?(0,u.jsx)($.Z,{bottom:"xs",children:(0,u.jsx)(ae.Z,{mode:"display",type:"bricks",label:n("product.details.reviews.levelOfDifficulty"),rating:i})}):null,t?(0,u.jsx)(ae.Z,{mode:"display",type:"bricks",label:n("product.details.reviews.valueForMoney"),rating:t}):null]})},se=t(94920),oe=t(72600),de=t(25418),le=t(82899),ce=t(22711),me=t(7985),ue=t(1131),pe=t(70184),ge=t(4525),ve=t(69810),he=t(98379),ye=t(85293),ke=t(95691),fe=t(2964),be=t(77386);const we=W.ZP.div.withConfig({displayName:"Stepsstyles__Field",componentId:"sc-1fih4gp-0"})(["margin-bottom:",";& ","{padding-left:",";","}"],(e=>e.theme.sizing("xs")),fe.ub,(({theme:e})=>e.sizing("xs")),(e=>e.theme.media.max("small")((0,W.iv)(["max-width:",";"],e.theme.sizing("4xl"))))),xe=(0,W.ZP)(M.Z).withConfig({displayName:"Stepsstyles__FieldTitle",componentId:"sc-1fih4gp-1"})(["display:block;margin:0;margin-bottom:",";"],(e=>e.theme.sizing("4xs"))),Ne=W.ZP.div.withConfig({displayName:"Stepsstyles__FieldSet",componentId:"sc-1fih4gp-2"})(["border-bottom:1px solid ",";margin-bottom:",";"],(e=>e.theme.color("grey_light")),(e=>e.theme.sizing("ms"))),Se=W.ZP.span.attrs((()=>({role:"alert"}))).withConfig({displayName:"Stepsstyles__ErrorText",componentId:"sc-1fih4gp-3"})(["color:",";font-size:",";font-weight:",";"],(e=>e.theme.color("red")),(e=>e.theme.fontSize("sm2")),(e=>e.theme.fontWeight("semiBold"))),je=W.ZP.div.withConfig({displayName:"Stepsstyles__Wrapper",componentId:"sc-1fih4gp-4"})(["display:",";padding:0 ",";margin-bottom:",";"],(e=>e.active?"block":"none"),(e=>e.theme.sizing("sm")),(e=>e.theme.sizing("sm"))),Pe=(W.ZP.div.withConfig({displayName:"Stepsstyles__TooltipContainer",componentId:"sc-1fih4gp-5"})(["display:flex;justify-content:flex-end;"]),W.ZP.span.withConfig({displayName:"Stepsstyles__TooltipText",componentId:"sc-1fih4gp-6"})(["color:",";font-size:",";"],(e=>e.theme.color("blue")),(e=>e.theme.sizing("xxs"))),(0,W.ZP)(ae.Z).withConfig({displayName:"Stepsstyles__StyledRatingBar",componentId:"sc-1fih4gp-7"})(["margin-bottom:",";"],(e=>e.theme.sizing("4xs")))),_e=(0,W.ZP)(be.Z).withConfig({displayName:"Stepsstyles__StyledRadioInput",componentId:"sc-1fih4gp-8"})(["display:inline-flex;margin:0;margin-right:",";&:last-child{margin-right:0;}"],(e=>e.theme.sizing("xxl"))),Ce=W.ZP.div.withConfig({displayName:"Stepsstyles__NextButtonContainer",componentId:"sc-1fih4gp-9"})(["text-align:right;"]),Ie=(0,W.ZP)(ke.Z).withConfig({displayName:"Stepsstyles__StyledTextArea",componentId:"sc-1fih4gp-10"})(["& > textarea{padding-top:",";}"],(e=>e.theme.sizing("sm")));var Ze=t(81775),Oe=t(20348);const Fe=["error"];function Te(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),t.push.apply(t,n)}return t}function Re(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?Te(Object(t),!0).forEach((function(i){(0,r.Z)(e,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Te(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}))}return e}const ze=(e,i)=>{if(!e||!i)return null;const{error:t}=i,n=(0,s.Z)(i,Fe);switch(e.type){case"select":return(0,u.jsxs)(we,{"data-test":`review-field-${n.name}`,children:[e.label&&(0,u.jsxs)(xe,{tag:"label",htmlFor:`review-field-${n.name}-select`,children:[e.label," ",e.required&&" *"]}),(0,u.jsx)(Ze.Z,Re(Re({},n),{},{id:`review-field-${n.name}-select`,"data-test":`review-field-${n.name}-select`,hideLabel:!0,label:"",options:e.options})),t?(0,u.jsx)(Se,{children:t}):null]});case"number":return(0,u.jsxs)(we,{"data-test":`review-field-${n.name}`,children:[e.label&&(0,u.jsxs)(xe,{tag:"p",children:[e.label," ",e.required&&" *"]}),(0,u.jsx)(Pe,Re(Re({},n),{},{name:n.name,"data-test":`review-field-${n.name}-rating`,type:"bricks",size:"lg",onSegmentClick:e=>{n.onChange&&n.onChange({target:{name:n.name,value:e}})},ratingText:["product.review.rating.poor","product.review.rating.fair","product.review.rating.average","product.review.rating.good","product.review.rating.excellent"],mode:"interactive",rating:n.value||0})),t?(0,u.jsx)(Se,{children:t}):null]});case"textarea":return(0,u.jsxs)(we,{"data-test":`review-field-${n.name}`,children:[e.label&&(0,u.jsxs)(xe,{tag:"label",htmlFor:`review-field-${n.name}-textarea`,children:[e.label," ",e.required&&" *"]}),(0,u.jsx)(Ie,Re(Re({},n),{},{id:`review-field-${n.name}-textarea`,"data-test":`review-field-${n.name}-textarea`,hideLabel:!0,label:"",error:t}))]});case"radio":return(0,u.jsxs)(we,{"data-test":`review-field-${n.name}`,children:[e.label&&(0,u.jsxs)(xe,{tag:"p",children:[e.label," ",e.required&&" *"]}),(0,u.jsx)(_e,Re(Re({},n),{},{onChange:()=>n.onChange({target:{name:n.name,value:"yes"}}),name:n.name,value:"yes",checked:"yes"===n.value,label:"common.yes","data-test":`review-field-${n.name}-radio-yes`})),(0,u.jsx)(_e,Re(Re({},n),{},{onChange:()=>n.onChange({target:{name:n.name,value:"no"}}),name:n.name,value:"no",checked:"no"===n.value,label:"common.no","data-test":`review-field-${n.name}-radio-no`})),t?(0,u.jsx)(Se,{children:t}):null]});case"text":return(0,u.jsxs)(we,{"data-test":`review-field-${n.name}`,children:[e.label&&(0,u.jsxs)(xe,{tag:"label",htmlFor:`review-field-text-input-${n.name}`,children:[e.label," ",e.required&&" *"]}),(0,u.jsx)(Oe.Z,Re(Re({},n),{},{id:`review-field-text-input-${n.name}`,"data-test":`review-field-text-input-${n.name}`,hideLabel:!0,label:""})),t?(0,u.jsx)(Se,{children:t}):null]})}},De=e=>void 0===e?[]:"string"===typeof e?[{target:e}]:Array.isArray(e)?e:[e],Ve=(e,i,t)=>{const n=((e,i,t)=>{const{on:n={}}=e,{on:a={}}=e.states[t],r=De(n[i.type]);return[...De(a[i.type]),...r]})(e,i,t),a=n.find((e=>"function"!==typeof e.cond||e.cond(i,t)));return void 0!==a?a.target:t};function Ee(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),t.push.apply(t,n)}return t}function Ae(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?Ee(Object(t),!0).forEach((function(i){(0,r.Z)(e,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ee(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}))}return e}const Me=(e,{target:i,cond:t})=>({target:e?`.${i}`:i,cond:t}),Be=(e,i={})=>Object.keys(i).reduce(((t,n)=>{const a=i[n];return t[n]=((e,i)=>{if("string"===typeof i)return{target:e?`.${i}`:i};return Array.isArray(i)?i.map((i=>Me(e,i))):Me(e,i)})(e,a),t}),{}),$e=(e,i)=>{if(null===e||void 0===e)return i;if("compound"===e.type)return{type:"parallel",on:{},states:{[e.key]:e,[i.key]:i}};if("parallel"===e.type){const t=e;return{type:"parallel",on:e.on,states:Ae(Ae({},t.states),{},{[i.key]:i})}}return"atomic"===e.type?{type:"parallel",on:e.on,states:{[i.key]:i}}:i},Le=(e,i,t)=>{const a=(0,n.useMemo)((()=>(({id:e,initial:i,on:t={},states:n})=>{const a=Object.keys(n).reduce(((e,i)=>{const{on:t,onEntry:a=[],onExit:r=[]}=n[i];return e[i]={type:"atomic",onEntry:a,onExit:r,on:Be(!1,t)},e}),{});return{key:e,type:"compound",initial:i,onEntry:[],onExit:[],on:Be(!0,t),states:a}})(e)),[e]),r=(0,n.useRef)(e.initial);r.current=t;const s=(0,n.useCallback)((e=>{const i=r.current,{states:t}=a,n=t[i];t[i]=$e(n,e)}),[a]);return(0,n.useEffect)((()=>{i.addChildChart(a)}),[i,a]),[s,a]};function We(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),t.push.apply(t,n)}return t}function Ue(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?We(Object(t),!0).forEach((function(i){(0,r.Z)(e,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):We(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}))}return e}const Ge=(()=>{const e=(()=>{const e=(0,n.createRef)();return{stateChart:e,Context:(0,n.createContext)({transition:()=>{},addChildChart:i=>{e.current=$e(e.current,i)}})}})(),i=(()=>{const e=[];return{subscribe:i=>(e.push(i),()=>{e.splice(e.indexOf(i),1)}),dispatch(i,t){e.forEach((e=>e(i,t)))}}})(),t={shouldExplore:!1,queue:[]},{Context:a}=e;return{meta:Ue(Ue({},e),{},{exploreQueue:t}),getStateChart:()=>e.stateChart.current,useMachineState:(e,r)=>{const s=(0,n.useRef)(e).current,o=(0,n.useContext)(a),[d,l,c]=((e,i)=>{const{0:t,1:a}=(0,n.useState)(e.initial),r=(0,n.useRef)(e.initial);return r.current=t,[t,(0,n.useCallback)((t=>{const n=r.current,s=Ve(e,t,n);if(n!==s){a(s);const{onExit:r=[]}=e.states[n],{onEntry:o=[]}=e.states[s],d=[...r,...o];void 0!==i&&d.length>0&&i(d,t)}}),[e,i]),a]})(s,i.dispatch);(0,n.useDebugValue)(d),((e,i,t,a,r)=>{const s=(0,n.useRef)(i.initial),o=(0,n.useRef)(t);s.current=a,o.current=t,(0,n.useLayoutEffect)((()=>e.subscribe(((e,i)=>{const t=s.current,n=o.current;null!==n&&void 0!==n&&e.forEach((e=>{const a=n[e];void 0!==a&&a(i,t,r)}))}))),[e,r])})(i,s,r,d,l),((e,i,{shouldExplore:t,queue:a})=>{(0,n.useEffect)((()=>{t&&Object.keys(e.states).filter((i=>i!==e.initial)).forEach((e=>{a.unshift((()=>i(e)))}))}),[e,a,i,t])})(s,c,t);const[m]=Le(s,o,d),p=(0,n.useCallback)((e=>{l(e),o.transition(e)}),[l,o]),g=(0,n.useMemo)((()=>({transition:p,addChildChart:m})),[p,m]),v=(0,n.useCallback)((({children:e})=>(0,u.jsx)(a.Provider,{value:g,children:e})),[g]);return[d,p,v]},useMachineTransition:()=>(0,n.useContext)(a).transition}})(),qe=Ge.useMachineState,He=Ge.useMachineTransition,Qe=e=>{const{currentState:i,errors:t,fields:a,valuesRef:r}=e,s=He(),o=(0,Z.T)(),{triggerEvent:d}=(0,T.FG)(),l=(0,ve.Ry)({rating:(0,ve.Z_)().required(o("product.review.required.field")),playExperience:(0,ve.Z_)(),buildExperience:(0,ve.Z_)(),valueForMoney:(0,ve.Z_)(),wouldRecommend:(0,ve.Z_)(),incentivizedReview:(0,ve.Z_)(),legoEmployee:(0,ve.Z_)()}),[c,m,p,g,v]=(0,ye.c)(l,(null===r||void 0===r?void 0:r.current)||null);(0,n.useEffect)((()=>{Object.keys(t).length&&g(t)}),[t,g]);return(0,u.jsx)("form",{onSubmit:e=>{e.preventDefault(),v(),void 0!==r&&(r.current=c.values),c.isValid&&(s({type:"NEXT_STEP"}),d({label:"pdp-reviews-next-step-click",eventType:["custom"]}))},id:"rating-section","aria-labelledby":"rating-title",children:(0,u.jsx)(he.Z,{children:(0,u.jsxs)(je,{active:"rating"===i,children:[(0,u.jsx)(Ne,{children:ze(a.rating,m("rating"))}),(0,u.jsxs)(Ne,{children:[ze(a.buildExperience,m("buildExperience")),ze(a.playExperience,m("playExperience")),ze(a.valueForMoney,m("valueForMoney"))]}),(0,u.jsxs)(Ne,{children:[ze(a.wouldRecommend,m("wouldRecommend")),ze(a.incentivizedReview,m("incentivizedReview")),ze(a.legoEmployee,m("legoEmployee"))]}),(0,u.jsx)(Ce,{children:(0,u.jsx)(oe.Z,{type:"primary","data-test":"go-to-next-step",children:(0,u.jsx)(B.Z,{id:"product.review.step.next"})})})]})})})};function Ke(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),t.push.apply(t,n)}return t}function Xe(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?Ke(Object(t),!0).forEach((function(i){(0,r.Z)(e,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ke(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}))}return e}var Ye=({fields:e})=>e.reduce(((e,i)=>i&&i.id?Xe(Xe({},e),{},{[i.id]:i}):e),{});const Je=e=>{const{currentState:i,errors:t,fields:a,valuesRef:r}=e,s=He(),o=(0,Z.T)(),{triggerEvent:d}=(0,T.FG)(),l=(0,ve.Ry)({nickname:(0,ve.Z_)().required(o("product.review.required.field")).max(25,o("product.review.maximum.characters",{max:25})),country:(0,ve.Z_)().required(o("product.review.required.field")),ageRange:(0,ve.Z_)().required(o("product.review.required.field")),bestDescription:(0,ve.Z_)(),purchasedFor:(0,ve.Z_)(),skillLevel:(0,ve.Z_)()}),[c,m,p,g,v]=(0,ye.c)(l,(null===r||void 0===r?void 0:r.current)||null);(0,n.useEffect)((()=>{Object.keys(t).length&&g(t)}),[t,g]);return(0,u.jsx)("form",{onSubmit:e=>{e.preventDefault(),v(),void 0!==r&&(r.current=c.values),c.isValid&&(s({type:"NEXT_STEP"}),d({label:"pdp-reviews-next-step-click",eventType:["custom"]}))},id:"about-section","aria-labelledby":"about-title",children:(0,u.jsx)(he.Z,{children:(0,u.jsxs)(je,{active:"about"===i,children:[(0,u.jsxs)(Ne,{children:[ze(a.nickname,m("nickname")),ze(a.country,m("country")),ze(a.ageRange,m("ageRange"))]}),(0,u.jsxs)(Ne,{children:[ze(a.bestDescription,m("bestDescription")),ze(a.purchasedFor,m("purchasedFor")),ze(a.skillLevel,m("skillLevel"))]}),(0,u.jsx)(Ce,{children:(0,u.jsx)(oe.Z,{type:"primary","data-test":"go-to-next-step",children:(0,u.jsx)(B.Z,{id:"product.review.step.next"})})})]})})})},ei=e=>{const{currentState:i,errors:t,fields:a,valuesRef:r}=e,s=He(),{triggerEvent:o}=(0,T.FG)(),d=(0,Z.T)(),l=(0,ve.Ry)({title:(0,ve.Z_)().max(50,d("product.review.maximum.characters",{max:50})).required(d("product.review.required.field")),reviewContent:(0,ve.Z_)().min(50,d("product.review.minimum.characters",{min:50})).required(d("product.review.required.field"))}),[c,m,p,g,v]=(0,ye.c)(l,(null===r||void 0===r?void 0:r.current)||null);(0,n.useEffect)((()=>{Object.keys(t).length&&g(t)}),[t,g]);return(0,u.jsx)("form",{onSubmit:e=>{e.preventDefault(),v(),void 0!==r&&(r.current=c.values),c.isValid&&(o({label:"pdp-reviews-next-step-click",eventType:["custom"]}),s({type:"NEXT_STEP"}))},id:"review-section","aria-labelledby":"review-title",children:(0,u.jsx)(he.Z,{children:(0,u.jsxs)(je,{active:"review"===i,children:[(0,u.jsxs)(Ne,{children:[ze(a.title,m("title")),ze(a.reviewContent,m("reviewContent"))]}),(0,u.jsx)(Ce,{children:(0,u.jsx)(oe.Z,{type:"primary","data-test":"go-to-next-step",children:(0,u.jsx)(B.Z,{id:"product.review.step.next"})})})]})})})};var ii=t(89644),ti=t.n(ii),ni=t(18042),ai=t(1583),ri=t(9160),si=t(18558);const oi={POSITIVE:"POSITIVE",NEGATIVE:"NEGATIVE"},di=(0,n.createContext)({submitReviewModalOpen:!1,openSubmitReviewModal:()=>{},closeSubmitReviewModal:()=>{},onRef:()=>{},bazaarvoiceToken:null}),li=(e,i,t,n)=>{if(null===e||void 0===e||!e.length){const e=`${t}?submit-review`;i.getInstance().login(n,e)}},ci=({children:e})=>{const{bazaarvoiceToken:i,email:t,fetched:r}=(0,F.v)(),{triggerEvent:s}=(0,T.FG)(),{locale:o,query:d,pathname:l}=(0,a.k)(),c=(0,n.useRef)(null),{0:m,1:p}=(0,n.useState)(!1),g=void 0!==d["submit-review"],v=(0,n.useCallback)((()=>{r&&(t?p(!0):(p(!1),li(i,P.Z,l,o)),s({label:"pdpWriteAReview",eventType:["custom"]}))}),[r,t,i,l,o,s]);return(0,n.useEffect)((()=>{if(r&&g){const e=P.Z.getInstance().isLoggedIn();e&&t?e&&v():li(i,P.Z,l,o)}}),[r,g,t,i,l,o,v]),(0,u.jsx)(di.Provider,{value:{submitReviewModalOpen:m,openSubmitReviewModal:v,closeSubmitReviewModal:()=>{p(!1),s({label:"pdp-reviews-pop-up-closed",eventType:["custom"]})},bazaarvoiceToken:i,onRef:e=>{e&&(c.current=e)}},children:e})};var mi=t(41892);const ui=W.ZP.section.withConfig({displayName:"PhotoStepstyles__Section",componentId:"sc-1555ew6-0"})(["border-top:1px solid ",";border-bottom:1px solid ",";margin-bottom:",";padding:"," 0;"],(e=>e.theme.color("grey_light")),(e=>e.theme.color("grey_light")),(e=>e.theme.sizing("xs")),(e=>e.theme.sizing("xs"))),pi=W.ZP.div.withConfig({displayName:"PhotoStepstyles__GuidelineContainer",componentId:"sc-1555ew6-1"})(["background-color:",";padding:",";"],(e=>e.theme.color("blue_extra_light")),(e=>e.theme.sizing("sm"))),gi=(0,W.ZP)(mi.Z).withConfig({displayName:"PhotoStepstyles__ConsentCheckbox",componentId:"sc-1555ew6-2"})(["margin-bottom:",";"],(e=>e.theme.sizing("sm"))),vi=W.ZP.ul.withConfig({displayName:"PhotoStepstyles__Previews",componentId:"sc-1555ew6-3"})(["max-width:100%;display:flex;flex-wrap:wrap;align-items:center;"]),hi=W.ZP.li.withConfig({displayName:"PhotoStepstyles__PreviewContainer",componentId:"sc-1555ew6-4"})(["position:relative;display:inline-block;max-width:33%;padding:0;margin-right:",";margin-bottom:",";border:1px solid ",";"],(e=>e.theme.sizing("sm")),(e=>e.theme.sizing("sm")),(e=>e.theme.color("grey_light"))),yi=W.ZP.button.withConfig({displayName:"PhotoStepstyles__PreviewRemove",componentId:"sc-1555ew6-5"})(["position:absolute;top:0;right:0;cursor:pointer;background:",";color:",";border-radius:50%;width:",";height:",";display:flex;align-items:center;justify-content:center;"],(e=>e.theme.color("black")),(e=>e.theme.color("white")),(e=>e.theme.sizing("xs")),(e=>e.theme.sizing("xs"))),ki=(0,W.ZP)(M.Z).withConfig({displayName:"PhotoStepstyles__SubHeader",componentId:"sc-1555ew6-6"})(["margin-top:0;"]),fi=W.ZP.div.withConfig({displayName:"PhotoStepstyles__UnorderedListWrapper",componentId:"sc-1555ew6-7"})(["ul{list-style-position:inside;margin:0;padding:0;li{list-style-type:disc;font-size:",";span{font-weight:",";}}}"],(e=>e.theme.sizing("xs")),(e=>e.theme.fontWeight("bold"))),bi=(W.ZP.div.withConfig({displayName:"PhotoStepstyles__ErrorText",componentId:"sc-1555ew6-8"})(["color:",";font-size:",";margin-bottom:",";"],(e=>e.theme.color("red")),(e=>e.theme.sizing("xs")),(e=>e.theme.sizing("3xs"))),({currentState:e,valuesRef:i,expires:t,signature:a,productCode:r,submitPreview:s,submissionLoading:o})=>{const{bazaarvoiceToken:d}=(0,n.useContext)(di),{0:l,1:c}=(0,n.useState)([]),{0:m,1:p}=(0,n.useState)(i.current.consent),{0:g,1:v}=(0,n.useState)(!1),{0:h,1:y}=(0,n.useState)(!1),{0:k,1:f}=(0,n.useState)(i.current.photoUrls),{triggerEvent:b}=(0,T.FG)(),w=(0,Z.T)();return(0,u.jsx)(he.Z,{children:(0,u.jsxs)(je,{active:"photo"===e,id:"photo-section","aria-labelledby":"photo-title",children:[(0,u.jsxs)(ui,{children:[(0,u.jsx)(gi,{checked:m,onChange:()=>p((e=>!e)),label:w("product.review.photo.image.consent")}),g?(0,u.jsx)(Se,{children:w("product.review.required.field")}):null,(0,u.jsx)(ni.Z,{disabled:!m||k.length>=6||h,onChange:async e=>{const n=e.target.files[0];if(!n)return void c([w("product.review.photo.error.file.missing")]);y(!0);const s=new FormData;s.append("file",n);try{const e=await ti()({url:x.default.bazaarvoice.imageUploadUrl,method:"POST",data:s,params:{signature:a,expires:t,productId:r,profileId:d},headers:{"content-type":"multipart/form-data"}});if(y(!1),e.data.errors)return void c([w("product.review.photo.error")]);const n=[...k,e.data.Url];f(n),i.current.photoUrls=n,c([])}catch(o){c([w("product.review.photo.error")]),y(!1)}},"data-test":"review-field-upload-photo-button",children:h?(0,u.jsx)(de.Z,{color:"white",size:"sm"}):(0,u.jsx)(B.Z,{id:"product.review.upload.image"})}),(null===k||void 0===k?void 0:k.length)>0&&(0,u.jsx)(vi,{children:k.map((e=>(0,u.jsxs)(hi,{children:[(0,u.jsx)(ai.ZP,{src:e,alt:"","data-test":"photo-preview"}),(0,u.jsx)(yi,{onClick:()=>(e=>{const t=k.filter((i=>i!==e));f(t),i.current.photoUrls=t})(e),"aria-label":w("product.review.photo.remove"),"data-test":"photo-remove",children:(0,u.jsx)(ri.Z,{type:"cross",width:10,height:10})})]},e)))}),l.length?l.map((e=>(0,u.jsx)(Se,{children:e},e))):null,(0,u.jsxs)(pi,{"data-test":"review-field-upload-photo-guidelines",children:[(0,u.jsx)(ki,{tag:"p",size:"s2",children:(0,u.jsx)(B.Z,{id:"product.review.photo.upload.guidelines.title"})}),(0,u.jsx)(fi,{children:(0,u.jsx)(si.Z,{markup:w("product.review.photo.upload.guidelines.content"),as:"div"})})]})]}),(0,u.jsx)(Ce,{children:(0,u.jsx)(oe.Z,{type:"primary","data-test":"go-to-preview",onClick:()=>{i.current={consent:m,photoUrls:k},k.length>0&&!m?v(!0):(v(!1),b({label:"pdp-reviews-preview-click",eventType:["custom"]}),s())},disabled:o,children:o?(0,u.jsx)(de.Z,{color:"white",size:"sm"}):(0,u.jsx)(B.Z,{id:"product.review.go.to.preview"})})})]})})});var wi=t(81233);W.ZP.div.withConfig({displayName:"StepTitlestyles__Wrapper",componentId:"sc-znmyrf-0"})(["display:",";"],(e=>e.active?"block":"none"));const xi=W.ZP.div.withConfig({displayName:"StepTitlestyles__Container",componentId:"sc-znmyrf-1"})(["display:flex;align-items:center;justify-content:space-between;padding:",";margin-bottom:",";background-color:",";"],(e=>e.theme.sizing("sm")),(e=>e.isActive?e.theme.sizing("sm"):0),(e=>e.isActive?"transparent":e.theme.color("grey_extra_light"))),Ni=W.ZP.h3.withConfig({displayName:"StepTitlestyles__Title",componentId:"sc-znmyrf-2"})(["text-transform:uppercase;font-weight:",";margin:0 auto 0 ",";color:",";overflow:hidden;"],(({theme:e})=>e.fontWeight("semiBold")),(e=>e.theme.sizing("3xs")),(e=>e.isActive?"inherit":e.theme.color("grey_medium"))),Si=(0,W.ZP)(oe.Z).withConfig({displayName:"StepTitlestyles__EditButton",componentId:"sc-znmyrf-3"})(["color:",";font-weight:",";",";"],(e=>e.theme.color("blue")),(e=>e.theme.fontWeight("semiBold")),(e=>e.theme.font("s0"))),ji=({step:e,isActive:i,totalSteps:t,changeStep:n,title:a,stepName:r,hasSuccess:s})=>{const o=i?"display":s?"success":"disabled";return(0,u.jsxs)(xi,{id:`${r}-title`,isActive:i,"aria-expanded":i,children:[(0,u.jsx)(wi.Z,{type:o,children:e}),(0,u.jsx)(Ni,{isActive:i,children:a}),i?(0,u.jsx)(M.Z,{color:"grey",tag:"span",children:(0,u.jsx)(B.Z,{id:"product.review.step.title",values:{currentStep:e,totalSteps:t}})}):s?(0,u.jsx)(Si,{type:"link","aria-controls":`${r}-section`,onClick:n,children:(0,u.jsx)(B.Z,{id:"product.review.step.edit"})}):null]})};var Pi=t(58326),_i=t(20174),Ci=t(10969);const Ii=W.ZP.div.withConfig({displayName:"Previewstyles__Container",componentId:"sc-1edtqdd-0"})(["padding:",";position:relative;width:100%;height:100%;",";"],(e=>e.theme.sizing("sm")),(e=>e.theme.media.min("medium")((0,W.iv)(["min-height:80vh;width:",";"],(0,Ci.hO)(500))))),Zi=(0,W.ZP)(oe.Z).withConfig({displayName:"Previewstyles__ButtonLink",componentId:"sc-1edtqdd-1"})(["display:flex;align-items:center;padding-bottom:",";border-bottom:1px solid ",";color:",";",";& > svg{margin-right:",";}"],(e=>e.theme.sizing("xxs")),(e=>e.theme.color("grey_light")),(e=>e.theme.color("blue")),(e=>e.theme.font("s0")),(e=>e.theme.sizing("3xs"))),Oi=(0,W.ZP)(ae.Z).withConfig({displayName:"Previewstyles__StyledRatingBar",componentId:"sc-1edtqdd-2"})(["margin-bottom:",";"],(e=>e.theme.sizing("xs"))),Fi=W.ZP.div.withConfig({displayName:"Previewstyles__Gallery",componentId:"sc-1edtqdd-3"})(["padding-top:",";padding-bottom:",";max-width:100%;display:flex;flex-wrap:wrap;align-items:center;"],(e=>e.theme.sizing("xs")),(e=>e.theme.sizing("xs"))),Ti=(0,W.ZP)(ai.ZP).withConfig({displayName:"Previewstyles__ImageGallery",componentId:"sc-1edtqdd-4"})(["max-width:33%;padding:0;margin-right:",";margin-bottom:",";border:1px solid ",";"],(e=>e.theme.sizing("sm")),(e=>e.theme.sizing("sm")),(e=>e.theme.color("grey_light"))),Ri=W.ZP.div.withConfig({displayName:"Previewstyles__ActionContainer",componentId:"sc-1edtqdd-5"})(["border-top:2px solid ",";padding:"," 0;display:flex;justify-content:flex-end;"],(e=>e.theme.color("grey_light")),(e=>e.theme.sizing("sm"))),zi=({reviewFields:e,submitReview:i,backToEdit:t,submissionLoading:n})=>{const{rating:a,buildExperience:r,playExperience:s,valueForMoney:o,wouldRecommend:d,incentivizedReview:l,legoEmployee:c,nickname:m,countryLabel:p,ageRange:g,bestDescription:v,purchasedFor:h,skillLevel:y,title:k,reviewContent:f,photos:b}=e,w=(0,Z.T)();return(0,u.jsxs)(Ii,{"data-test":"review-preview-container",children:[(0,u.jsxs)(Zi,{type:"link",onClick:t,"data-test":"review-preview-back-to-editing",children:[(0,u.jsx)(Pi.Z,{chevronDirection:"left",width:15,height:15}),(0,u.jsx)(B.Z,{id:"product.review.back.to.editing"})]}),(0,u.jsx)(M.Z,{tag:"p",size:"s0",weight:"semiBold",uppercase:!0,children:(0,u.jsx)(B.Z,{id:"product.review.review.preview"})}),(0,u.jsxs)(Ne,{"data-test":"review-preview-rating-fields",children:[(0,u.jsx)(Oi,{label:w("product.review.overall.rating"),mode:"display",rating:a,type:"bricks",size:"lg","data-test":"review-preview-rating-rating",hideOutput:!0}),r?(0,u.jsx)(Oi,{label:w("product.review.rating.build.experience"),mode:"display",rating:r,type:"bricks",size:"lg","data-test":"review-preview-rating-buildExperience",hideOutput:!0}):null,s?(0,u.jsx)(Oi,{label:w("product.review.rating.play"),mode:"display",rating:s,type:"bricks",size:"lg","data-test":"review-preview-rating-playExperience",hideOutput:!0}):null,o?(0,u.jsx)(Oi,{label:w("product.review.rating.price"),mode:"display",rating:o,type:"bricks",size:"lg","data-test":"review-preview-rating-valueForMoney",hideOutput:!0}):null,d&&(0,u.jsx)(M.Z,{tag:"p",size:"s0",color:"green","data-test":"review-preview-rating-wouldRecommend",children:(0,u.jsx)(B.Z,{id:"product.details.reviews.user.would.recommend"})}),l&&(0,u.jsxs)("p",{"data-test":"review-preview-rating-incentivizedReview",children:[(0,u.jsxs)(M.Z,{size:"s0",weight:"semiBold",children:[(0,u.jsx)(B.Z,{id:"product.review.received.free"}),":"]})," ",(0,u.jsx)(B.Z,{id:"common.yes"})]}),c&&(0,u.jsxs)("p",{"data-test":"review-preview-rating-legoEmployee",children:[(0,u.jsxs)(M.Z,{size:"s0",weight:"semiBold",children:[(0,u.jsx)(B.Z,{id:"product.review.lego.employee"}),":"]})," ",(0,u.jsx)(B.Z,{id:"common.yes"})]})]}),(0,u.jsxs)(Ne,{"data-test":"review-preview-about-me-fields",children:[(0,u.jsxs)("p",{"data-test":"review-preview-about-me-nickname",children:[(0,u.jsxs)(M.Z,{size:"s0",weight:"semiBold",children:[(0,u.jsx)(B.Z,{id:"product.review.nickname"}),":"]})," ",m]}),(0,u.jsxs)("p",{"data-test":"review-preview-about-me-country",children:[(0,u.jsxs)(M.Z,{size:"s0",weight:"semiBold",children:[(0,u.jsx)(B.Z,{id:"product.review.country"}),":"]})," ",p]}),(0,u.jsxs)("p",{"data-test":"review-preview-about-me-age",children:[(0,u.jsxs)(M.Z,{size:"s0",weight:"semiBold",children:[(0,u.jsx)(B.Z,{id:"product.review.age"}),":"]})," ",(0,u.jsx)(B.Z,{id:`product.review.age.${g.toLowerCase()}`})]}),v&&(0,u.jsxs)("p",{"data-test":"review-preview-about-me-bestDescription",children:[(0,u.jsxs)(M.Z,{size:"s0",weight:"semiBold",children:[(0,u.jsx)(B.Z,{id:"product.review.best.description"}),":"]})," ",v]}),h&&(0,u.jsxs)("p",{"data-test":"review-preview-about-me-purchasedFor",children:[(0,u.jsxs)(M.Z,{size:"s0",weight:"semiBold",children:[(0,u.jsx)(B.Z,{id:"product.review.purchased.for"}),":"]})," ",h]}),y&&(0,u.jsxs)("p",{"data-test":"review-preview-about-me-skillLevel",children:[(0,u.jsxs)(M.Z,{size:"s0",weight:"semiBold",children:[(0,u.jsx)(B.Z,{id:"product.review.skill.level"}),":"]})," ",y]})]}),(0,u.jsx)(M.Z,{tag:"p",size:"s1",weight:"semiBold","data-test":"review-preview-title",children:k}),(0,u.jsx)(_i.Z,{breakpoint:9999,lineHeight:"s0",fontSize:"s0",maxLines:8,text:f,"data-test":"review-preview-content"}),b&&(0,u.jsx)(Fi,{"data-test":"review-preview-photo-gallery",children:b.map(((e,i)=>(0,u.jsx)(Ti,{src:e,"data-test":`review-preview-photo-${i}`},e)))}),(0,u.jsx)(Ri,{children:(0,u.jsx)(oe.Z,{"data-test":"submit-preview",onClick:()=>{i()},disabled:n,children:n?(0,u.jsx)(de.Z,{color:"white",size:"sm"}):(0,u.jsx)(B.Z,{id:"product.review.submit.review"})})})]})},Di={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SubmitReview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"preview"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"productCode"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"rating"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"wouldRecommend"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"incentivizedReview"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"legoEmployee"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"playExperience"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"buildExperience"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"valueForMoney"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"purchasedFor"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"reviewContent"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"title"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"nickname"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"ageRange"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"bestDescription"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"skillLevel"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"country"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"photos"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fp"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"submitReview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"preview"},value:{kind:"Variable",name:{kind:"Name",value:"preview"}}},{kind:"ObjectField",name:{kind:"Name",value:"productCode"},value:{kind:"Variable",name:{kind:"Name",value:"productCode"}}},{kind:"ObjectField",name:{kind:"Name",value:"rating"},value:{kind:"Variable",name:{kind:"Name",value:"rating"}}},{kind:"ObjectField",name:{kind:"Name",value:"wouldRecommend"},value:{kind:"Variable",name:{kind:"Name",value:"wouldRecommend"}}},{kind:"ObjectField",name:{kind:"Name",value:"incentivizedReview"},value:{kind:"Variable",name:{kind:"Name",value:"incentivizedReview"}}},{kind:"ObjectField",name:{kind:"Name",value:"legoEmployee"},value:{kind:"Variable",name:{kind:"Name",value:"legoEmployee"}}},{kind:"ObjectField",name:{kind:"Name",value:"playExperience"},value:{kind:"Variable",name:{kind:"Name",value:"playExperience"}}},{kind:"ObjectField",name:{kind:"Name",value:"buildExperience"},value:{kind:"Variable",name:{kind:"Name",value:"buildExperience"}}},{kind:"ObjectField",name:{kind:"Name",value:"valueForMoney"},value:{kind:"Variable",name:{kind:"Name",value:"valueForMoney"}}},{kind:"ObjectField",name:{kind:"Name",value:"purchasedFor"},value:{kind:"Variable",name:{kind:"Name",value:"purchasedFor"}}},{kind:"ObjectField",name:{kind:"Name",value:"reviewContent"},value:{kind:"Variable",name:{kind:"Name",value:"reviewContent"}}},{kind:"ObjectField",name:{kind:"Name",value:"title"},value:{kind:"Variable",name:{kind:"Name",value:"title"}}},{kind:"ObjectField",name:{kind:"Name",value:"nickname"},value:{kind:"Variable",name:{kind:"Name",value:"nickname"}}},{kind:"ObjectField",name:{kind:"Name",value:"ageRange"},value:{kind:"Variable",name:{kind:"Name",value:"ageRange"}}},{kind:"ObjectField",name:{kind:"Name",value:"bestDescription"},value:{kind:"Variable",name:{kind:"Name",value:"bestDescription"}}},{kind:"ObjectField",name:{kind:"Name",value:"skillLevel"},value:{kind:"Variable",name:{kind:"Name",value:"skillLevel"}}},{kind:"ObjectField",name:{kind:"Name",value:"country"},value:{kind:"Variable",name:{kind:"Name",value:"country"}}},{kind:"ObjectField",name:{kind:"Name",value:"photos"},value:{kind:"Variable",name:{kind:"Name",value:"photos"}}},{kind:"ObjectField",name:{kind:"Name",value:"fp"},value:{kind:"Variable",name:{kind:"Name",value:"fp"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"preview"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"success"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"formErrors"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"field"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:1328,source:{body:"\n  mutation SubmitReview(\n    $preview: Boolean!\n    $productCode: String!\n    $rating: Int!\n    $wouldRecommend: Boolean!\n    $incentivizedReview: Boolean!\n    $legoEmployee: Boolean!\n    $playExperience: Int\n    $buildExperience: Int\n    $valueForMoney: Int\n    $purchasedFor: String\n    $reviewContent: String!\n    $title: String!\n    $nickname: String!\n    $ageRange: String!\n    $bestDescription: String\n    $skillLevel: String\n    $country: String\n    $photos: [String!]\n    $fp: String!\n  ) {\n    submitReview(\n      input: {\n        preview: $preview\n        productCode: $productCode\n        rating: $rating\n        wouldRecommend: $wouldRecommend\n        incentivizedReview: $incentivizedReview\n        legoEmployee: $legoEmployee\n        playExperience: $playExperience\n        buildExperience: $buildExperience\n        valueForMoney: $valueForMoney\n        purchasedFor: $purchasedFor\n        reviewContent: $reviewContent\n        title: $title\n        nickname: $nickname\n        ageRange: $ageRange\n        bestDescription: $bestDescription\n        skillLevel: $skillLevel\n        country: $country\n        photos: $photos\n        fp: $fp\n      }\n    ) {\n      preview\n      success\n      formErrors {\n        field\n        message\n        code\n      }\n      error {\n        message\n        code\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};var Vi=t(25274),Ei=t(16758);const Ai=W.ZP.div.withConfig({displayName:"SubmissionContainerstyles__Header",componentId:"sc-747kam-0"})(["margin-bottom:",";padding:",";padding-bottom:0;display:flex;align-items:center;",""],(e=>e.theme.sizing("xs")),(e=>e.theme.sizing("sm")),(e=>e.theme.media.max("small")((0,W.iv)(["margin:0;"])))),Mi=W.ZP.div.withConfig({displayName:"SubmissionContainerstyles__Footer",componentId:"sc-747kam-1"})(["padding:"," ",";display:flex;",""],(e=>e.theme.sizing("sm")),(e=>e.theme.sizing("sm")),(e=>e.theme.media.max("small")((0,W.iv)(["flex-direction:column;align-items:flex-start;"])))),Bi=(0,W.ZP)(Ei.Z).withConfig({displayName:"SubmissionContainerstyles__StyledLink",componentId:"sc-747kam-2"})(["margin-right:",";text-transform:uppercase;"],(e=>e.theme.sizing("xs"))),$i=(0,W.ZP)(ai.ZP).withConfig({displayName:"SubmissionContainerstyles__Img",componentId:"sc-747kam-3"})(["max-width:calc(50% - ",");margin-right:",";"," ",""],(e=>e.theme.sizing("xs")),(e=>e.theme.sizing("xs")),(e=>e.theme.media.max("small")((0,W.iv)(["width:",";"],(0,Ci.hO)(125)))),(e=>e.theme.media.max("small")((0,W.iv)(["margin:0;"])))),Li=W.ZP.div.withConfig({displayName:"SubmissionContainerstyles__Wrapper",componentId:"sc-747kam-4"})(["border-top:1px solid ",";border-bottom:1px solid ",";padding:"," 0;"],(e=>e.theme.color("grey_light")),(e=>e.theme.color("grey_light")),(e=>e.theme.sizing("sm"))),Wi=W.ZP.div.withConfig({displayName:"SubmissionContainerstyles__ContentWrapper",componentId:"sc-747kam-5"})(["position:relative;width:100%;height:100%;",";"],(e=>e.theme.media.min("medium")((0,W.iv)(["min-height:80vh;width:",";"],(0,Ci.hO)(500))))),Ui=W.ZP.div.withConfig({displayName:"SubmissionContainerstyles__CentreSpinner",componentId:"sc-747kam-6"})(["position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);"]),Gi=W.ZP.div.withConfig({displayName:"SubmissionContainerstyles__NotifySubmitWrapper",componentId:"sc-747kam-7"})(["padding:"," ",";"],(e=>e.theme.sizing("ms")),(e=>e.theme.sizing("xl"))),qi=(0,W.ZP)(M.Z).withConfig({displayName:"SubmissionContainerstyles__NotifySubmitHeader",componentId:"sc-747kam-8"})(["margin:0;"]),Hi=(0,W.ZP)(ri.Z).withConfig({displayName:"SubmissionContainerstyles__StyledIcon",componentId:"sc-747kam-9"})(["display:inline-block;vertical-align:middle;color:",";border-radius:50%;border:2px solid ",";background-color:",";padding:",";height:",";width:",";margin-right:",";"],(e=>e.theme.color("white")),(e=>e.theme.color("white")),(e=>e.theme.color(e.hasError?"red":"green")),(e=>e.theme.sizing("xxs")),(e=>e.theme.sizing("xl")),(e=>e.theme.sizing("xl")),(e=>e.theme.sizing("xxs"))),Qi=(0,W.ZP)(oe.Z).withConfig({displayName:"SubmissionContainerstyles__NotifySubmitButton",componentId:"sc-747kam-10"})(["margin-left:auto;display:block;padding:"," ",";"],(e=>e.theme.sizing("3xs")),(e=>e.theme.sizing("ms"))),Ki=W.ZP.div.withConfig({displayName:"SubmissionContainerstyles__ToastWrapper",componentId:"sc-747kam-11"})(["position:absolute;left:0;right:0;top:0;bottom:0;"]),Xi=(0,W.ZP)(Vi.Z).withConfig({displayName:"SubmissionContainerstyles__StyledToastHeader",componentId:"sc-747kam-12"})(["position:sticky;top:0;left:0;width:100%;",""],(e=>e.theme.zIndex("medium")));function Yi(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),t.push.apply(t,n)}return t}function Ji(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?Yi(Object(t),!0).forEach((function(i){(0,r.Z)(e,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Yi(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}))}return e}const et={id:"Review Form",initial:"open",states:{open:{on:{NEXT_STEP:"rating"}},rating:{on:{NEXT_STEP:"about",EDIT_RATING:"rating"}},about:{on:{NEXT_STEP:"review",EDIT_RATING:"rating"}},review:{on:{NEXT_STEP:"photo",EDIT_RATING:"rating",EDIT_ABOUT:"about"}},photo:{on:{NEXT_STEP:"preview",EDIT_RATING:"rating",EDIT_ABOUT:"about",EDIT_REVIEW:"review"}},preview:{on:{BACK_TO_EDIT:"photo",SUCCESS:"complete"}},complete:{on:{}}}},it=["rating","about","review","photo"],tt=it.length,nt=({fields:e,productCode:i,productName:t,primaryImage:a,expires:r,signature:s})=>{var o,d;const{notification:l,displayNotification:c}=(0,n.useContext)(ue.Z),{submitReviewModalOpen:m,closeSubmitReviewModal:p}=(0,n.useContext)(di),g=(0,F.v)(),v=(0,Z.T)(),{triggerEvent:h}=(0,T.FG)(),[y,k,f]=qe(et),[b,{loading:N,data:S,error:j}]=(0,w.Db)(Di);(0,n.useEffect)((()=>{m&&"open"===y&&k({type:"NEXT_STEP"})}),[m,y,k]);const P=(0,n.useRef)(null);(0,le.T)((()=>{it.includes(y)&&P.current&&P.current.scrollIntoView&&P.current.scrollIntoView(!0)}),[y]);const _=(0,n.useRef)(""),C=x.default.iovation.scriptUrl;(0,ce.F)((()=>{window.io_install_stm=!1,window.io_exclude_stm=12,window.io_install_flash=!1,window.io_enable_rip=!0}));const[I,O]=(0,pe.Z)(C),R=()=>{if(I&&""===_.current){const e=(0,ge.Z)()||"";_.current=encodeURIComponent(e),de&&(de.fp=_.current)}};(0,n.useEffect)((()=>{R()}),[I,O]);const z=(0,n.useRef)({wouldRecommend:"",incentivizedReview:"no",legoEmployee:"no",rating:"",playExperience:"",valueForMoney:"",buildExperience:""}),{0:D,1:V}=(0,n.useState)({}),E=(0,n.useRef)({nickname:(null===e||void 0===e||null===(o=e.nickname)||void 0===o?void 0:o.value)||(null===g||void 0===g?void 0:g.username)||"",ageRange:"",country:"",bestDescription:"",purchasedFor:"",skillLevel:""}),{0:A,1:$}=(0,n.useState)({}),L=(0,n.useRef)({title:"",reviewContent:""}),{0:W,1:U}=(0,n.useState)({}),G=(0,n.useRef)({consent:!1,photoUrls:[]});(0,n.useEffect)((()=>{if(!N&&null!==S&&void 0!==S&&S.submitReview){const{success:e,preview:i,formErrors:t,error:n}=S.submitReview;if(e&&i)return void k({type:"NEXT_STEP"});if(e&&!1===i)return k({type:"SUCCESS"}),void h({label:"pdp-reviews-submit",eventType:["custom"]});if(n&&c({type:"error",message:n.message,isModalOpen:!0}),t){const e={},i={},n={};t.forEach((t=>{void 0!==z.current[t.field]&&(e[t.field]=t.message),void 0!==E.current[t.field]&&(i[t.field]=t.message),void 0!==L.current[t.field]&&(n[t.field]=t.message)})),V(e),$(i),U(n);const a=Object.keys(e).length,r=Object.keys(i).length,s=Object.keys(n).length;a?k({type:"EDIT_RATING"}):r?k({type:"EDIT_ABOUT"}):s&&k({type:"EDIT_REVIEW"})}}}),[S,N,j,k,h,c]);const{rating:q,playExperience:H,valueForMoney:Q,buildExperience:K}=z.current,{reviewContent:X,title:Y}=L.current,{nickname:J,ageRange:ee,country:ie,bestDescription:te,purchasedFor:ne,skillLevel:ae}=E.current,re="yes"===z.current.wouldRecommend,se="yes"===z.current.incentivizedReview,oe="yes"===z.current.legoEmployee,de={productCode:i,rating:Number(q),wouldRecommend:re,incentivizedReview:se,legoEmployee:oe,playExperience:"number"===typeof H?H:null,valueForMoney:"number"===typeof Q?Q:null,buildExperience:"number"===typeof K?K:null,purchasedFor:ne,reviewContent:X,title:Y,nickname:J,ageRange:ee,bestDescription:te,skillLevel:ae,country:ie,photos:G.current.photoUrls,fp:_.current},ve=(null===(d=e.country.options.find((e=>e.value===ie)))||void 0===d?void 0:d.label)||"";return(0,u.jsxs)(f,{children:[(null===l||void 0===l?void 0:l.isVisible)&&(null===l||void 0===l?void 0:l.isModalOpen)&&(0,u.jsx)(Ki,{children:(0,u.jsx)(Xi,{type:l.type,message:l.message})}),"preview"===y&&(0,u.jsx)(zi,{backToEdit:()=>k({type:"BACK_TO_EDIT"}),submitReview:()=>{R(),b({variables:Ji(Ji({},de),{},{preview:!1,agreedtotermsandconditions:!0})}).catch((()=>{c({type:"error",message:"product.review.error",isModalOpen:!0})}))},reviewFields:Ji(Ji({},de),{},{countryLabel:ve}),submissionLoading:N}),"complete"===y&&(0,u.jsxs)(Gi,{children:[(0,u.jsxs)(qi,{tag:"h3",size:"s0",weight:"bold",children:[(0,u.jsx)(Hi,{type:"tick"}),(0,u.jsx)(B.Z,{id:"product.review.successful.submission.title"})]}),(0,u.jsx)(M.Z,{tag:"p",size:"sm",children:(0,u.jsx)(B.Z,{id:"product.review.successful.submission.text"})}),(0,u.jsx)(Qi,{onClick:()=>{p()},"data-test":"review-success-confirm-button",children:(0,u.jsx)(B.Z,{id:"product.review.successful.submission.cta"})})]}),"preview"!==y&&"complete"!==y&&(0,u.jsxs)(Wi,{ref:P,children:[(0,u.jsxs)(Ai,{children:[(0,u.jsx)($i,{src:a,alt:""}),(0,u.jsx)(M.Z,{size:"s2",weight:"semiBold",children:t})]}),(0,u.jsxs)(Li,{children:[(0,u.jsx)(ji,{changeStep:()=>k({type:"EDIT_RATING"}),isActive:"rating"===y,hasSuccess:it.findIndex((e=>e===y))>0,step:1,title:v("product.review.step.rating.title"),totalSteps:tt,stepName:"rating"}),(0,u.jsx)(Qe,{currentState:y,errors:D,fields:e,valuesRef:z}),(0,u.jsx)(ji,{changeStep:()=>k({type:"EDIT_ABOUT"}),isActive:"about"===y,hasSuccess:it.findIndex((e=>e===y))>1,step:2,title:v("product.review.step.about.title"),totalSteps:tt,stepName:"about"}),(0,u.jsx)(Je,{currentState:y,errors:A,fields:e,valuesRef:E}),(0,u.jsx)(ji,{changeStep:()=>k({type:"EDIT_REVIEW"}),isActive:"review"===y,hasSuccess:it.findIndex((e=>e===y))>2,step:3,title:v("product.review.step.review.title"),totalSteps:tt,stepName:"review"}),(0,u.jsx)(ei,{currentState:y,errors:W,fields:e,valuesRef:L}),(0,u.jsx)(ji,{changeStep:()=>k({type:"NEXT_STEP"}),isActive:"photo"===y,hasSuccess:it.findIndex((e=>e===y))>3,step:4,title:v("product.review.step.photo.title"),totalSteps:tt,stepName:"photo"}),(0,u.jsx)(bi,{currentState:y,errors:W,fields:e,valuesRef:G,expires:r,signature:s,productCode:i,submissionLoading:N,submitPreview:()=>{R(),b({variables:Ji(Ji({},de),{},{preview:!0,agreedtotermsandconditions:!0})}).catch((()=>{c({type:"error",message:"product.review.error",isModalOpen:!0})}))}})]}),(0,u.jsxs)(Mi,{children:[(0,u.jsx)(Bi,{to:me.y.BV_REVIEW_TERMS_AND_CONDITIONS,target:"_blank",rel:"noopener noreferrer","data-test":"review-terms-conditions-link",children:(0,u.jsx)(B.Z,{id:"product.review.terms"})}),(0,u.jsx)(Bi,{to:me.y.BV_REVIEW_GUIDELINES,target:"_blank",rel:"noopener noreferrer","data-test":"review-guidelines-link",children:(0,u.jsx)(B.Z,{id:"product.review.guidelines"})})]})]})]})},at={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"reviewFields"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"productCode"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviewFields"},arguments:[{kind:"Argument",name:{kind:"Name",value:"productCode"},value:{kind:"Variable",name:{kind:"Name",value:"productCode"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"required"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"BVAuth"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"signature"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expires"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:363,source:{body:"\n  query reviewFields($productCode: String!) {\n    reviewFields(productCode: $productCode) {\n      error {\n        message\n        code\n      }\n      fields {\n        id\n        value\n        label\n        options {\n          label\n          value\n        }\n        type\n        required\n      }\n      BVAuth {\n        signature\n        expires\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},rt=e=>{var i,t,a;const{productCode:r,productName:s,primaryImage:o}=e,{closeSubmitReviewModal:d}=(0,n.useContext)(di),{data:l,loading:c,error:m}=(0,w.aM)(at,{variables:{productCode:r},fetchPolicy:"network-only"});if(!r)return null;if(c)return(0,u.jsx)(Wi,{children:(0,u.jsx)(Ui,{children:(0,u.jsx)(de.Z,{size:3,color:"yellow"})})});if(m||null!==l&&void 0!==l&&null!==(i=l.reviewFields)&&void 0!==i&&i.error){var p,g,v,h;const e="ERROR_DUPLICATE_SUBMISSION"!==(null===l||void 0===l||null===(p=l.reviewFields)||void 0===p||null===(g=p.error)||void 0===g?void 0:g.code);return(0,u.jsxs)(Gi,{children:[e&&(0,u.jsxs)(qi,{tag:"p",size:"s0",weight:"bold",children:[(0,u.jsx)(Hi,{type:"cross",hasError:!0}),(0,u.jsx)(B.Z,{id:"product.review.error"})]}),(0,u.jsx)(M.Z,{tag:"p",size:"sm",children:m?(0,u.jsx)(B.Z,{id:"product.review.error"}):null===l||void 0===l||null===(v=l.reviewFields)||void 0===v||null===(h=v.error)||void 0===h?void 0:h.message}),(0,u.jsx)(Qi,{onClick:()=>{d()},children:(0,u.jsx)(B.Z,{id:"common.close"})})]})}if(null===l||void 0===l||null===(t=l.reviewFields)||void 0===t||null===(a=t.fields)||void 0===a||!a.length)return null;const y=Ye(l.reviewFields);return(0,u.jsx)(nt,{productCode:r,productName:s,primaryImage:o,fields:y,signature:l.reviewFields.BVAuth.signature,expires:l.reviewFields.BVAuth.expires,user:l.reviewFields.BVAuth.user})};var st=({productCode:e,productName:i,primaryImage:t})=>{const{submitReviewModalOpen:a,openSubmitReviewModal:r,closeSubmitReviewModal:s}=(0,n.useContext)(di),o=(0,Z.T)();return(0,u.jsx)(se.Z,{isOpen:a,onRequestClose:s,renderTrigger:({onRef:e})=>(0,u.jsx)(oe.Z,{onClick:()=>{r()},innerRef:e,type:"primary","data-test":"submit-review",children:(0,u.jsx)(B.Z,{id:"product.reviews.submit"})}),label:o("product.reviews.submit"),closeLabel:o("element.modal.closeLabel"),children:(0,u.jsx)(rt,{productCode:e,productName:i,primaryImage:t})})};var ot=function({productCode:e,productName:i,primaryImage:t}){return(0,u.jsx)(Y,{all:"xs",children:(0,u.jsx)(st,{productCode:e,productName:i,primaryImage:t})})};const dt=(0,W.ZP)(ae.Z).withConfig({displayName:"OverallRating__StyledRatingBar",componentId:"sc-1rcei4l-0"})(["margin-right:"," 0;"],(e=>e.theme.sizing("4xs")));var lt=({overallRating:e,totalResults:i})=>{const t=(0,Z.T)();return(0,u.jsxs)(te,{bottom:"xs",top:"xs",children:[e?(0,u.jsx)(dt,{size:"md",mode:"display",type:"stars",label:t("product.details.reviews.overallRating"),rating:e}):null,i?(0,u.jsx)($.Z,{left:"xxs",children:(0,u.jsxs)(M.Z,{"data-test":"product-reviews-overview-label",children:[`(${i} `,(0,u.jsx)(B.Z,{id:"product.details.reviews.reviews"}),")"]})}):null]})},ct=t(10388);const mt=(e,i)=>e/i*100||0;var ut=({starRating:e,toggleFilter:i,reviewFilters:t,totalResults:n})=>(0,u.jsxs)($.Z,{right:"ms",children:[(0,u.jsx)(K,{size:"s0",tag:"h3",children:(0,u.jsx)(B.Z,{id:"product.details.reviews.ratings"})}),e.map(((e,a)=>{const r=b()(e,(e=>e.value))||5-a,s=b()(e,(e=>e.count))||0,o=0===s;return(0,u.jsxs)(q,{"data-test":`pdp-reviews-${r}-percentage-bar`,disabled:o,onClick:()=>{o||i(r)},selected:!o&&t.includes(r),children:[(0,u.jsxs)(M.Z,{children:[5-a+" ",(0,u.jsx)(B.Z,{id:"product.details.reviews.stars"})]}),(0,u.jsx)(H,{children:(0,u.jsx)(ct.Z,{fill:mt(s,n)})}),`${s} `,(0,u.jsx)(B.Z,{id:"product.details.reviews.reviews"})]},e.value)}))]});class pt extends n.Component{constructor(...e){super(...e),(0,r.Z)(this,"toggleFilter",(e=>{this.props.reviewFilters.includes(e)?this.props.removeReviewFilter(e):this.props.addReviewFilter(e)}))}render(){const{productReviews:e,reviewFilters:i,productCode:t,productName:n,primaryImage:a,isOver16yo:r}=this.props,s=e.statistics,o=b()(s,(e=>e.overallRating)),d=b()(s,(e=>e.count))||0,l=b()(s,(e=>e.wouldRecommendPercent)),c=b()(s,(e=>e.overallPlayExperience)),m=b()(s,(e=>e.overallDifficulty)),p=b()(s,(e=>e.valueForMoney)),g=b()(s,(e=>e.ratingDistribution))||[],v=Array.from({length:5},((e,i)=>5-i)).map((e=>g.find((i=>i.value===e))||{value:e,count:0}));return(0,u.jsxs)(u.Fragment,{children:[0===d&&r&&(0,u.jsxs)(ie,{children:[(0,u.jsx)(M.Z,{size:"sm1",children:(0,u.jsx)(B.Z,{id:"product.details.reviewsFirstSubmit"})}),(0,u.jsx)($.Z,{top:"xs",left:"xs"}),(0,u.jsx)(st,{productCode:t,productName:n,primaryImage:a})]}),0!==d&&(0,u.jsxs)(ee,{children:[(0,u.jsxs)(ne,{children:[(0,u.jsx)(lt,{overallRating:o,totalResults:d}),l?(0,u.jsxs)(M.Z,{color:"green",children:[`${l}% `,(0,u.jsx)(B.Z,{id:"product.details.reviews.wouldRecommendMessage"})]}):null,(0,u.jsxs)(Q,{top:"ms",bottom:"xs",children:[(0,u.jsx)(ut,{starRating:v,toggleFilter:this.toggleFilter,reviewFilters:i,totalResults:d}),(0,u.jsx)(re,{overallPlayExperience:c,overallDifficulty:m,valueForMoney:p})]})]}),r&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(ot,{productName:n,primaryImage:a,productCode:t}),(0,u.jsx)(J,{children:(0,u.jsx)(M.Z,{size:"sm1",children:(0,u.jsx)(L.Z,{id:"product.details.reviews.disclaimer"})})})]})]})]})}}(0,r.Z)(pt,"fragments",{productReviews:{kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ProductReviewsOverview_Reviews"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProductReviews"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"statistics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"overallRating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"valueForMoney"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"offset"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"limit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"overallDifficulty"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"overallPlayExperience"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"wouldRecommendPercent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ratingDistribution"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:378,source:{body:"\n      fragment ProductReviewsOverview_Reviews on ProductReviews {\n        statistics {\n          count\n          overallRating\n          valueForMoney\n          offset\n          limit\n          overallDifficulty\n          overallPlayExperience\n          wouldRecommendPercent\n          ratingDistribution {\n            value\n            count\n          }\n        }\n      }\n    ",name:"GraphQL request",locationOffset:{line:1,column:1}}}}});var gt=t(53978),vt=t(10397);const ht={DATE_NEWEST_FIRST:"",DATE_OLDEST_FIRST:"",HELPFULNESS_HIGH_TO_LOW:"",MOST_RELEVANT:"",PHOTO_REVIEWS_FIRST:"",RATING_HIGH_TO_LOW:"",RATING_LOW_TO_HIGH:"",VIDEO_REVIEWS_FIRST:""},yt=W.ZP.div.withConfig({displayName:"ProductReviewsDisplaystyles__Filters",componentId:"sc-ywfv5c-0"})(["display:flex;flex-wrap:wrap;align-items:center;"]),kt=W.ZP.div.withConfig({displayName:"ProductReviewsDisplaystyles__SelectWrapper",componentId:"sc-ywfv5c-1"})(["padding-bottom:",";display:flex;"],(e=>e.theme.sizing("xs")));var ft=t(76103),bt=t(53842);const wt=(0,W.ZP)(M.Z).withConfig({displayName:"ProductReviewstyles__StyledText",componentId:"sc-1q2w0fw-0"})(["margin:0;margin-bottom:",";"],(e=>e.theme.sizing("xs"))),xt=W.ZP.li.withConfig({displayName:"ProductReviewstyles__ReviewsListItems",componentId:"sc-1q2w0fw-1"})(["border-top:1px solid ",";padding-top:",";padding-bottom:",";"],(e=>e.theme.color("grey_light")),(e=>e.theme.sizing("md")),(e=>e.theme.sizing("md"))),Nt=(W.ZP.span.withConfig({displayName:"ProductReviewstyles__Rating",componentId:"sc-1q2w0fw-2"})(["display:block;"]),W.ZP.div.withConfig({displayName:"ProductReviewstyles__InfoWrapper",componentId:"sc-1q2w0fw-3"})(["",";"],(e=>e.theme.layout.container({direction:{small:"column",medium:"row",large:"row"}})))),St=W.ZP.div.withConfig({displayName:"ProductReviewstyles__Info",componentId:"sc-1q2w0fw-4"})(["",";overflow:hidden;"],(({theme:e})=>e.media.min("small")((0,W.iv)(["flex:1;margin-right:",";"],(e=>e.theme.sizing("xl")))))),jt=(0,W.ZP)(oe.Z).withConfig({displayName:"ProductReviewstyles__ReadMore",componentId:"sc-1q2w0fw-5"})(["padding:0;margin-bottom:",";",";"],(e=>e.theme.sizing("sm")),(({cropped:e,theme:i})=>i.media.min("medium")((0,W.iv)(["",";"],e?"display:block":"display: none")))),Pt=W.ZP.p.withConfig({displayName:"ProductReviewstyles__IncentivizedWrapper",componentId:"sc-1q2w0fw-6"})(["padding:"," "," "," ",";background-color:",";margin-bottom:",";",";"],(e=>e.theme.sizing("3xs")),(e=>e.theme.sizing("xs")),(e=>e.theme.sizing("xxs")),(e=>e.theme.sizing("3xs")),(e=>e.theme.color("blue_extra_light")),(e=>e.theme.sizing("xs")),(({theme:e})=>e.media.max("small")((0,W.iv)(["margin-bottom:",";"],(e=>e.theme.sizing("xxs")))))),_t=(0,W.ZP)(ri.Z).withConfig({displayName:"ProductReviewstyles__PresentIcon",componentId:"sc-1q2w0fw-7"})(["display:inline-block;vertical-align:middle;margin-right:",";"],(e=>e.theme.sizing("3xs")));var Ct=t(71388);const It=W.ZP.div.withConfig({displayName:"ProductReviewHelpfulness__Helpfulness",componentId:"sc-14mqym4-0"})(["display:flex;align-items:center;"]),{POSITIVE:Zt,NEGATIVE:Ot}=oi;var Ft=({positiveHelpfulnessSubmitted:e,negativeHelpfulnessSubmitted:i,reviewId:t,positiveHelpfulnessVotes:n,negativeHelpfulnessVotes:a,handleThumbClick:r})=>"number"!==typeof n||"number"!==typeof a?null:(0,u.jsxs)(It,{children:[(0,u.jsx)(E,{children:i=>(0,u.jsx)(Ct.Z,{direction:"up",onClick:()=>{e||t&&r(i,t,Zt)},isActive:e,value:n})}),(0,u.jsx)(E,{children:e=>(0,u.jsx)(Ct.Z,{direction:"down",onClick:()=>{i||t&&r(e,t,Ot)},isActive:i,value:a})})]}),Tt=t(38155);const Rt=W.ZP.article.withConfig({displayName:"ProductReviewResponsesstyles__Response",componentId:"sc-pcfyng-0"})(["background-color:",";padding:",";margin-bottom:",";"],(e=>e.theme.color("yellow_extra_light")),(e=>e.theme.sizing("xs")),(e=>e.theme.sizing("xs"))),zt=W.ZP.div.withConfig({displayName:"ProductReviewResponsesstyles__ResponseHeader",componentId:"sc-pcfyng-1"})(["display:flex;flex-direction:column;align-items:flex-start;justify-content:space-between;margin-bottom:",";",";"],(e=>e.theme.sizing("xxs")),(({theme:e})=>e.media.min("medium")((0,W.iv)(["flex-direction:row;align-items:center;"])))),Dt=(0,W.ZP)(Tt.Z).attrs((()=>({width:25}))).withConfig({displayName:"ProductReviewResponsesstyles__LegoLogoStyled",componentId:"sc-pcfyng-2"})(["margin-right:",";"],(e=>e.theme.sizing("xxs"))),Vt=W.ZP.div.withConfig({displayName:"ProductReviewResponsesstyles__ResponseTitleWrapper",componentId:"sc-pcfyng-3"})(["display:flex;align-items:center;"]),Et=(0,W.ZP)(M.Z).withConfig({displayName:"ProductReviewResponsesstyles__ResponseTitle",componentId:"sc-pcfyng-4"})(["margin-top:0;margin-bottom:0;"]),At=W.ZP.div.withConfig({displayName:"ProductReviewResponsesstyles__ResponseDate",componentId:"sc-pcfyng-5"})(["justify-self:space-between;"]),Mt=W.ZP.div.withConfig({displayName:"ProductReviewResponsesstyles__ResponseAuthor",componentId:"sc-pcfyng-6"})(["margin-bottom:",";"],(e=>e.theme.sizing("sm")));class Bt extends n.Component{render(){const{responses:e}=this.props;return e.map((e=>{if(!e)return null;const{content:i,date:t,department:n,name:a}=e;return(0,u.jsxs)(Rt,{children:[(0,u.jsxs)(zt,{children:[(0,u.jsxs)(Vt,{children:[(0,u.jsx)(Dt,{}),(0,u.jsx)(Et,{tag:"h3",weight:"semiBold",size:"s1",children:(0,u.jsx)(B.Z,{id:"product.details.reviews.responseTitle"})})]}),(0,u.jsx)(At,{children:(0,u.jsx)(M.Z,{size:"sm1",children:t})})]}),(0,u.jsx)(Mt,{children:(0,u.jsxs)(M.Z,{size:"sm1",children:[a,", ",n]})}),(0,u.jsx)(M.Z,{itemProp:"description",children:i})]},`${t}:${i}`)}))}}(0,r.Z)(Bt,"fragments",{response:{kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Response"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProductReviewResponse"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"department"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}],loc:{start:0,end:125,source:{body:"\n      fragment Response on ProductReviewResponse {\n        content\n        date\n        department\n        name\n      }\n    ",name:"GraphQL request",locationOffset:{line:1,column:1}}}}});var $t=Bt;const Lt=W.ZP.div.withConfig({displayName:"ProductReviewExtraInfostyles__MoreInfo",componentId:"sc-9xsqr4-0"})(["",";",";"],(({theme:e})=>e.media.min("small")((0,W.iv)(["width:",";overflow:hidden;"],e.sizing(4.5)))),(({expanded:e,theme:i})=>i.media.max("medium")((0,W.iv)(["",";"],e||"display: none")))),Wt=({expanded:e,playExperience:i,valueForMoney:t,buildExperience:n})=>{const a=(0,Z.T)();return(0,u.jsxs)(Lt,{expanded:e,children:[i&&(0,u.jsx)(ae.Z,{mode:"display",type:"bricks",label:a("product.details.reviews.playExperience"),rating:i}),n&&(0,u.jsx)(ae.Z,{mode:"display",type:"bricks",label:a("product.details.reviews.buildingExperience"),rating:n}),t&&(0,u.jsx)(ae.Z,{mode:"display",type:"bricks",label:a("product.details.reviews.valueForMoney"),rating:t})]})};Wt.fragments={extraInfo:{kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ExtraInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProductReview"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playExperience"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"levelofDifficulty"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"buildExperience"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"valueForMoney"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"buildTime"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"days"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hours"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"minutes"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:207,source:{body:"\n    fragment ExtraInfo on ProductReview {\n      playExperience\n      levelofDifficulty\n      buildExperience\n      valueForMoney\n      buildTime {\n        days\n        hours\n        minutes\n      }\n    }\n  ",name:"GraphQL request",locationOffset:{line:1,column:1}}}}};var Ut=t(37418);const Gt=W.ZP.div.withConfig({displayName:"ProductReviewPhotosstyles__PhotoBox",componentId:"sc-1byf5c-0"})(["padding-bottom:",";margin-bottom:",";width:100%;display:flex;flex-wrap:nowrap;overflow-x:auto;"],(e=>e.theme.sizing("xs")),(e=>e.theme.sizing("xs"))),qt=(0,W.ZP)(oe.Z).withConfig({displayName:"ProductReviewPhotosstyles__ThumbnailButton",componentId:"sc-1byf5c-1"})(["flex:0 0 auto;padding:0;margin-right:",";"],(e=>e.theme.sizing("md"))),Ht=(0,W.ZP)(Ut.Z).withConfig({displayName:"ProductReviewPhotosstyles__Thumbnail",componentId:"sc-1byf5c-2"})(["border:1px solid ",";height:",";"],(e=>e.theme.color("grey_light")),(e=>e.theme.sizing("xxl"))),Qt=W.ZP.div.withConfig({displayName:"ProductReviewPhotosstyles__ImgContainer",componentId:"sc-1byf5c-3"})(["display:flex;justify-content:center;align-items:center;"]),Kt=W.ZP.img.withConfig({displayName:"ProductReviewPhotosstyles__Img",componentId:"sc-1byf5c-4"})(["max-width:75vw;max-height:75vh;"]),Xt=W.ZP.div.withConfig({displayName:"ProductReviewPhotosstyles__LoadingContainer",componentId:"sc-1byf5c-5"})(["padding:",";"],(e=>e.theme.sizing("xxl"))),Yt=W.ZP.div.withConfig({displayName:"ProductReviewPhotosstyles__ModalContent",componentId:"sc-1byf5c-6"})(["padding:",";"],(e=>e.theme.sizing("sm"))),Jt=({customerPhotos:e})=>{const{0:i,1:t}=(0,n.useState)(!1),{0:a,1:r}=(0,n.useState)(!0),{0:s,1:o}=(0,n.useState)(null),{triggerEvent:d}=(0,T.FG)();return(0,u.jsxs)(Gt,{children:[e.map((e=>e&&(0,u.jsx)(qt,{onClick:()=>(e=>{t(!0),r(!1),o(e),d({label:"pdpReviewImageClick",eventType:["custom"]})})(e),type:"ghost","aria-label":"review-image","aria-disabled":!0,"data-test":"pdp-review-image-button",children:(0,u.jsx)(Ht,{srcset:[{url:e.thumbnail}],alt:""})},e.thumbnail))),(0,u.jsx)(se.Z,{isOpen:i,onRequestClose:()=>{t(!1)},label:"",closeLabel:"close photo",children:a?(0,u.jsx)(Yt,{children:(0,u.jsx)(Xt,{children:(0,u.jsx)(de.Z,{color:"yellow",size:3})})}):(0,u.jsx)(Yt,{children:(0,u.jsx)(Qt,{children:s&&(0,u.jsx)(Kt,{src:s.full,alt:""})})})})]})};Jt.fragments={photo:{kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Photo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProductReviewCustomerPhoto"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thumbnail"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"full"},arguments:[],directives:[]}]}}],loc:{start:0,end:87,source:{body:"\n    fragment Photo on ProductReviewCustomerPhoto {\n      thumbnail\n      full\n    }\n  ",name:"GraphQL request",locationOffset:{line:1,column:1}}}}};var en=Jt;const tn=W.ZP.div.withConfig({displayName:"ProductReviewInfo__LineClamp",componentId:"sc-prpixz-0"})(["margin-bottom:",";max-height:",";overflow:hidden;position:relative;width:100%;&:after{content:'';position:absolute;top:6rem;width:100%;height:"," ",";}"],(e=>e.theme.sizing("xs")),(({maxHeightShown:e})=>e?"auto":"7.5rem"),(e=>e.theme.lineHeight("s0")),(({cropped:e,theme:i})=>e&&(0,W.iv)(["background:linear-gradient( rgba(255,255,255,0) 0%,"," );"],i.color("white"))));class nn extends n.Component{constructor(...e){super(...e),(0,r.Z)(this,"state",{contentShown:!1,cropped:!1}),(0,r.Z)(this,"reviewContentRef",(0,n.createRef)()),(0,r.Z)(this,"lineClampRef",(0,n.createRef)()),(0,r.Z)(this,"handleContentShown",(()=>{this.setState({contentShown:!this.state.contentShown})})),(0,r.Z)(this,"cropContent",(()=>{const e=this.reviewContentRef.current&&this.reviewContentRef.current.offsetHeight,i=this.lineClampRef.current&&this.lineClampRef.current.offsetHeight;if(!e||!i)return;e>i&&!this.state.cropped&&this.setState({cropped:!0})}))}componentDidMount(){this.cropContent()}render(){const{id:e,content:i,purchasedFor:t,playExperience:n,valueForMoney:a,customerPhotos:r,responses:s,buildExperience:o}=this.props;if(!i||!e)return null;const{contentShown:d,cropped:l}=this.state;return(0,u.jsxs)(Nt,{children:[(0,u.jsxs)(St,{children:[t&&(0,u.jsxs)(wt,{tag:"p",children:[(0,u.jsxs)(M.Z,{weight:"semiBold",children:[(0,u.jsx)(B.Z,{id:"product.details.reviews.purchasedFor"}),":"]}),(0,u.jsxs)(M.Z,{children:[" ",t]})]}),(0,u.jsx)(he.Z,{children:(0,u.jsx)(tn,{ref:this.lineClampRef,maxHeightShown:d,cropped:l&&!d,children:(0,u.jsx)("div",{ref:this.reviewContentRef,children:(0,u.jsx)(M.Z,{size:"s1",itemProp:"description",children:i})})})}),(0,u.jsx)(jt,{cropped:l,type:"ghost",onClick:()=>this.handleContentShown(),children:d?(0,u.jsx)(B.Z,{id:"productDetails.reviews.showLess"}):(0,u.jsx)(B.Z,{id:"productDetails.reviews.readMore"})}),r.length>0&&(0,u.jsx)(en,{customerPhotos:r}),(0,u.jsx)($t,{responses:s||[]})]}),(0,u.jsx)(Wt,{expanded:d,playExperience:n,valueForMoney:a,buildExperience:o})]})}}(0,r.Z)(nn,"fragments",{info:{kind:"Document",definitions:(e=>{const i={};return e.filter((e=>{if("FragmentDefinition"!==e.kind)return!0;const t=e.name.value;return!i[t]&&(i[t]=!0,!0)}))})([{kind:"FragmentDefinition",name:{kind:"Name",value:"ReviewInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProductReview"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"purchasedFor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userData"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"buildingExperience"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"responses"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Response"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"customerPhotos"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Photo"},directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"ExtraInfo"},directives:[]}]}}].concat($t.fragments.response.definitions,en.fragments.photo.definitions,Wt.fragments.extraInfo.definitions)),loc:{start:0,end:314,source:{body:"\n      fragment ReviewInfo on ProductReview {\n        purchasedFor\n        content\n        id\n        userData {\n          buildingExperience\n        }\n        responses {\n          ...Response\n        }\n        customerPhotos {\n          ...Photo\n        }\n\n        ...ExtraInfo\n      }\n\n      \n      \n      \n    ",name:"GraphQL request",locationOffset:{line:1,column:1}}}}});var an=nn;function rn(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),t.push.apply(t,n)}return t}function sn(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?rn(Object(t),!0).forEach((function(i){(0,r.Z)(e,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):rn(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}))}return e}const on=({review:e,productName:i})=>{var t,a;const{0:r,1:s}=(0,n.useState)(!1),{0:o,1:d}=(0,n.useState)(!1),{0:l,1:c}=(0,n.useState)((null===e||void 0===e||null===(t=e.helpfulnessVotes)||void 0===t?void 0:t.yes)||0),{0:m,1:p}=(0,n.useState)((null===e||void 0===e||null===(a=e.helpfulnessVotes)||void 0===a?void 0:a.no)||0);if(!e)return null;const{content:g,id:v}=e;if(!g||!v)return null;const{title:h="",rating:y=0,date:k="",userData:f}=e,b=(null===f||void 0===f?void 0:f.name)||"",w=(null===f||void 0===f?void 0:f.ageRange)||"";return(0,u.jsxs)(xt,{itemProp:"review",itemScope:!0,itemType:"http://schema.org/Review",children:[k&&(0,u.jsx)(wt,{tag:"p",children:(0,bt.Z)(new Date(k),"PPP")}),y&&(0,u.jsx)(ae.Z,{mode:"display",type:"stars",rating:y}),(0,u.jsx)(wt,{tag:"p",size:"s1",weight:"semiBold",children:h}),(0,u.jsxs)(wt,{tag:"p",size:"sm1",children:[null!==f&&void 0!==f&&f.profileUrl?(0,u.jsx)(Ei.Z,{to:f.profileUrl,target:"_blank",rel:"noopener noreferrer",children:(0,u.jsx)("span",{itemProp:"author",children:b})}):(0,u.jsx)("span",{itemProp:"author",children:b}),w&&` | ${w}`]}),e.wouldRecommend&&(0,u.jsx)(wt,{tag:"p",color:"green",weight:"bold",children:(0,u.jsx)(B.Z,{id:"product.details.reviews.user.would.recommend"})}),e.incentivized&&(0,u.jsxs)(Pt,{children:[(0,u.jsx)(_t,{type:"present",width:26,height:30}),(0,u.jsx)(M.Z,{size:"sm1",children:(0,u.jsx)(B.Z,{id:"product.details.reviews.incentivized"})})]}),(0,u.jsx)(an,sn({},e)),(0,u.jsx)(wt,{tag:"p",children:(0,u.jsx)(B.Z,{id:"product.details.reviews.helpful.message"})}),(0,u.jsx)(Ft,{reviewId:v,positiveHelpfulnessVotes:l,negativeHelpfulnessVotes:m,positiveHelpfulnessSubmitted:r,negativeHelpfulnessSubmitted:o,handleThumbClick:(e,i,t)=>{e({variables:{commentId:i,feedback:t}}).then((()=>{const{setHelpfulnessVotes:e,helpfulnessSubmitted:i,setHelpfulnessSubmitted:n,setOppositeHelpfulnessVotes:a,oppositeHelpfulnessSubmitted:l,setOppositeHelpfulnessSubmitted:m}=(e=>e.toUpperCase()===oi.POSITIVE?{setHelpfulnessVotes:c,helpfulnessSubmitted:r,setHelpfulnessSubmitted:s,setOppositeHelpfulnessVotes:p,oppositeHelpfulnessSubmitted:o,setOppositeHelpfulnessSubmitted:d}:{setHelpfulnessVotes:p,helpfulnessSubmitted:o,setHelpfulnessSubmitted:d,setOppositeHelpfulnessVotes:c,oppositeHelpfulnessSubmitted:r,setOppositeHelpfulnessSubmitted:s})(t);e((e=>i?e-1:e+1)),l&&(a((e=>e-1)),m(!1)),n((e=>!e))}))}}),(0,u.jsxs)(ft.Z,{"aria-hidden":"true",children:[(0,u.jsxs)("span",{itemProp:"reviewRating",itemScope:!0,itemType:"http://schema.org/Rating",children:[(0,u.jsx)("span",{itemProp:"ratingValue",children:y}),(0,u.jsx)("span",{itemProp:"bestRating",children:"5"})]}),(0,u.jsx)("span",{itemProp:"name",children:i&&(0,u.jsx)(si.Z,{markup:i})}),k&&(0,u.jsx)("meta",{itemProp:"datePublished",content:(0,bt.Z)(new Date(k),"yyyy-MM-dd")})]})]},v)};on.fragments={review:{kind:"Document",definitions:(e=>{const i={};return e.filter((e=>{if("FragmentDefinition"!==e.kind)return!0;const t=e.name.value;return!i[t]&&(i[t]=!0,!0)}))})([{kind:"FragmentDefinition",name:{kind:"Name",value:"Review"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProductReview"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"wouldRecommend"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"incentivized"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"helpfulnessVotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"yes"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"no"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"userData"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ageRange"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileUrl"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewInfo"},directives:[]}]}}].concat(an.fragments.info.definitions)),loc:{start:0,end:293,source:{body:"\n    fragment Review on ProductReview {\n      rating\n      title\n      date\n      wouldRecommend\n      incentivized\n      helpfulnessVotes {\n        yes\n        no\n      }\n\n      userData {\n        name\n        ageRange\n        id\n        profileUrl\n      }\n\n      ...ReviewInfo\n    }\n\n    \n  ",name:"GraphQL request",locationOffset:{line:1,column:1}}}}};var dn=on;const ln={productReviews:{kind:"Document",definitions:(e=>{const i={};return e.filter((e=>{if("FragmentDefinition"!==e.kind)return!0;const t=e.name.value;return!i[t]&&(i[t]=!0,!0)}))})([{kind:"FragmentDefinition",name:{kind:"Name",value:"ProductReviews_Reviews"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProductReviews"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"statistics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reviews"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Review"},directives:[]}]}}]}}].concat(dn.fragments.review.definitions)),loc:{start:0,end:154,source:{body:"\n    fragment ProductReviews_Reviews on ProductReviews {\n      statistics {\n        count\n      }\n      reviews {\n        ...Review\n      }\n    }\n\n    \n  ",name:"GraphQL request",locationOffset:{line:1,column:1}}}}},cn=[{value:"DATE_NEWEST_FIRST",label:"dateNewestFirst"},{value:"DATE_OLDEST_FIRST",label:"dateOldestFirst"},{value:"RATING_HIGH_TO_LOW",label:"ratingHighToLow"},{value:"RATING_LOW_TO_HIGH",label:"ratingLowToHigh"},{value:"HELPFULNESS_HIGH_TO_LOW",label:"helpfulnessHighToLow"},{value:"MOST_RELEVANT",label:"mostRelevant"}],mn={1:"product.details.reviews.OneStarRatings",2:"product.details.reviews.TwoStarRatings",3:"product.details.reviews.ThreeStarRatings",4:"product.details.reviews.FourStarRatings",5:"product.details.reviews.FiveStarRatings"};var un=e=>{const i=(0,Z.T)(),{productName:t,productReviews:a,productReviewsRef:r}=e,s=a&&a.reviews||[],o=a&&a.statistics&&a.statistics.count||0;return(0,u.jsx)(n.Fragment,{children:0!==o&&(0,u.jsxs)(n.Fragment,{children:[(0,u.jsx)(M.Z,{tag:"p",size:"s1",weight:"semiBold",children:(0,u.jsx)(B.Z,{id:"product.details.reviews.reviews"})}),(0,u.jsx)(kt,{children:(0,u.jsx)(Ze.Z,{id:"pdp-reviews-select",label:i("product.details.reviews.sortBy"),hideLabel:!0,initialValue:e.reviewSortOrder,value:e.reviewSortOrder,options:cn.map((({value:e,label:t})=>({value:e,label:i(`product.details.reviews.${t}`)}))),onChange:i=>{const{value:t}=i.target;var n;(n=t)&&"undefined"!==typeof n&&n in ht&&e.onSortChange(t)}})}),e.reviewFilters&&e.reviewFilters.length>0&&(0,u.jsxs)($.Z,{bottom:"md",children:[(0,u.jsx)(M.Z,{size:"sm1",children:(0,u.jsx)(B.Z,{id:"product.details.reviews.activeFilters"})}),(0,u.jsxs)(yt,{children:[e.reviewFilters.map((i=>(0,u.jsx)($.Z,{right:"xs",top:"xs",children:(0,u.jsx)(gt.Z,{"data-test":`pdp-reviews-${i}-filter-tag`,type:"secondary",onClick:()=>e.removeReviewFilter(i),children:(0,u.jsx)(B.Z,{id:mn[i]})})},i))),e.reviewFilters.length>0&&(0,u.jsx)($.Z,{top:"xs",children:(0,u.jsx)(gt.Z,{"data-test":"pdp-reviews-clear-filter-tag",type:"primary",onClick:e.clearReviewFilters,children:i("product.details.reviews.clearFilters")})})]})]}),(0,u.jsx)("ul",{ref:r,children:s.map((e=>e&&(0,u.jsx)(dn,{review:e,productName:t},e.id)))}),(0,u.jsx)($.Z,{all:"sm",children:(0,u.jsx)(vt.ZP,{hideShowAll:!0,hideBackToTop:!0,currentPage:e.currentPage,totalPages:Math.ceil(o/e.reviewsPerPage),onPageChange:e.onPageChange})})]})})},pn=t(70434),gn=t(17952),vn=t(97729);function hn(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),t.push.apply(t,n)}return t}function yn(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?hn(Object(t),!0).forEach((function(i){(0,r.Z)(e,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):hn(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}))}return e}const kn=({url:e})=>{const i={imagesrcset:(0,ai.nY)({url:e,format:"webply"})};return(0,u.jsx)(vn.default,{children:(0,u.jsx)("link",yn(yn({rel:"preload",as:"image"},i),{},{"data-test":"pdp-preload-tag"}))})},fn=e=>e?e.substring(e.lastIndexOf("/")+1,-1!==e.indexOf("?")?e.indexOf("?"):e.length):"",bn=(e,i)=>{const{triggerEvent:t}=(0,T.FG)(),a=new Set([]),r=(null===i||void 0===i?void 0:i.length)||0,s=(0,n.useRef)(0),o=(0,n.useCallback)((i=>{if(1===s.current)return;a.add(i);const n=(o=a.size/r,Math.round(100*o)/100);var o;n>s.current&&(t({label:"product_media_displayed",eventType:["custom"],data:{product_id:e,page_type:"product details",product_media_displayed_fraction:n}}),s.current=n)}),[a,r,e,t]);return(0,n.useEffect)((()=>{(null===i||void 0===i?void 0:i.length)&&o(i[0].id)}),[o,i]),{processMediaDisplayEvent:o}},wn=(0,n.createContext)({processMediaDisplayEvent:()=>{}}),xn=({children:e,productCode:i,mediaItems:t})=>{const{processMediaDisplayEvent:n}=bn(i,t);return(0,u.jsx)(wn.Provider,{value:{processMediaDisplayEvent:n},children:e})},Nn=W.ZP.div.withConfig({displayName:"ProductMediaViewerstyles__Wrapper",componentId:"sc-13pkbbe-0"})(["width:100%;",""],(e=>e.theme.media.between("medium","large")((0,W.iv)(["width:auto;flex:1 1 70%;position:relative;padding:"," "," 0 0;"],e.theme.sizing("ms"),e.theme.sizing("ms"))))),Sn=W.ZP.img.withConfig({displayName:"ProductMediaViewerstyles__PrimaryImage",componentId:"sc-13pkbbe-1"})(["display:block;width:100%;max-width:",";margin:0 auto;"],(e=>e.theme.sizing(5.4))),jn=(0,W.ZP)(gn.Z).withConfig({displayName:"ProductMediaViewerstyles__MediaQueryThumbnailsHorizontal",componentId:"sc-13pkbbe-2"})([""]),Pn=W.ZP.div.withConfig({displayName:"ProductMediaViewerstyles__MediaViewerContent",componentId:"sc-13pkbbe-3"})(["display:flex;flex-direction:column;width:100%;height:100%;"," "," ",""],(e=>e.theme.media.between("medium","large")(!e.fullscreen&&(0,W.iv)(["position:relative;& > ","{margin-bottom:",";}& > ","{overflow:hidden;position:absolute;width:100%;bottom:0;}"],Cn,(0,Ci.hO)(85),jn))),(e=>e.theme.media.min("large")((0,W.iv)(["flex-direction:row-reverse;"]))),(e=>e.fullscreen&&(0,W.iv)(["background:",";"],e.theme.color("white")))),_n=W.ZP.div.withConfig({displayName:"ProductMediaViewerstyles__MediaViewerThumbnails",componentId:"sc-13pkbbe-4"})(["position:relative;padding:"," 0;",";"],(e=>e.theme.sizing("sm")),(e=>e.theme.media.min("large")((0,W.iv)(["padding:0;margin:",";height:",";",""],e.fullscreen?e.theme.sizing("sm"):`0 ${e.theme.sizing("sm")} 0 0`,(0,Ci.hO)(550),!e.fullscreen&&(0,W.iv)(["margin:0;padding:"," 0;"],e.theme.sizing("ms")))))),Cn=W.ZP.div.withConfig({displayName:"ProductMediaViewerstyles__MediaViewerSlides",componentId:"sc-13pkbbe-5"})(["background:",";overflow:hidden;height:100%;position:relative;",""],(e=>e.theme.color("white")),(e=>e.theme.media.min("large")((0,W.iv)(["width:100%;",""],!e.fullscreen&&(0,W.iv)(["width:auto;flex:1 0 auto;padding:",";"],e.theme.sizing("ms")))))),In=(0,W.ZP)(pn.Z.VideoPlayer).withConfig({displayName:"ProductMediaViewerstyles__MediaViewerVideoPlayer",componentId:"sc-13pkbbe-6"})(["height:100%;"]),Zn=({media:e})=>{var i,t;const{triggerEvent:a}=(0,T.FG)(),{processMediaDisplayEvent:r}=(0,n.useContext)(wn),{0:s,1:o}=(0,n.useState)(!1),d="on"===(0,T.aq)("pdp_image_carousel")&&null!==e&&void 0!==e&&null!==(i=e.experimentMedia)&&void 0!==i&&i.items?e.experimentMedia.items:(null===e||void 0===e||null===(t=e.productMedia)||void 0===t?void 0:t.items)||[],l=d&&d.length>0&&d.filter(Boolean)||[],c=l.length,m=c>0,p=e=>{e&&a({label:"zoom",eventType:["custom"]}),a(s?{label:"fullScreenImageClick",eventType:["custom"]}:{label:"pdpGalleryZoom",eventType:["custom"]})},g=()=>{a({label:"carouselArrow",eventType:["custom"]})},v=e=>({data:i,index:t})=>{switch(i.__typename){case"ProductImage":return((e,i,t)=>{const{highResUrl:n,fullscreenUrl:a,url:r}=t.sizes[e];return(0,u.jsxs)(u.Fragment,{children:[0===i&&(0,u.jsx)(kn,{url:r}),(0,u.jsx)(pn.Z.ZoomableImage,{index:i,baseImgUrl:t.baseImgUrl,url:r,highResUrl:n,fullscreenUrl:a,onToggle:p})]})})(e,t,i);case"ProductVideo":return((e,i,t)=>(0,u.jsx)(In,{index:i,url:t.url,"data-test":"mediaviewer-videoplayer",backgroundColor:"white"}))(0,t,i.video);default:return null}},h=e=>({data:i,index:t})=>{let n,o;switch(i.__typename){case"ProductImage":n="image",o=i.sizes[e].thumbnailUrl;break;case"ProductVideo":n="video",o=i.video.thumbnailUrl;break;default:return null}return(0,u.jsx)(pn.Z.Thumbnail,{imgUrl:o,index:t,onClick:()=>((e,i)=>{switch(r(e.id),a(s?{label:"fullScreenThumbnailClick",eventType:["custom"]}:{label:"pdpGalleryThumbnailClick",eventType:["custom"]}),e.__typename){case"ProductImage":return a({label:"carouselThumbnail",eventType:["analyticsLayer","custom"],data:{carousel:{mediaType:"image",mediaFilename:fn(e.baseImgUrl),thumbnailIndex:String(i),thumbnailCount:String(c)}}});case"ProductVideo":return a({label:"carouselThumbnail",eventType:["analyticsLayer","custom"],data:{carousel:{mediaType:"video",mediaFilename:fn(e.video.url),thumbnailIndex:String(i),thumbnailCount:String(c)}}})}})(i,t),type:n,fullscreen:s},t)},y=(e,i)=>(0,u.jsx)(_n,{fullscreen:s,children:(0,u.jsx)(pn.Z.Thumbnails,{vertical:i,renderThumbnail:h(e)})}),k=e=>(0,u.jsx)(pn.Z,{data:l,onNextSlide:e=>{var i;g(),a({label:"pdpGalleryRightClick",eventType:["custom"]}),r(null===(i=d[e])||void 0===i?void 0:i.id)},onPrevSlide:e=>{var i;g(),r(null===(i=d[e])||void 0===i?void 0:i.id)},onFullscreen:o,children:(0,u.jsxs)(Pn,{fullscreen:s,children:[(0,u.jsx)(Cn,{fullscreen:s,children:(0,u.jsx)(pn.Z.Slides,{renderMedia:v(e)})}),(0,u.jsx)(jn,{matchWidth:"max",breakpoint:"large",children:y(e,!1)}),(0,u.jsx)(gn.Z,{matchWidth:"min",breakpoint:"large",children:y(e,!0)})]})});return(0,u.jsx)(Nn,{children:m?(0,u.jsxs)(n.Fragment,{children:[(0,u.jsx)(gn.Z,{matchWidth:"min",breakpoint:"medium",children:k("desktop")}),(0,u.jsx)(gn.Z,{matchWidth:"max",breakpoint:"medium",children:k("mobile")})]}):(0,u.jsx)(Cn,{fullscreen:s,children:(0,u.jsx)(Sn,{src:e.mediaViewerPrimaryImage||"",alt:""})})})};var On=t(24031),Fn=t(44108),Tn=t(34154);const Rn=(0,W.iv)(["width:100%;overflow-x:scroll;overflow-y:hidden;scroll-snap-type:x mandatory;white-space:nowrap;position:relative;scrollbar-width:none;-ms-overflow-style:none;&::-webkit-scrollbar{width:0 !important;height:0 !important;display:none !important;}"]),zn=(0,W.iv)(["--width:",";display:flex;width:calc(var(--width) * 100%);align-items:center;justify-content:center;"],(e=>e.$width)),Dn=W.ZP.section.withConfig({displayName:"ProductGallerystyles__ProductGalleryContainer",componentId:"sc-1uy048w-0"})(["position:relative;width:100%;"]),Vn=W.ZP.div.withConfig({displayName:"ProductGallerystyles__MediaWrapper",componentId:"sc-1uy048w-1"})([""," margin-bottom:",";box-shadow:0 2px 0 var(--color-neutral-gray-75);"],Rn,(e=>`${e.theme.sizing("sm")}`)),En=W.ZP.ul.withConfig({displayName:"ProductGallerystyles__MediaContainer",componentId:"sc-1uy048w-2"})([""," height:90vw;"],zn),An=W.ZP.li.withConfig({displayName:"ProductGallerystyles__MediaItem",componentId:"sc-1uy048w-3"})(["display:flex;align-items:center;justify-content:center;scroll-snap-align:center;scroll-snap-stop:always;position:relative;width:100%;height:100%;overflow:hidden;"]),Mn=(0,W.ZP)(Tn.Z).withConfig({displayName:"ProductGallerystyles__StyledPicture",componentId:"sc-1uy048w-4"})(["height:100%;display:flex;align-items:center;justify-content:center;"]),Bn=W.ZP.div.withConfig({displayName:"ProductGallerystyles__ButtonWrapper",componentId:"sc-1uy048w-5"})(["",""],(({theme:e})=>(0,W.iv)(["position:absolute;bottom:",";right:0;justify-content:center;padding-left:",";padding-right:",";z-index:1;"],e.sizing("lg"),e.sizing("xxs"),e.sizing("xxs")))),$n=W.ZP.button.withConfig({displayName:"ProductGallerystyles__ImageAnchorButton",componentId:"sc-1uy048w-6"})(["width:100%;height:100%;"]);var Ln=t(6151);const Wn=W.ZP.div.withConfig({displayName:"DetailedGallerystyles__ModalContentWrapper",componentId:"sc-rni0k5-0"})(["background:var(--color-neutral-gray-50);height:100%;"]),Un=W.ZP.div.withConfig({displayName:"DetailedGallerystyles__CloseButtonWrapper",componentId:"sc-rni0k5-1"})(["",""],(({theme:e})=>(0,W.iv)(["position:fixed;right:",";top:",";",";"],e.sizing("3xs"),e.sizing("xxs"),e.zIndex("medium")))),Gn=(0,W.iv)(["height:100%;"]),qn=W.ZP.div.withConfig({displayName:"DetailedGalleryGridViewstyles__GalleryGridContainer",componentId:"sc-go96w7-0"})(["",""],(({$isFullHeight:e})=>(0,W.iv)(["background:var(--color-neutral-gray-50);",""],e&&Gn))),Hn=W.ZP.div.withConfig({displayName:"DetailedGalleryGridViewstyles__TabsListWrapper",componentId:"sc-go96w7-1"})(["",""],(({theme:e})=>(0,W.iv)(["background:var(--color-neutral-white);padding:"," "," 0;top:0;left:0;position:fixed;width:100%;",";opacity:0.98;border-bottom:1px solid ",";display:flex;font-weight:",";font-size:",";"],e.sizing("3xs"),e.sizing("3xs"),e.zIndex("low"),e.color("grey_light"),e.fontWeight("semiBold"),e.fontSize("s0")))),Qn=(0,W.iv)(["color:",";&:after{background-color:",";}&:hover{text-decoration:none;}"],(e=>e.theme.color("blue")),(e=>e.theme.color("blue"))),Kn=W.ZP.button.withConfig({displayName:"DetailedGalleryGridViewstyles__TabButton",componentId:"sc-go96w7-2"})(["",""],(({theme:e,$active:i})=>(0,W.iv)(["padding:"," "," 0;color:var(--color-neutral-gray-600);&:after{content:'';display:block;height:",";border-radius:",";background-color:",";margin-top:",";}",""],e.sizing("sm"),e.sizing("3xs"),e.sizing("4xs"),e.sizing("3xs"),e.color("transparent"),e.sizing("xxs"),i&&Qn))),Xn=W.ZP.ol.withConfig({displayName:"GridViewImagesstyles__GalleryGrid",componentId:"sc-1fa0f81-0"})(["",""],(({theme:e})=>(0,W.iv)(["display:grid;grid-template-columns:repeat(2,1fr);grid-gap:",";max-width:",";margin:0 auto;padding:"," ",";"],e.sizing("3xs"),(0,Ci.hO)(1020),e.sizing("3xl"),e.sizing("3xs")))),Yn=W.ZP.li.withConfig({displayName:"GridViewImagesstyles__GridList",componentId:"sc-1fa0f81-1"})(["display:flex;position:relative;background:var(--color-neutral-white);scroll-margin-top:",";&:nth-child(3n){grid-column:1 / -1;}&:nth-child(3n) img{max-height:",";}"],(e=>e.theme.sizing("3xl")),(0,Ci.hO)(320)),Jn=(0,W.ZP)(Yn).withConfig({displayName:"GridViewImagesstyles__GridListFullWidth",componentId:"sc-1fa0f81-2"})(["grid-column:1 / -1;"]),ea=W.ZP.img.withConfig({displayName:"GridViewImagesstyles__GridImage",componentId:"sc-1fa0f81-3"})(["max-height:",";width:auto;"],(0,Ci.hO)(200)),ia=W.ZP.button.withConfig({displayName:"GridViewImagesstyles__ImageContainer",componentId:"sc-1fa0f81-4"})(["width:100%;height:100%;display:flex;align-items:center;justify-content:center;"]),ta=({images:e,setCurrentView:i,isMobile:t,setSelectedImageId:n,a11yLabel:a})=>{const r=e.length,s=r-1,o=!((r-1)%3);const d=(e,r)=>{var s;const o=t?"mobile":"desktop",d=null===(s=e.sizes[o])||void 0===s?void 0:s.url;return(0,u.jsx)(ia,{"aria-label":a,onClick:()=>{return t=e.id,n(t),void i(Ta.FULLSCREEN);var t},"data-test":`mediagallery-grid-image-button-${r}`,children:(0,u.jsx)(ea,{src:d,"data-test":`mediagallery-grid-image-${r}`,alt:""})})};return(0,u.jsx)(Xn,{"data-test":"mediagallery-grid-images",children:e.map(((e,i)=>o&&i===s||r<4?(0,u.jsx)(Jn,{"data-test":`mediagallery-grid-list-${i}`,children:d(e,i)},e.id):(0,u.jsx)(Yn,{"data-test":`mediagallery-grid-list-${i}`,children:d(e,i)},e.id)))})},na=W.ZP.div.withConfig({displayName:"GridViewVideosstyles__CarouselWrapper",componentId:"sc-1pwwk0p-0"})(["scroll-snap-type:x mandatory;scroll-snap-align:start;overflow-x:scroll;"]),aa=(0,Ci.hO)(200),ra="70vw",sa="40px",oa=W.ZP.div.withConfig({displayName:"GridViewVideosstyles__VideoPlayerContainer",componentId:"sc-1pwwk0p-1"})(["max-width:",";height:calc(100% - ",");margin:0 auto;padding-top:",";display:flex;"],(0,Ci.hO)(1020),aa,(0,Ci.hO)(70)),da=(0,W.ZP)(On.Z).withConfig({displayName:"GridViewVideosstyles__StyledVideoPlayer",componentId:"sc-1pwwk0p-2"})(["width:100%;"]),la=W.ZP.ul.withConfig({displayName:"GridViewVideosstyles__CarouselContainer",componentId:"sc-1pwwk0p-3"})(["--width:",";width:calc("," * var(--width));align-items:center;display:flex;height:",";gap:",";padding:"," "," "," ",";"],(e=>e.$width),ra,aa,(e=>e.theme.sizing("ms")),(0,Ci.hO)(20),(0,Ci.hO)(35),(0,Ci.hO)(48),(0,Ci.hO)(35)),ca=W.ZP.li.withConfig({displayName:"GridViewVideosstyles__ThumbnailItem",componentId:"sc-1pwwk0p-4"})(["display:flex;align-items:center;justify-content:center;position:relative;scroll-snap-align:center;scroll-snap-stop:always;height:100%;background:var(--color-neutral-white);width:",";"],ra),ma=(0,W.iv)(["box-shadow:0 0 0 4px ",";border:none;"],(e=>e.theme.color("blue"))),ua=W.ZP.button.withConfig({displayName:"GridViewVideosstyles__ThumbnailButton",componentId:"sc-1pwwk0p-5"})(["",""],(({$active:e})=>(0,W.iv)(["display:block;height:100%;width:100%;border:1px solid var(--color-neutral-gray-300);",""],e&&ma))),pa=W.ZP.div.withConfig({displayName:"GridViewVideosstyles__GalleryGridVideosContainer",componentId:"sc-1pwwk0p-6"})(["background:var(--color-neutral-gray-50);height:100%;"]),ga=W.ZP.div.withConfig({displayName:"GridViewVideosstyles__StyledEmptyThumbnail",componentId:"sc-1pwwk0p-7"})(["background:linear-gradient( 123.42deg,var(--color-neutral-gray-300) 10.54%,var(--color-neutral-gray-100) 89.46% );height:100%;width:100%;"]),va=W.ZP.div.withConfig({displayName:"GridViewVideosstyles__IconWrapper",componentId:"sc-1pwwk0p-8"})(["border-radius:50%;background:var(--color-transparent-black-500);height:",";width:",";display:flex;align-items:center;justify-content:center;position:absolute;bottom:var(--spacing-125);left:var(--spacing-125);"],sa,sa),ha=({videos:e,a11yLabel:i})=>{const{0:t,1:a}=(0,n.useState)(e[0]),{0:r,1:s}=(0,n.useState)(!1),{processMediaDisplayEvent:o}=(0,n.useContext)(wn),d=(0,n.useRef)(null);(0,n.useEffect)((()=>{o(t.id),setTimeout((()=>{var e;null===(e=d.current)||void 0===e||e.scrollIntoView({behavior:"smooth",inline:"center"})}),100)}),[t]);return(0,u.jsxs)(pa,{"data-test":"mediagallery-grid-videos",children:[(0,u.jsx)(oa,{children:(0,u.jsx)(da,{url:t.video.url,"data-test":"mediagallery-grid-videoplayer",active:!0,autoPlay:r})}),(0,u.jsx)(na,{children:(0,u.jsx)(la,{"data-test":"mediagallery-grid-carousel",$width:e.length,children:e.map(((e,n)=>(0,u.jsx)(ca,{children:(0,u.jsxs)(ua,{"aria-label":i,$active:e.video===t.video,onClick:()=>{return i=e,s(!0),void a(i);var i},ref:e.video===t.video?d:null,"data-test":`mediagallery-grid-carousel-button-${n}`,children:[e.video.thumbnailUrl?(0,u.jsx)(Tn.Z,{srcset:[{url:e.video.thumbnailUrl}],alt:"",style:{height:"100%",minWidth:"100%"},"data-test":`mediagallery-grid-carousel-${n}`}):(0,u.jsx)(ga,{"data-test":`mediagallery-grid-carousel-${n}-empty`}),(0,u.jsx)(va,{"data-test":`mediagallery-grid-carousel-play-icon-${n}`,children:(0,u.jsx)(Fn.JO,{name:"play-f",size:"icon-size-x-large",color:"color-neutral-white"})})]})},e.id)))})})]})};function ya(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),t.push.apply(t,n)}return t}var ka;!function(e){e.IMAGES="images",e.VIDEOS="videos"}(ka||(ka={}));const fa=({mediaItems:e,setCurrentView:i,setSelectedImageId:t,isMobile:a})=>{const s=e.filter((e=>e.__typename===Oa.PRODUCTIMAGE)),o=e.filter((e=>e.__typename===Oa.PRODUCTVIDEO)),d=function(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?ya(Object(t),!0).forEach((function(i){(0,r.Z)(e,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ya(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}))}return e}({images:{name:"productDetails.gallery.imagesTitle",tag:"images"}},o.length>0&&{videos:{name:"productDetails.gallery.videosTitle",tag:"videos"}}),l=(0,Z.T)(),{0:c,1:m}=(0,n.useState)(d.images.tag);return(0,u.jsxs)(qn,{"data-test":"mediagallery-grid",$isFullHeight:c===ka.VIDEOS,children:[(0,u.jsx)(Hn,{"data-test":"mediagallery-grid-tabs",children:Object.keys(d).map((e=>(0,u.jsx)(Kn,{$active:c===d[e].tag,onClick:()=>m(d[e].tag),"data-test":`grid-${d[e].tag}-tab`,children:l(d[e].name)},d[e].name)))}),(()=>{switch(c){case ka.IMAGES:return(0,u.jsx)(ta,{isMobile:a,setCurrentView:i,setSelectedImageId:t,images:s,a11yLabel:l("productDetails.gallery.viewFullScreen")});case ka.VIDEOS:return(0,u.jsx)(ha,{videos:o,a11yLabel:l("productDetails.gallery.playVideo")});default:return null}})()]})},ba=W.ZP.div.withConfig({displayName:"ProductGalleryCounterstyles__GalleryCounter",componentId:"sc-1fr8g15-0"})(["",""],(({theme:e})=>(0,W.iv)(["font-size:",";line-height:1rem;position:absolute;top:",";left:",";color:var(--color-neutral-white);background:var(--color-neutral-black);opacity:0.7;padding:"," ",";z-index:1;border-radius:100px;"],e.fontSize("sm2"),e.sizing("xs"),e.sizing("xs"),e.sizing("4xs"),e.sizing("3xs")))),wa=W.ZP.span.withConfig({displayName:"ProductGalleryCounterstyles__SlashWrapper",componentId:"sc-1fr8g15-1"})(["margin-left:0px 2px;"]),xa=["currentItem","totalNumberOfItems"];function Na(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),t.push.apply(t,n)}return t}function Sa(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?Na(Object(t),!0).forEach((function(i){(0,r.Z)(e,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Na(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}))}return e}const ja=e=>{let{currentItem:i,totalNumberOfItems:t}=e,n=(0,s.Z)(e,xa);return(0,u.jsxs)(ba,Sa(Sa({},n),{},{children:[i,(0,u.jsx)(wa,{children:"/"}),t]}))},Pa=W.ZP.section.withConfig({displayName:"DetailedGalleryFullscreenViewstyles__FullScreenViewContainer",componentId:"sc-1hrg47b-0"})(["background:var(--color-neutral-gray-50);position:relative;width:100%;height:100%;display:flex;align-items:center;justify-content:center;"]),_a=W.ZP.div.withConfig({displayName:"DetailedGalleryFullscreenViewstyles__MediaWrapper",componentId:"sc-1hrg47b-1"})([""," height:100%;padding:"," 0;"],Rn,(e=>`${e.theme.sizing("md")}`)),Ca=W.ZP.ul.withConfig({displayName:"DetailedGalleryFullscreenViewstyles__MediaContainer",componentId:"sc-1hrg47b-2"})([""," height:100%;"],zn),Ia=(0,W.ZP)(Tn.Z).withConfig({displayName:"DetailedGalleryFullscreenViewstyles__StyledPicture",componentId:"sc-1hrg47b-3"})(["height:100%;display:flex;align-items:center;justify-content:center;"]),Za=({mediaItems:e,selectedImageId:i,isMobile:t})=>{const{0:a,1:r}=(0,n.useState)(0),{processMediaDisplayEvent:s}=(0,n.useContext)(wn);(0,n.useEffect)((()=>{window.location.hash=i}),[i]);const o=e.filter((e=>e.__typename===Oa.PRODUCTIMAGE)),d=(e,i)=>{const n=t?"mobile":"desktop",a=null===e||void 0===e?void 0:e.sizes[n].highResUrl,{id:o}=e;return(0,u.jsx)(j.Z,{onIntersection:e=>((e,i,t)=>{e&&(s(t),r(i))})(e,i,o),threshold:.75,children:({onRef:e})=>(0,u.jsx)(An,{ref:e,children:(0,u.jsx)(Ia,{style:{maxHeight:"100%"},id:o,srcset:[{url:a}],alt:"","data-test":`fullscreen-image-${i}`})})},o)};return(0,u.jsxs)(Pa,{"data-test":"mediagallery-fullscreen",children:[(0,u.jsx)(ja,{currentItem:a+1,totalNumberOfItems:o.length,"data-test":"fullscreen-counter"}),(0,u.jsx)(_a,{children:(0,u.jsx)(Ca,{$width:o.length,children:o.map(((e,i)=>d(e,i)))})})]})};let Oa;!function(e){e.PRODUCTIMAGE="ProductImage",e.PRODUCTVIDEO="ProductVideo"}(Oa||(Oa={}));const Fa=({mediaItems:e,isOpen:i,setIsOpen:t,selectedImageId:a,setSelectedImageId:r,isMobile:s,defaultCurrentView:o})=>{const{0:d,1:l}=(0,n.useState)(o),c=(0,Z.T)();(0,Ln.h)(i);const m=d===Ta.GRID?`${c("productDetails.gallery.imagesTitle")}/${c("productDetails.gallery.videosTitle")}`:c("productDetails.gallery.imagesTitle"),p=()=>{window.location.hash="",d===Ta.GRID||e.length<=1?t(!1):l(Ta.GRID)};return(0,u.jsx)(se.Z,{isOpen:i,label:m,refocusTriggerButton:!1,renderCustomClose:()=>(0,u.jsx)(Un,{children:(0,u.jsx)(Fn.zx,{appearance:"color-neutral-gray-75",buttonVariant:"primary",icon:{a11yLabel:c("common.close"),name:"cross",position:"icon-only"},onClick:p,"data-test":"grid-view-close"})}),disableScrollBlock:!0,children:(0,u.jsx)(Wn,{children:d===Ta.GRID?(0,u.jsx)(fa,{mediaItems:e,setCurrentView:l,setSelectedImageId:r,isMobile:s}):(0,u.jsx)(Za,{mediaItems:e,selectedImageId:a,isMobile:s})})})};let Ta;!function(e){e[e.GRID=0]="GRID",e[e.FULLSCREEN=1]="FULLSCREEN"}(Ta||(Ta={}));const Ra=({media:e,isMobile:i})=>{const{productMedia:t,experimentMedia:a}=e,{processMediaDisplayEvent:r}=(0,n.useContext)(wn),s=(0,Z.T)(),{0:o,1:d}=(0,n.useState)(!1),{0:l,1:c}=(0,n.useState)(0),{0:m,1:p}=(0,n.useState)(""),g="on"===(0,T.aq)("pdp_image_carousel")&&null!==a&&void 0!==a&&a.items?a.items:(null===t||void 0===t?void 0:t.items)||[],v=g&&g.length>0&&g.filter(Boolean)||[],h=v.length>0,y=v.length>1?Ta.GRID:Ta.FULLSCREEN,k=y===Ta.GRID?s("productDetails.gallery.viewAll"):s("productDetails.gallery.viewFullScreen"),f=e=>{p(e),d(!0)},b=(e,t)=>{switch(e.__typename){case Oa.PRODUCTIMAGE:return((e,t)=>{var n;const a=i?"mobile":"desktop",r=null===(n=e.sizes[a])||void 0===n?void 0:n.url;return(0,u.jsx)($n,{onClick:()=>f(e.id),"aria-label":k,"data-test":`mediagallery-image-button-${t}`,children:(0,u.jsx)(Mn,{style:{maxHeight:"100%"},srcset:[{url:r,maxPixelDensity:1.5}],alt:"","data-test":`mediagallery-image-${t}`})})})(e,t);case Oa.PRODUCTVIDEO:return(({video:e},i)=>(0,u.jsx)(On.Z,{url:e.url,"data-test":`mediaviewer-videoplayer-${i}`,backgroundColor:"white",active:i===l&&!o}))(e,t);default:return null}};return(0,u.jsx)(Dn,{children:h?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Fa,{isOpen:o,setIsOpen:d,mediaItems:v,selectedImageId:m,setSelectedImageId:p,isMobile:i,defaultCurrentView:y}),(0,u.jsx)(ja,{"data-test":"mediagallery-counter",currentItem:l+1,totalNumberOfItems:v.length}),(0,u.jsx)(Vn,{children:(0,u.jsx)(En,{$width:v.length,children:(w=v,w.map(((e,i)=>(0,u.jsx)(j.Z,{onIntersection:t=>((e,i,t)=>{e&&(r(t),c(i))})(t,i,e.id),threshold:.75,children:({onRef:t})=>(0,u.jsx)(An,{ref:t,children:b(e,i)})},e.id))))})}),v.length>1&&(0,u.jsx)(Bn,{children:(0,u.jsx)(Fn.zx,{text:s("productDetails.gallery.viewAll"),onClick:()=>f(m),"data-test":"mediagallery-viewall",icon:{name:"view-thumbnail-large-f",position:"icon-left"}})})]}):(0,u.jsx)("img",{"data-test":"mediagallery-primaryImage",src:e.mediaViewerPrimaryImage||"",alt:""})});var w};var za=t(84140),Da=t(37447),Va=t(65634),Ea=t.n(Va),Aa=t(99729),Ma=t.n(Aa);const Ba=W.ZP.div.withConfig({displayName:"SafetyWarningstyles__Container",componentId:"sc-r1c2ir-0"})(["display:flex;align-items:center;justify-content:space-between;word-break:break-word;text-align:left;flex-direction:row;"]),$a=W.ZP.div.withConfig({displayName:"SafetyWarningstyles__SafetyIcon",componentId:"sc-r1c2ir-1"})([""," margin:",";background:url(",") no-repeat;background-position:center;"],(e=>"safety"===e.imageKey&&"SMALL_PARTS_BALL"===e.warningType?(0,W.iv)(["width:",";height:",";"],e.theme.sizing("3xl"),e.theme.sizing("3xl")):(0,W.iv)(["width:",";height:",";"],e.theme.sizing("xxl"),e.theme.sizing("xxl"))),(e=>`0 0 0 ${e.theme.sizing("lg")}`),(({imageKey:e})=>{switch(e){case"safety":return Ea();case"safetyNA":return Ma();default:return null}})),La=({label:e,type:i,className:t,showSafetyImage:n,imageKey:a})=>e&&i?(0,u.jsxs)(Ba,{className:t,"data-test":"product-overview-safety",children:[(0,u.jsx)(M.Z,{tag:"span",size:"sm1",children:e}),n&&(0,u.jsx)($a,{imageKey:a,warningType:i})]}):null;La.fragments={safetyWarning:{kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ProductAttributes_SafetyWarning"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProductAttributes"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"safetyWarning"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"showSafetyImage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageKey"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:174,source:{body:"\n    fragment ProductAttributes_SafetyWarning on ProductAttributes {\n      safetyWarning {\n        key\n        label\n        showSafetyImage\n        imageKey\n      }\n    }\n  ",name:"GraphQL request",locationOffset:{line:1,column:1}}}}};var Wa=La,Ua=t(29737),Ga=t(22993),qa=t(56059),Ha=t(87911);const Qa=(0,W.iv)(["display:flex;justify-content:space-between;align-items:center;padding:",";width:100%;border-top:1px solid ",";max-width:",";",";"," ",""],(e=>e.theme.sizing("ms")),(e=>e.theme.color("grey_light")),(e=>e.theme.contentMaxWidth()),(e=>e.theme.media.between("small","medium")((0,W.iv)(["padding:",";&:nth-child(odd){border-bottom:1px solid ",";}&:nth-child(even){border-bottom:1px solid ",";}&:nth-child(-n + 2){margin-right:",";}&:last-child{margin-right:0;}"],e.theme.sizing("xs"),e.theme.color("grey_light"),e.theme.color("grey_light"),e.theme.sizing("lg")))),(({theme:e})=>e.media.max("medium")((0,W.iv)(["margin:0;&:nth-child(even){border-bottom:1px solid ",";}"],e.color("grey_light")))),(({theme:e})=>e.media.max("small")((0,W.iv)(["margin:0;&:nth-child(even){border-bottom:0;}"])))),Ka=(0,W.ZP)(Ei.Z).withConfig({displayName:"ProductAccessoryActionstyles__ProductAccessoryActionLink",componentId:"sc-k848dz-0"})(["background-color:white;color:black;border:none;display:flex;justify-content:space-between;align-items:center;cursor:pointer;padding:",";width:100%;border-top:1px solid ",";max-width:",";",";"],(e=>e.theme.sizing("ms")),(e=>e.theme.color("grey_light")),(e=>e.theme.contentMaxWidth()),(({theme:e})=>e.media.between("small","medium")((0,W.iv)(["padding:",";&:nth-child(-n + 2){margin-right:",";}&:last-child{border-top:0;border-bottom:1px solid ",";}"],e.sizing("xs"),e.sizing("3xs"),e.color("grey_light"))))),Xa=W.ZP.button.withConfig({displayName:"ProductAccessoryActionstyles__ProductAccessoryActionButton",componentId:"sc-k848dz-1"})([""," cursor:'pointer';"],Qa),Ya=W.ZP.div.withConfig({displayName:"ProductAccessoryActionstyles__ProductAccessoryActionDisabledButton",componentId:"sc-k848dz-2"})(["",""],Qa),Ja=W.ZP.span.withConfig({displayName:"ProductAccessoryActionstyles__IconWrapper",componentId:"sc-k848dz-3"})(["color:",";opacity:",";display:flex;align-items:center;"],(e=>e.theme.color("grey_light")),(e=>e.$disabled?"0.3":1)),er=(0,W.ZP)(M.Z).withConfig({displayName:"ProductAccessoryActionstyles__ProductAccessoryActionTitle",componentId:"sc-k848dz-4"})(["flex-grow:2;font-size:",";font-weight:",";opacity:",";text-align:left;margin:0 0 0 ",";&:hover{color:",";}"],(e=>e.theme.fontSize("sm1")),(e=>e.theme.fontWeight("semiBold")),(e=>e.$disabled?"0.3":1),(e=>e.theme.sizing("ms")),(e=>e.$disabled?"inherit":e.theme.color("blue"))),ir=W.ZP.div.withConfig({displayName:"ProductAccessoryActionstyles__InfoWrapper",componentId:"sc-k848dz-5"})(["display:flex;"]),tr=W.ZP.div.withConfig({displayName:"ProductAccessoryActionstyles__IconButtonWrapper",componentId:"sc-k848dz-6"})(["display:flex;align-items:center;height:100%;"]),nr=W.ZP.button.withConfig({displayName:"ProductAccessoryActionstyles__IconButton",componentId:"sc-k848dz-7"})(["margin-left:",";height:",";&:hover{color:",";}"],(e=>e.theme.sizing("xxs")),(0,Ci.hO)(20),(e=>e.$disabled?"inherit":e.theme.color("blue"))),ar=W.ZP.div.withConfig({displayName:"ProductAccessoryActionstyles__TooltipBody",componentId:"sc-k848dz-8"})(["width:",";"],(0,Ci.hO)(300)),rr=(0,W.ZP)(Xa).withConfig({displayName:"ProductAccessoryActionstyles__ProductAccessoryBisemailActionButton",componentId:"sc-k848dz-9"})(["justify-content:flex-start;background-color:",";margin-top:20px;border-radius:8px;border:0.5px solid ",";"," ",""],(e=>e.theme.color("grey_extra_light")),(e=>e.theme.color("grey_light")),(({theme:e})=>e.media.max("medium")((0,W.iv)(["margin-top:20px;"]))),(({theme:e})=>e.media.max("small")((0,W.iv)(["margin-top:20px;"])))),sr=(0,W.ZP)(er).withConfig({displayName:"ProductAccessoryActionstyles__ProductAccessoryModalActionTitle",componentId:"sc-k848dz-10"})(["font-size:",";"],(e=>e.theme.fontSize("s0"))),or=(W.ZP.div.withConfig({displayName:"ProductAccessoryActionstyles__ActionWrapper",componentId:"sc-k848dz-11"})(["color:",";opacity:",";display:flex;align-items:center;"],(e=>e.theme.color("grey_light")),(e=>e.$disabled?"0.3":1)),W.ZP.div.withConfig({displayName:"ProductAccessoryActionstyles__ActionContainer",componentId:"sc-k848dz-12"})(["display:flex;align-items:flex-start;flex-direction:column;"])),dr=(0,W.ZP)(M.Z).withConfig({displayName:"ProductAccessoryActionstyles__ProductAccessoryActionDescription",componentId:"sc-k848dz-13"})(["font-size:",";font-weight:",";line-height:",";margin:0 0 0 ",";opacity:",";text-align:left;"],(e=>e.theme.fontSize("sm2")),(e=>e.theme.fontWeight("normal")),(e=>e.theme.lineHeight("sm1")),(e=>e.theme.sizing("ms")),(e=>e.$disabled?"0.3":1));var lr=e=>{const{title:i,description:t,channel:n,iconType:a,onClick:r,id:s,url:o,openInNewPage:d,iconWidth:l,iconHeight:c,iconColor:m,disabled:p,tooltip:g}=e,v=Boolean((null===g||void 0===g?void 0:g.title)&&(null===g||void 0===g?void 0:g.label)&&(null===g||void 0===g?void 0:g.body));return o?(0,u.jsxs)(Ka,{button:!0,to:o,target:d?"_blank":void 0,onClick:r,id:s,children:[(0,u.jsx)(Ja,{children:(0,u.jsx)(ri.Z,{type:a,height:c,width:l,color:m})}),(0,u.jsx)(er,{children:(0,u.jsx)(B.Z,{id:i})}),(0,u.jsx)(ri.Z,{color:"grey",type:"chevron",width:20,height:15})]}):n?(0,u.jsxs)(rr,{"aria-haspopup":"dialog",onClick:r,id:s,children:[(0,u.jsx)(Ja,{children:(0,u.jsx)(ri.Z,{type:a,height:c,width:l,color:m})}),(0,u.jsxs)(or,{children:[(0,u.jsx)(sr,{"data-test":"product-action-title",children:(0,u.jsx)(B.Z,{id:i})}),t&&(0,u.jsx)(dr,{"data-test":"product-action-description",children:(0,u.jsx)(B.Z,{id:t})})]})]}):p?(0,u.jsxs)(Ya,{id:s,children:[(0,u.jsxs)(ir,{children:[(0,u.jsx)(Ja,{$disabled:p,children:(0,u.jsx)(ri.Z,{type:a,height:c,width:l,color:m})}),(0,u.jsx)(er,{$disabled:p,children:(0,u.jsx)(B.Z,{id:i})}),v&&(0,u.jsx)(Ha.Z,{id:"product-accessory-action",title:null===g||void 0===g?void 0:g.title,renderTrigger:({open:e,ref:i,tooltipBodyId:t})=>(0,u.jsx)(tr,{children:(0,u.jsx)(nr,{ref:i,"aria-describedby":t,"aria-label":null===g||void 0===g?void 0:g.label,onClick:i=>{r(i),e()},children:(0,u.jsx)(ri.Z,{type:"info",width:20,height:20})})}),children:(0,u.jsx)(ar,{children:(0,u.jsx)(M.Z,{tag:"p",colour:"black",children:null===g||void 0===g?void 0:g.body})})})]}),(0,u.jsx)(Ja,{$disabled:p,children:(0,u.jsx)(ri.Z,{color:"grey",type:"chevron",width:20,height:15})})]}):(0,u.jsxs)(Xa,{"aria-haspopup":"dialog",onClick:r,id:s,children:[(0,u.jsx)(Ja,{children:(0,u.jsx)(ri.Z,{type:a,height:c,width:l,color:m})}),(0,u.jsx)(er,{children:(0,u.jsx)(B.Z,{id:i})}),(0,u.jsx)(ri.Z,{color:"grey",type:"chevron",width:20,height:15})]})};const cr=W.ZP.div.withConfig({displayName:"sharedstyles__MaxWidthContainer",componentId:"sc-3k7bob-0"})(["width:100%;max-width:",";padding:",";",";margin:0 auto;"],(e=>e.theme.maxWidth()),(e=>`0 ${e.theme.sizing("ms")}`),(e=>e.theme.media.min("large")((0,W.iv)(["padding-right:",";padding-left:",";"],e.theme.sizing("xl"),e.theme.sizing("xl"))))),mr=(0,W.ZP)(M.Z).attrs((()=>({tag:"h4",weight:"semiBold",color:"grey_dark"}))).withConfig({displayName:"sharedstyles__SectionTitle",componentId:"sc-3k7bob-1"})(["margin:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;",";",""],(e=>e.theme.font("s1")),(e=>e.theme.media.min("medium")((0,W.iv)(["",";"],e.theme.font("s3"))))),ur=W.ZP.div.withConfig({displayName:"ProductDeliveryReturns__Container",componentId:"sc-y05fnu-0"})(["padding:0;"]);var pr=()=>(0,u.jsx)(ur,{"data-test":"product-drawer-delivery-returns-content",children:(0,u.jsx)(cr,{children:(0,u.jsx)(M.Z,{size:"sm1",children:(0,u.jsx)(L.Z,{id:"product.deliveryReturns.body",noNormalisedStyles:!0})})})}),gr=t(29866),vr=t(69382);const hr=W.ZP.div.withConfig({displayName:"StoreCheckerstyles__StoreCheckerContainer",componentId:"sc-1ogdbsf-0"})(["display:flex;flex-direction:column;justify-content:space-between;height:100%;"]),yr=W.ZP.div.withConfig({displayName:"StoreCheckerstyles__StoreCheckerDescription",componentId:"sc-1ogdbsf-1"})(["",";"],(e=>(0,W.iv)(["padding:"," 0;"],e.theme.sizing("xs")))),kr=W.ZP.div.withConfig({displayName:"StoreCheckerstyles__DropdownChevronWrapper",componentId:"sc-1ogdbsf-2"})(["position:absolute;top:50%;right:",";transform:translateY(-50%);pointer-events:none;"],(e=>e.theme.sizing("sm"))),fr=(0,W.ZP)(Pi.Z).withConfig({displayName:"StoreCheckerstyles__DropdownChevron",componentId:"sc-1ogdbsf-3"})(["transition:transform 0.3s;width:",";height:",";color:",";pointer-events:none;"],(e=>e.theme.sizing("sm")),(e=>e.theme.sizing("sm")),(e=>e.theme.color("grey"))),br=W.ZP.div.withConfig({displayName:"StoreCheckerstyles__StoreSelect",componentId:"sc-1ogdbsf-4"})(["position:relative;display:flex;flex-direction:column;margin-bottom:",";cursor:pointer;"],(e=>e.theme.sizing("sm"))),wr=W.ZP.div.withConfig({displayName:"StoreCheckerstyles__StoreSelected",componentId:"sc-1ogdbsf-5"})(["padding:"," ",";border:1px solid ",";display:flex;flex-direction:column;user-select:none;",""],(e=>e.theme.sizing("xxs")),(e=>e.theme.sizing("sm")),(e=>e.theme.color("grey_light")),(e=>e.selecting&&(0,W.iv)(["border:1px solid ",";box-shadow:0 0 "," 0 ",";"],e.theme.color("blue_light"),e.theme.sizing("xxs"),e.theme.color("grey_light")))),xr=W.ZP.div.withConfig({displayName:"StoreCheckerstyles__StoreSelectList",componentId:"sc-1ogdbsf-6"})(["position:absolute;top:100%;width:100%;",""],(e=>e.selecting&&(0,W.iv)(["box-shadow:0 "," "," 0 ",";"],e.theme.sizing("4xs"),e.theme.sizing("xxs"),e.theme.color("grey_light")))),Nr=W.ZP.div.withConfig({displayName:"StoreCheckerstyles__StoreNotSelected",componentId:"sc-1ogdbsf-7"})(["padding:"," ",";display:flex;align-items:center;border:1px solid ",";border-top:0;background:",";width:100%;height:",";user-select:none;"],(e=>e.theme.sizing("xxs")),(e=>e.theme.sizing("sm")),(e=>e.theme.color("grey_light")),(e=>e.theme.color("white")),(e=>e.theme.sizing("xxl"))),Sr=W.ZP.div.withConfig({displayName:"StoreCheckerstyles__AddressInput",componentId:"sc-1ogdbsf-8"})(["margin-top:",";width:100%;"],(e=>e.theme.sizing("sm"))),jr=W.ZP.div.withConfig({displayName:"StoreCheckerstyles__StoreListHeader",componentId:"sc-1ogdbsf-9"})(["display:flex;align-items:center;padding:0 0 ",";"],(e=>e.theme.sizing("xs"))),Pr=(0,W.ZP)(oe.Z).withConfig({displayName:"StoreCheckerstyles__StoreLocationChange",componentId:"sc-1ogdbsf-10"})(["margin-left:auto;"]),_r=(0,W.ZP)(oe.Z).withConfig({displayName:"StoreCheckerstyles__SeeStoreDetails",componentId:"sc-1ogdbsf-11"})(["margin-top:",";align-self:flex-start;"],(e=>e.theme.sizing("xxs"))),Cr=W.ZP.div.withConfig({displayName:"StoreCheckerstyles__StorePreview",componentId:"sc-1ogdbsf-12"})(["display:flex;"]),Ir=W.ZP.li.withConfig({displayName:"StoreCheckerstyles__OpeningTime",componentId:"sc-1ogdbsf-13"})(["display:flex;justify-content:space-between;& :first-child{margin-right:",";}"],(0,Ci.hO)(10)),Zr=W.ZP.ul.withConfig({displayName:"StoreCheckerstyles__StoreOpeningTimes",componentId:"sc-1ogdbsf-14"})(["margin-top:",";",";",";"],(e=>e.theme.sizing("xs")),(e=>e.theme.media.between("large","massive")((0,W.iv)(["margin-right:",";"],(0,Ci.hO)(20)))),(e=>e.theme.media.between("tiny","large")((0,W.iv)(["margin-right:0;"])))),Or=W.ZP.div.withConfig({displayName:"StoreCheckerstyles__MainModalContent",componentId:"sc-1ogdbsf-15"})(["display:flex;flex-direction:column;"]),Fr=W.ZP.div.withConfig({displayName:"StoreCheckerstyles__AddressWrapper",componentId:"sc-1ogdbsf-16"})(["display:flex;flex-direction:row;justify-content:space-between;"," ",";"],(e=>e.theme.media.max("small")((0,W.iv)(["flex-direction:column;"]))),(e=>e.theme.media.between("small","large")((0,W.iv)(["display:block;"])))),Tr=W.ZP.div.withConfig({displayName:"StoreCheckerstyles__StoreDetails",componentId:"sc-1ogdbsf-17"})(["display:flex;flex-direction:column;flex:1 1 100%;padding:0 ",";"],(e=>e.theme.sizing("xs"))),Rr=W.ZP.div.withConfig({displayName:"StoreCheckerstyles__StoreDistance",componentId:"sc-1ogdbsf-18"})(["white-space:nowrap;font-weight:",";"],(e=>e.theme.fontWeight("bold"))),zr=W.ZP.div.withConfig({displayName:"StoreCheckerstyles__StoreName",componentId:"sc-1ogdbsf-19"})(["font-weight:",";"],(e=>e.theme.fontWeight("semiBold"))),Dr=W.ZP.div.withConfig({displayName:"StoreCheckerstyles__StatusIcon",componentId:"sc-1ogdbsf-20"})(["svg{color:",";margin-top:",";}"],(e=>e.inStock?e.theme.color("green"):e.theme.color("red")),(e=>e.inStock?0:e.theme.sizing("4xs"))),Vr=W.ZP.div.withConfig({displayName:"StoreCheckerstyles__StatusText",componentId:"sc-1ogdbsf-21"})(["color:",";font-size:",";font-weight:",";"],(e=>e.theme.color("grey")),(e=>e.theme.sizing("xxs")),(e=>e.theme.fontWeight("semiBold"))),Er=(0,W.ZP)(gn.Z).withConfig({displayName:"StoreCheckerstyles__StyledMediaQuery",componentId:"sc-1ogdbsf-22"})(["width:100%;padding-top:calc((240 / 600) * 100%);position:relative;"]),Ar=(0,W.ZP)(gn.Z).withConfig({displayName:"StoreCheckerstyles__StyledMediaQueryMobile",componentId:"sc-1ogdbsf-23"})(["width:100%;padding-top:calc((420 / 560) * 100%);position:relative;"]),Mr=(0,W.ZP)(ai.ZP).withConfig({displayName:"StoreCheckerstyles__ImageStyled",componentId:"sc-1ogdbsf-24"})(["position:absolute;top:0;left:0;width:100%;height:100%;"]),Br=W.ZP.div.withConfig({displayName:"StoreCheckerstyles__StoreAddress",componentId:"sc-1ogdbsf-25"})(["color:",";margin-bottom:",";font-size:",";max-width:",";"],(e=>e.theme.color("grey")),(e=>e.theme.sizing("3xs")),(e=>e.theme.sizing("xs")),(0,Ci.hO)(150)),$r=W.ZP.div.withConfig({displayName:"StoreCheckerstyles__StorePhone",componentId:"sc-1ogdbsf-26"})(["margin-bottom:",";font-size:",";"],(e=>e.theme.sizing("3xs")),(e=>e.theme.sizing("xs"))),Lr=(0,W.ZP)(M.Z).withConfig({displayName:"StoreCheckerstyles__PhoneTitleText",componentId:"sc-1ogdbsf-27"})(["margin-right:",";"],(e=>e.theme.sizing("4xs"))),Wr=W.ZP.div.withConfig({displayName:"StoreCheckerstyles__AdditionalInfo",componentId:"sc-1ogdbsf-28"})(["margin-top:",";",""],(e=>e.theme.sizing("xs")),(e=>e.theme.media.max("small")((0,W.iv)(["border-top:1px solid ",";"],e.theme.color("grey_light"))))),Ur=W.ZP.div.withConfig({displayName:"StoreCheckerstyles__PromotionsDisclaimer",componentId:"sc-1ogdbsf-29"})(["border-top:1px solid ",";padding-top:",";margin-top:",";"],(e=>e.theme.color("grey_light")),(e=>e.theme.sizing("xs")),(e=>e.theme.sizing("xs"))),Gr=(W.ZP.span.withConfig({displayName:"StoreCheckerstyles__AddressFinderError",componentId:"sc-1ogdbsf-30"})(["display:block;margin-top:",";"],(e=>e.theme.sizing("xs"))),W.ZP.span.withConfig({displayName:"StoreCheckerstyles__InfoButtonWrapper",componentId:"sc-1ogdbsf-31"})(["",";line-height:",";margin-left:",";"],(e=>e.theme.font("sm2")),(e=>e.theme.sizing("sm")),(e=>e.theme.sizing("4xs"))),W.ZP.div.withConfig({displayName:"StoreCheckerstyles__ModalWrapper",componentId:"sc-1ogdbsf-32"})(["max-width:",";padding:0;margin:0;"],(0,Ci.hO)(636))),qr=(0,W.ZP)(M.Z).withConfig({displayName:"StoreCheckerstyles__LabelText",componentId:"sc-1ogdbsf-33"})(["margin-top:",";"],(e=>e.theme.sizing("sm"))),Hr=((0,W.ZP)(M.Z).withConfig({displayName:"StoreCheckerstyles__TooltipText",componentId:"sc-1ogdbsf-34"})(["width:",";max-width:100%;"],(0,Ci.hO)(320)),{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"StockCheck"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sku"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"location"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"stores"},arguments:[{kind:"Argument",name:{kind:"Name",value:"sku"},value:{kind:"Variable",name:{kind:"Name",value:"sku"}}},{kind:"Argument",name:{kind:"Name",value:"location"},value:{kind:"Variable",name:{kind:"Name",value:"location"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"storeId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phone"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"openingTimes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"day"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timeRange"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"coordinates"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lat"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lng"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"distance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"distanceUnit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"statusCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"inStock"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"storeUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"additionalInfo"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:386,source:{body:"\n  query StockCheck($sku: String, $location: String) {\n    stores(sku: $sku, location: $location) {\n      storeId\n      name\n      address\n      phone\n      openingTimes {\n        day\n        timeRange\n      }\n      coordinates {\n        lat\n        lng\n      }\n      distance\n      distanceUnit\n      status\n      statusCode\n      inStock\n      storeUrl\n      additionalInfo\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}});var Qr,Kr,Xr=({variables:e,children:i,selectedStore:t,setSelectedStore:a})=>{const r=(0,w.aM)(Hr,{variables:e});return(0,n.useEffect)((()=>{if(!t){const{stores:e=[]}=r.data||{};e.length&&a(e[0])}}),[r.data,t,a]),i(r)};const Yr="INVENTORY",Jr=x.default.google.directionsUrl,es=null===(Qr=x.default.google)||void 0===Qr||null===(Kr=Qr.staticMap)||void 0===Kr?void 0:Kr.url,is=({store:e})=>{const{0:i,1:t}=(0,n.useState)(!1),a=(0,Z.T)();if(i||!e.address)return null;const r=encodeURIComponent(e.address);let s="";if(e.coordinates){const{lat:i,lng:t}=e.coordinates;i&&t&&(s=`&markers=color:red%7Clabel:A%7C${i},${t}`)}const o=x.default.google.staticMap.key,d=window.devicePixelRatio>=2?2:1,l=`${es}?center=${r}&zoom=15&size=600x240&scale=${d}&maptype=roadmap${s}&key=${o}`,c=`${es}?center=${r}&zoom=16&size=560x420&scale=${d}&maptype=roadmap${s}&key=${o}`;return(0,u.jsxs)("div",{"data-test":"store-inventory-map",children:[(0,u.jsx)(Er,{breakpoint:"small",matchWidth:"min",children:(0,u.jsx)(Mr,{src:l,alt:a("store.map"),onError:()=>t(!0)})}),(0,u.jsx)(Ar,{breakpoint:"small",matchWidth:"max",children:(0,u.jsx)(Mr,{src:c,alt:a("store.map"),onError:()=>t(!0)})})]})},ts=({store:e,origin:i,triggerStockCheckerEvent:t})=>{const n=encodeURIComponent(e.address),a=Jr.replace(/{ORIGIN_ADDR}/,i).replace(/{DEST_ADDR}/,n);return(0,u.jsxs)(Gr,{children:[(0,u.jsx)(M.Z,{tag:"h1",size:"s2",children:e.name}),(0,u.jsxs)(Or,{children:[(0,u.jsx)(Ei.Z,{to:a,target:"_blank",rel:"noopener noreferrer","data-test":"store-directions-map-link",onClick:()=>t("pdp_map_directions"),children:(0,u.jsx)(is,{store:e})}),(0,u.jsxs)(Fr,{children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(M.Z,{tag:"h2",children:(0,u.jsx)(B.Z,{id:"store.location"})}),e.address.length>0&&(0,u.jsx)(Br,{"data-test":"store-inventory-modal-address",children:e.address}),"string"===typeof e.phone&&e.phone.length>0&&(0,u.jsxs)($r,{"data-test":"store-inventory-modal-phone",children:[(0,u.jsxs)(Lr,{color:"grey",children:[(0,u.jsx)(B.Z,{id:"store.phone.title"}),":"]}),e.phone]}),(0,u.jsx)(Ei.Z,{to:a,target:"_blank",rel:"noopener noreferrer","data-test":"maps-link",onClick:()=>t("pdp_map_directions"),children:(0,u.jsx)(B.Z,{id:"directions.and.map"})})]}),(0,u.jsx)("div",{children:e.openingTimes.length>0&&(0,u.jsxs)(Zr,{"data-test":"store-inventory-modal-opening-times",children:[(0,u.jsx)(M.Z,{tag:"h2",children:(0,u.jsx)(B.Z,{id:"opening.times"})}),e.openingTimes.map((({day:e,timeRange:i})=>(0,u.jsxs)(Ir,{children:[(0,u.jsx)(M.Z,{color:"grey",children:e}),(0,u.jsx)(M.Z,{color:"grey",children:i})]},e)))]})})]})]}),e.additionalInfo&&(0,u.jsxs)(Wr,{children:[(0,u.jsx)(M.Z,{tag:"h2","data-test":"store-inventory-modal-additional-info",children:(0,u.jsx)(B.Z,{id:"additional.info"})}),(0,u.jsx)(M.Z,{tag:"p",color:"grey",children:e.additionalInfo})]}),(0,u.jsx)(Ur,{"data-test":"store-inventory-modal-promotion-disclaimer",children:(0,u.jsx)(M.Z,{color:"grey",children:(0,u.jsx)(L.Z,{id:"promotions.in.store.may.vary",values:{STORE_URL:e.storeUrl}})})})]})},ns=({store:e,showSelectedStore:i,triggerStockCheckerEvent:t})=>(0,u.jsxs)(Cr,{"data-test":"store-inventory-store-preview",children:[(0,u.jsx)(Dr,{inStock:e.inStock,"data-test":"store-inventory-icon-"+(e.inStock?"instock":"nostock"),children:e.inStock?(0,u.jsx)(ri.Z,{type:"tick"}):(0,u.jsx)(ri.Z,{type:"cross"})}),(0,u.jsxs)(Tr,{children:[(0,u.jsx)(zr,{"data-test":"store-inventory-preview-name",children:e.name}),(0,u.jsx)(Vr,{"data-test":"store-inventory-preview-status",children:e.status}),(0,u.jsx)(Br,{"data-test":"store-inventory-preview-address",children:e.address}),(0,u.jsx)(_r,{type:"link",onClick:()=>{t("pdp_see_store_details",e.inStock?"true":"false"),i()},"data-test":"store-inventory-preview-see-more",children:(0,u.jsx)(B.Z,{id:"see.store.details"})})]}),(0,u.jsxs)(Rr,{"data-test":"store-inventory-preview-distance",children:[e.distance," ",e.distanceUnit]})]},e.storeId);var as=({sku:e})=>{const{0:i,1:t}=(0,n.useState)(!1),{0:a,1:r}=(0,n.useState)(!1),{0:s,1:o}=(0,n.useState)(null),{0:d,1:l}=(0,n.useState)(null),{0:c,1:m}=(0,n.useState)(!0),p=(0,Z.T)(),{triggerEvent:g}=(0,T.FG)(),v=(0,gr.Do)(Yr),h=(e,i)=>{g({label:e,eventType:["custom"],data:i?{availability:i}:null})},y=()=>{t(!0),m(!1)};return(0,n.useEffect)((()=>{o(v)}),[v]),s?(0,u.jsxs)(hr,{children:[i&&d?(0,u.jsx)(ts,{store:d,origin:s,triggerStockCheckerEvent:h}):(0,u.jsxs)(Sr,{"data-test":"store-inventory",children:[(0,u.jsxs)(jr,{children:[(0,u.jsx)(M.Z,{size:"sm1",children:(0,u.jsx)(B.Z,{id:"nearest.store"})}),(0,u.jsx)(Pr,{type:"link",onClick:()=>{h("pdp_change_location",d&&d.inStock?"true":"false"),r(!1),l(null),o(null)},children:(0,u.jsx)(M.Z,{"data-test":"store-inventory-change-location",size:"sm1",children:(0,u.jsx)(B.Z,{id:"change.store.location"})})})]}),s&&(0,u.jsx)(Xr,{variables:{sku:e,location:encodeURIComponent(s)},selectedStore:d,setSelectedStore:l,children:({loading:e,error:i,data:t={}})=>{if(i)return(0,u.jsx)(M.Z,{"data-test":"store-inventory-error",children:(0,u.jsx)(B.Z,{id:"error.finding.stores"})});if(e)return(0,u.jsx)(M.Z,{children:(0,u.jsx)(B.Z,{id:"loading.nearby.stores"})});const{stores:n}=t;return 0===n.length?(0,u.jsx)(M.Z,{"data-test":"store-inventory-no-nearby-stores",children:(0,u.jsx)(B.Z,{id:"no.nearby.stores"})}):d?(0,u.jsxs)(u.Fragment,{children:[n.length>1&&(0,u.jsxs)(br,{"data-test":"store-inventory-select-store",children:[(0,u.jsxs)(wr,{onClick:()=>r(!a),selecting:a,"data-test":"store-inventory-selected-store",children:[(0,u.jsx)(M.Z,{size:"sm1",children:(0,u.jsx)(B.Z,{id:"select.a.store"})}),(0,u.jsx)(M.Z,{children:d.name})]}),(0,u.jsx)(xr,{selecting:a,"data-test":"store-inventory-stores-list",children:a&&n.filter((e=>e.storeId!==d.storeId)).map((e=>(0,u.jsxs)(Nr,{onClick:()=>{h("pdp_select_a_store_dropdown",d&&d.inStock?"true":"false"),l(e),r(!1)},"data-test":"store-inventory-store-unselected",children:[(0,u.jsx)(Dr,{inStock:e.inStock,"data-test":"store-inventory-icon-"+(e.inStock?"instock":"nostock"),children:e.inStock?(0,u.jsx)(ri.Z,{type:"tick"}):(0,u.jsx)(ri.Z,{type:"cross"})}),(0,u.jsx)(Tr,{children:(0,u.jsx)(zr,{children:e.name})}),(0,u.jsxs)(Rr,{children:[e.distance," ",e.distanceUnit]})]},e.storeId)))}),(0,u.jsx)(kr,{children:(0,u.jsx)(fr,{chevronDirection:a?"up":"down"})})]}),(0,u.jsx)(ns,{store:d,showSelectedStore:y,triggerStockCheckerEvent:h})]}):null}})]}),c&&(0,u.jsx)(yr,{children:(0,u.jsx)(B.Z,{id:"checkstock.description"})})]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(qr,{tag:"p",size:"sm1",children:(0,u.jsx)(B.Z,{id:"checkstock.check"})}),(0,u.jsx)(vr.Z,{buttonIcon:"search",iconHeight:18,iconWidth:18,iconColor:"blue",buttonType:"secondary",label:(0,u.jsx)(B.Z,{id:"enter.postcode"}),onSubmit:e=>{o(e),(0,gr.d8)({name:Yr,value:e,session:!0}),h("pdp_check_store_stock_search")},buttonLabel:p("store-inventory.find-store")})]})};const rs=W.ZP.div.withConfig({displayName:"EmailNotificationstyles__ModalContent",componentId:"sc-1fpcpv4-0"})(["margin:"," 0;"],(e=>e.theme.sizing("xxs"))),ss=((0,W.ZP)(M.Z).withConfig({displayName:"EmailNotificationstyles__ButtonLabel",componentId:"sc-1fpcpv4-1"})(["margin-left:",";color:",";"],(e=>e.theme.sizing("3xs")),(e=>e.theme.color("grey_dark"))),(0,W.ZP)(oe.Z).withConfig({displayName:"EmailNotificationstyles__StyledButton",componentId:"sc-1fpcpv4-2"})(["padding:0;display:flex;align-items:center;text-align:left;"]),W.ZP.svg.withConfig({displayName:"EmailNotificationstyles__StyledIcon",componentId:"sc-1fpcpv4-3"})(["height:",";width:",";flex-shrink:0;"],(e=>e.theme.sizing("lg")),(e=>e.theme.sizing("lg")))),os=W.ZP.div.withConfig({displayName:"EmailNotificationstyles__MessageHeading",componentId:"sc-1fpcpv4-4"})(["display:flex;flex-direction:row;"]),ds=(0,W.ZP)(M.Z).withConfig({displayName:"EmailNotificationstyles__MessageTitle",componentId:"sc-1fpcpv4-5"})(["margin-top:0;margin-left:",";"],(e=>e.theme.sizing("3xs"))),ls=W.ZP.div.withConfig({displayName:"EmailNotificationstyles__IconWrapper",componentId:"sc-1fpcpv4-6"})(["height:",";width:",";"],(e=>e.theme.sizing("lg")),(e=>e.theme.sizing("lg")));var cs=()=>(0,u.jsx)(ss,{width:"100%",height:"100%",viewBox:"0 0 40 40",alt:"",children:(0,u.jsx)("g",{id:"Back-in-stock-/-Coming-soon-Notification",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:(0,u.jsx)("g",{id:"Notify-Complete---success",transform:"translate(-633.000000, -408.000000)",children:(0,u.jsxs)("g",{id:"Iconography-/-Status-/-stages-Complete",transform:"translate(633.000000, 408.000000)",children:[(0,u.jsx)("g",{id:"Group-4",fill:"#008537",children:(0,u.jsx)("circle",{id:"Oval-3-Copy",cx:"17.5",cy:"17.5",r:"17.5"})}),(0,u.jsx)("g",{id:"Icon-/-Mono-/-Check-Copy",transform:"translate(9.000000, 12.000000)",fill:"#FFFFFF",children:(0,u.jsx)("g",{id:"Icon-/-Mono-/-Check",children:(0,u.jsx)("polygon",{id:"Shape",points:"0 5.26415094 6.45967742 12 18 0 15.9858871 0 13.9717742 0 6.45967742 7.79245283 4.02822581 5.28301887 2.0141129 5.28301887"})})})]})})})});var ms=()=>(0,u.jsx)(ss,{width:"100%",height:"100%",viewBox:"0 0 50 50",alt:"",children:(0,u.jsx)("g",{id:"Back-in-stock-/-Coming-soon-Notification",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:(0,u.jsx)("g",{id:"Notify-Complete---fail",transform:"translate(-621.000000, -396.000000)",fill:"#D0021B",children:(0,u.jsx)("g",{id:"Iconography-/-Status-/-stages-Complete",transform:"translate(621.000000, 396.000000)",children:(0,u.jsx)("g",{id:"Shape-2",transform:"translate(0.625000, 0.625000)",children:(0,u.jsx)("polygon",{id:"Shape",transform:"translate(24.375000, 24.375000) rotate(-315.000000) translate(-24.375000, -24.375000) ",points:"26.9425 21.8075 26.9425 8.125 21.8075 8.125 21.8075 21.8075 8.125 21.8075 8.125 26.9425 21.8075 26.9425 21.8075 40.625 26.9425 40.625 26.9425 26.9425 40.625 26.9425 40.625 21.8075"})})})})})});const us={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SubscribeToEmailNotification"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"email"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"country"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"language"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"notificationType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sku"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"productCode"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"productName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"baseImgUrl"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subscribeToEmailNotification"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"email"},value:{kind:"Variable",name:{kind:"Name",value:"email"}}},{kind:"ObjectField",name:{kind:"Name",value:"country"},value:{kind:"Variable",name:{kind:"Name",value:"country"}}},{kind:"ObjectField",name:{kind:"Name",value:"language"},value:{kind:"Variable",name:{kind:"Name",value:"language"}}},{kind:"ObjectField",name:{kind:"Name",value:"notificationType"},value:{kind:"Variable",name:{kind:"Name",value:"notificationType"}}},{kind:"ObjectField",name:{kind:"Name",value:"sku"},value:{kind:"Variable",name:{kind:"Name",value:"sku"}}},{kind:"ObjectField",name:{kind:"Name",value:"productCode"},value:{kind:"Variable",name:{kind:"Name",value:"productCode"}}},{kind:"ObjectField",name:{kind:"Name",value:"productName"},value:{kind:"Variable",name:{kind:"Name",value:"productName"}}},{kind:"ObjectField",name:{kind:"Name",value:"baseImgUrl"},value:{kind:"Variable",name:{kind:"Name",value:"baseImgUrl"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"success"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:566,source:{body:"\n  mutation SubscribeToEmailNotification(\n    $email: String!\n    $country: String!\n    $language: String!\n    $notificationType: String!\n    $sku: String!\n    $productCode: String!\n    $productName: String!\n    $baseImgUrl: String!\n  ) {\n    subscribeToEmailNotification(\n      input: {\n        email: $email\n        country: $country\n        language: $language\n        notificationType: $notificationType\n        sku: $sku\n        productCode: $productCode\n        productName: $productName\n        baseImgUrl: $baseImgUrl\n      }\n    ) {\n      success\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},ps=((0,W.ZP)(M.Z).withConfig({displayName:"EmailNotificationFormstyles__FormTitle",componentId:"sc-2togjv-0"})(["margin-bottom:",";"],(e=>e.theme.sizing("md"))),W.ZP.form.withConfig({displayName:"EmailNotificationFormstyles__Form",componentId:"sc-2togjv-1"})(["margin-bottom:",";"],(e=>e.theme.sizing("md")))),gs=(W.ZP.svg.withConfig({displayName:"EmailNotificationFormstyles__StyledIcon",componentId:"sc-2togjv-2"})(["height:",";width:",";"],(e=>e.theme.sizing("lg")),(e=>e.theme.sizing("lg"))),W.ZP.div.withConfig({displayName:"EmailNotificationFormstyles__FieldWrapper",componentId:"sc-2togjv-3"})(["margin-bottom:",";font-size:14px;"],(e=>e.theme.sizing("xs")))),vs=W.ZP.div.withConfig({displayName:"EmailNotificationFormstyles__EmailWrapper",componentId:"sc-2togjv-4"})(["margin-bottom:",";"],(e=>e.theme.sizing("md")));function hs(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),t.push.apply(t,n)}return t}function ys(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?hs(Object(t),!0).forEach((function(i){(0,r.Z)(e,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):hs(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}))}return e}var ks=({mutate:e,sku:i,availabilityStatus:t,productCode:n,productName:r,baseImgUrl:s})=>{const{triggerEvent:o}=(0,T.FG)(),d=(0,F.v)(),{country:l,lang:c}=(0,a.k)(),m=(0,Z.T)(),p=(0,ve.Ry)({email:(0,ve.Z_)().email(m("email.error.message")).required(),age:(0,ve.O7)().test("age",(e=>!0===e)).required(m("notification.invalid.age")),terms:(0,ve.O7)().test("terms",(e=>!0===e)).required(m("notification.invalid.terms"))}),g={email:d&&d.email||"",age:!1,terms:!1},[v,h,y,k,f]=(0,ye.c)(p,g);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(M.Z,{tag:"p",size:"sm1",children:(0,u.jsx)(B.Z,{id:"notification.form.text",values:{productName:r,productCode:n}})}),(0,u.jsxs)(ps,{onSubmit:a=>{a.preventDefault(),f(),e({variables:{email:v.values.email,language:c.toUpperCase(),notificationType:t,country:l,sku:i,productCode:n,productName:r,baseImgUrl:s}})},children:[(0,u.jsx)(vs,{children:(0,u.jsx)(Oe.Z,ys(ys({},h("email")),{},{label:m("notification.form.email.label"),"data-test":"notification-form-email-input"}))}),(0,u.jsx)(gs,{children:(0,u.jsx)(mi.Z,ys(ys({},h("age")),{},{label:m("notification.form.age.label")}))}),(0,u.jsx)(gs,{children:(0,u.jsx)(mi.Z,ys(ys({},h("terms")),{},{label:m("notification.form.terms.label")}))}),(0,u.jsx)(M.Z,{size:"sm2",children:(0,u.jsx)(L.Z,{id:"notification.terms",values:{productName:r,productCode:n}})}),(0,u.jsx)(oe.Z,{fullWidth:!0,type:v.isValid?"primary":"disabled","data-test":"notification-form-submit",onClick:()=>o({label:"pdpNotifyMeEmailSubmission",eventType:["custom"]}),children:(0,u.jsx)(B.Z,{id:"notification.form.button.label"})})]})]})};var fs=({sku:e,productCode:i,availabilityStatus:t,productName:a,baseImgUrl:r})=>{const[s,{data:o,error:d,loading:l}]=(0,w.Db)(us),{0:c,1:m}=(0,n.useState)(!1),{0:p,1:g}=(0,n.useState)(!1),{triggerEvent:v}=(0,T.FG)();return(0,n.useEffect)((()=>{const e=b()(o,(e=>e.subscribeToEmailNotification.success))||!1;!l&&e&&(v({label:"emailBackInStockAnalytics",eventType:["custom"]}),m(!0)),(!l&&d||o&&!e)&&g(!0)}),[o,d,l]),(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(rs,{children:[p&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(os,{children:[(0,u.jsx)(ls,{children:(0,u.jsx)(ms,{})}),(0,u.jsx)(ds,{tag:"h2",size:"s1",weight:"semiBold",children:(0,u.jsx)(B.Z,{id:"notification.error.title",values:{productName:a,productCode:i}})})]}),(0,u.jsx)(M.Z,{tag:"p",children:(0,u.jsx)(B.Z,{id:"notification.error.text"})})]}),c&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(os,{children:[(0,u.jsx)(ls,{children:(0,u.jsx)(cs,{})}),(0,u.jsx)(ds,{tag:"h2",size:"s1",weight:"semiBold",children:(0,u.jsx)(B.Z,{id:"notification.success.title",values:{productName:a,productCode:i}})})]}),(0,u.jsx)(M.Z,{tag:"p",children:(0,u.jsx)(B.Z,{id:"notification.success.text"})})]}),!c&&!p&&(0,u.jsx)(ks,{mutate:s,sku:e,productCode:i,availabilityStatus:t,productName:a,baseImgUrl:r})]})})};const bs={"product-card-link-delivery":{title:"product.deliveryReturns.title",component:()=>(0,u.jsx)(pr,{})},"product-card-link-availability":{title:"check.store.stock",component:({sku:e})=>(0,u.jsx)(as,{sku:e})},"product-card-link-notify-stock":{title:"notification.button.label",component:({sku:e,productCode:i,availabilityStatus:t,productName:n,baseImgUrl:a})=>(0,u.jsx)(fs,{sku:e,productCode:i,availabilityStatus:t,productName:n,baseImgUrl:a})}},ws={centAmount:0,formattedAmount:"",currencyCode:"",formattedValue:0},xs=e=>{if(!e||"ReadOnlyVariant"===e.__typename)return ws;const i=e.price||{};return{centAmount:i.centAmount||0,formattedAmount:i.formattedAmount||"",currencyCode:i.currencyCode||"",formattedValue:i.formattedValue||0}},Ns=e=>{if(!e||"ReadOnlyVariant"===e.__typename)return ws;const i=e.listPrice||{};return{centAmount:i.centAmount||0,formattedAmount:i.formattedAmount||"",currencyCode:"",formattedValue:i.formattedValue||0}};var Ss=t(95350),js=t(50965),Ps=t(31070);const _s=W.ZP.div.withConfig({displayName:"AddToBagContainerstyles__MinHeightContainer",componentId:"sc-af7cfl-0"})(["min-height:",";"],(0,Ci.hO)(50)),Cs=W.ZP.div.withConfig({displayName:"AddToBagContainerstyles__Container",componentId:"sc-af7cfl-1"})(["",""],(({theme:e,isFixed:i})=>(0,W.iv)(["",""],i?(0,W.iv)(["position:fixed;overflow:hidden;line-height:",";",";background-color:",";left:0;right:0;width:100%;",";",";animation-duration:400ms;animation-name:slidein;"],e.lineHeight("sm2"),e.zIndex("medium"),e.color("white"),e.media.min("large")((0,W.iv)(["@keyframes slidein{from{opacity:0;transform:translateY(-100%);}to{opacity:1;transform:translateY(0);}}top:0;box-shadow:0 0 "," 0 ",";"],e.sizing("xxs"),e.color("black",{transparency:.9}))),e.media.max("large")((0,W.iv)(["@keyframes slidein{from{opacity:0;transform:translateY(100%);}to{opacity:1;transform:translateY(0);}}bottom:0;border-top:1px solid ",";"],e.color("grey_light")))):(0,W.iv)(["position:relative;"])))),Is=W.ZP.div.withConfig({displayName:"AddToBagContainerstyles__ContentHolder",componentId:"sc-af7cfl-2"})(["",""],(({theme:e,isFixed:i})=>(0,W.iv)(["",""],i&&(0,W.iv)(["display:flex;align-items:center;max-width:",";padding:"," ",";",";margin:0 auto;"],e.maxWidth(),e.sizing("xs"),e.sizing("lg"),e.media.max("small")((0,W.iv)(["padding:",";"],e.sizing("xs"))))))),Zs=W.ZP.div.withConfig({displayName:"AddToBagContainerstyles__BagBarDescriptionContainer",componentId:"sc-af7cfl-3"})(["width:100%;","{line-height:",";}"],M.k,(({theme:e})=>e.lineHeight("sm2"))),Os=(0,W.ZP)(M.Z).withConfig({displayName:"AddToBagContainerstyles__ProductName",componentId:"sc-af7cfl-4"})(["display:block;font-weight:bold;"]),Fs=(0,W.ZP)(Ps.a).withConfig({displayName:"AddToBagContainerstyles__StyledAddToCart",componentId:"sc-af7cfl-5"})(["",""],(({theme:e,isFixed:i})=>(0,W.iv)(["",";"],i?(0,W.iv)(["padding:"," ",";width:auto;min-width:",";",""],e.sizing("3xs"),e.sizing("lg"),(0,Ci.hO)(220),e.media.max("small")((0,W.iv)(["padding-right:",";padding-left:",";min-width:",";"],e.sizing("xs"),e.sizing("xs"),(0,Ci.hO)(150)))):(0,W.iv)(["",";"],e.media.between("small","medium")((0,W.iv)(["width:100%;"])))))),Ts=({label:e,data:i,analyticsEvents:t,isProductAvailable:a})=>{const{headerActions:r}=(0,n.useContext)(Ss.pI),s=(0,n.useRef)(null),{0:o,1:d}=(0,n.useState)(!1),l=(0,O.Z)("screen and (min-width: 1200px)");(0,n.useEffect)((()=>{if(null!==l&&s&&s.current){const e=s.current.getBoundingClientRect(),i=(e.y||e.top)<0;r.setForceHide(i&&l),r.setChatOffset(i&&!l?"3xl":null)}}),[l,r]),(0,n.useEffect)((()=>()=>{r.setForceHide(!1),r.setChatOffset(null)}),[]);const{name:c,onSale:m,formattedPrice:p,formattedListPrice:g}=i,v=()=>{t()};return(0,u.jsx)(j.Z,{onIntersection:(e,i={})=>{const t=!e&&i.top<0;t!==o&&(d(t),r.setChatOffset(t&&!l?"3xl":null))},children:({onRef:t})=>(0,u.jsx)(_s,{ref:e=>{s.current=e,t(e)},children:(0,u.jsx)(Cs,{isFixed:o,"data-test":"add-to-bag-sticky-container",children:(0,u.jsxs)(Is,{isFixed:o,children:[o&&(0,u.jsxs)(Zs,{children:[(0,u.jsx)(Os,{"data-test":"add-to-bag-sticky-product-name",children:c}),p&&(0,u.jsx)(js.Z,{price:p,listPrice:g,onSale:m,size:"s0",align:"left","data-test":"add-to-bag-sticky-price"})]}),(0,u.jsx)(Fs,{isFixed:o,label:e,"data-test":a?"add-to-bag":"add-to-bag-disabled",data:i,sendEvents:v,isProductAvailable:a})]})})})})};var Rs=t(37697);const zs=W.ZP.div.withConfig({displayName:"BisMessageModalstyles__ModalContent",componentId:"sc-kuor6l-0"})(["",""],(({theme:e})=>(0,W.iv)(["width:100%;padding:",";",""],e.sizing("ms"),e.media.min("small")((0,W.iv)(["width:",";"],(0,Ci.hO)(600)))))),Ds=(0,W.ZP)(M.Z).withConfig({displayName:"BisMessageModalstyles__HeaderText",componentId:"sc-kuor6l-1"})(["",""],(({theme:e})=>(0,W.iv)(["border-bottom:1px solid ",";padding-bottom:",";margin:0;font-weight:",";font-size:",";"],e.color("grey_light"),e.sizing("3xs"),e.fontWeight("semiBold"),(e=>e.theme.fontSize("s2"))))),Vs=W.ZP.div.withConfig({displayName:"BisMessageModalstyles__ContentWrapper",componentId:"sc-kuor6l-2"})(["",""],(({theme:e})=>(0,W.iv)(["padding-top:",";"],e.sizing("ms")))),Es=(0,W.ZP)(M.Z).withConfig({displayName:"BisMessageModalstyles__DescriptionText",componentId:"sc-kuor6l-3"})(["font-size:",";margin:0;font-weight:",";line-height:",";"],(e=>e.theme.fontSize("s0")),(e=>e.theme.fontWeight("normal")),(e=>e.theme.lineHeight("s0")));var As=e=>{const i=(0,Z.T)(),{0:t,1:a}=(0,n.useState)(!0),{data:{notifyAction:{showBisEmailButton:r,bisTooltip:s,disableBackInStockFeature:o,handleBisNotificationClick:d},storeInventoryAction:{canShowStoreInventory:l,handleProductCardLinkClick:c}},channel:m,product:p}=e,{triggerEvent:g}=(0,T.FG)(),v=i("back.in.stock.pop.up.body",{productName:p||""});return r&&!o||l?(0,u.jsx)(se.Z,{isOpen:t,onRequestClose:()=>{a(!1),g({label:"backInStockPopUpClose",eventType:["custom"]})},label:"label",closeLabel:"element.modal.closeLabel",renderTrigger:()=>{g({label:"backInStockPopUp",eventType:["custom"]})},children:(0,u.jsxs)(zs,{"data-test":"bismessage-modal-content",children:[(0,u.jsx)(Ds,{tag:"h2",size:"s1",children:(0,u.jsx)(B.Z,{id:"back.in.stock.pop.up.header"})}),(0,u.jsxs)(Vs,{children:[(0,u.jsx)(Es,{tag:"p",color:"black",size:"sm1",weight:"semiBold","data-test":"product-overview-stockdrop",children:v}),l&&(0,u.jsx)(lr,{title:"back.in.stock.pop.up.cta.header",description:"back.in.stock.pop.up.cta.body",channel:m,iconType:"pinpoint",iconHeight:26,iconWidth:35,iconColor:"blue",id:"product-card-link-availability","data-test":"message-modal-check-stock-button",onClick:e=>{a(!1),c(e),g({label:"backInStockPopUpCheckInStore",eventType:["custom"]})}}),r&&!o&&(0,u.jsx)(lr,{title:"back.in.stock.pop.up.cta.2.header",description:"back.in.stock.pop.up.cta.2.body",channel:m,iconType:"email",id:"product-card-link-notify-stock","data-test":"message-modal-bis-email-button",tooltip:s,disabled:o,onClick:e=>{a(!1),d(e),g({label:"backInStockPopUpNotifyMe",eventType:["custom"]})}})]})]})}):null};var Ms=e=>{const{data:i,channel:t,product:n}=e;return(0,u.jsx)(As,{data:i,channel:t,product:n})};function Bs(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),t.push.apply(t,n)}return t}function $s(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?Bs(Object(t),!0).forEach((function(i){(0,r.Z)(e,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Bs(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}))}return e}const Ls=(e,i)=>{switch(e.__typename){case"SingleVariantProduct":return b()(e,(e=>e.variant));case"MultiVariantProduct":return"number"===typeof i?b()(e,(e=>e.variants[i])):(e=>{if("MultiVariantProduct"===e.__typename){const i=e.variants[0],t=e.priceRange,n=t?{price:{__typename:"Price",centAmount:b()(i,(e=>e.price.centAmount))||0,currencyCode:b()(i,(e=>e.price.currencyCode))||"",formattedValue:b()(i,(e=>e.price.formattedValue))||0,formattedAmount:t.formattedPriceRange},listPrice:{__typename:"Price",centAmount:b()(i,(e=>e.listPrice.centAmount))||0,formattedValue:b()(i,(e=>e.listPrice.formattedValue))||0,formattedAmount:t.formattedListPriceRange}}:{};return $s($s({},i),{},{id:"",sku:"",vipPoints:null,attributes:$s($s({},i.attributes||{}),{},{maxOrderQuantity:0})},n)}return null})(e);case"ReadOnlyProduct":return b()(e,(e=>e.readOnlyVariant));default:return null}},Ws=(e,i)=>{if(e)return b()(e,(e=>e[i]))},Us=(e,i)=>{if(e)return b()(e,(e=>e.attributes[i]))},Gs=e=>{var i;return"ProductVariant"===(null===e||void 0===e?void 0:e.__typename)&&(null===(i=e.attributes)||void 0===i?void 0:i.maxOrderQuantity)||null};var qs=t(27189),Hs=t(32679);const Qs=W.ZP.nav.withConfig({displayName:"ColorVariantProductsMenustyles__Container",componentId:"sc-1fdopn3-0"})(["margin:0 -",";"],(0,Ci.hO)(8)),Ks=W.ZP.ul.withConfig({displayName:"ColorVariantProductsMenustyles__List",componentId:"sc-1fdopn3-1"})(["display:flex;flex-wrap:wrap;"]),Xs=(0,W.ZP)(Ei.Z).withConfig({displayName:"ColorVariantProductsMenustyles__Link",componentId:"sc-1fdopn3-2"})(["position:relative;display:inline-block;width:",";height:",";margin:0 ",";margin-bottom:",";"],(0,Ci.hO)(60),(0,Ci.hO)(60),(0,Ci.hO)(8),(e=>e.theme.sizing("4xs"))),Ys=W.ZP.div.withConfig({displayName:"ColorVariantProductsMenustyles__Thumbnail",componentId:"sc-1fdopn3-3"})(["display:block;width:100%;height:100%;border-radius:",";overflow:hidden;",""],(0,Ci.hO)(30),(e=>e.selected?(0,W.iv)(["border:1px solid ",";"],e.theme.color("blue")):(0,W.iv)(["border:1px solid ",";"],e.theme.color("grey_light")))),Js=(0,W.ZP)(ai.ZP).withConfig({displayName:"ColorVariantProductsMenustyles__Image",componentId:"sc-1fdopn3-4"})(["display:block;width:100%;height:100%;"]),eo=W.ZP.div.withConfig({displayName:"ColorVariantProductsMenustyles__Badge",componentId:"sc-1fdopn3-5"})(["display:block;position:absolute;top:",";right:",";width:",";height:",";line-height:",";text-align:center;border-radius:",";background-color:",";color:",";"],(0,Ci.hO)(-2),(0,Ci.hO)(-2),(0,Ci.hO)(20),(0,Ci.hO)(20),(0,Ci.hO)(20),(0,Ci.hO)(10),(e=>e.theme.color("blue")),(e=>e.theme.color("white"))),io=(0,W.ZP)(ri.Z).attrs({fill:"white",width:(0,Ci.hO)(10),height:(0,Ci.hO)(10)}).withConfig({displayName:"ColorVariantProductsMenustyles__Icon",componentId:"sc-1fdopn3-6"})([""]),to=e=>e.overrideUrl?e.overrideUrl:e.slug?(0,Hs.gY)(me.y.PRODUCT,{slug:e.slug}):"";var no=e=>{const{productCode:i,products:t,className:n,"data-test":a}=e;return(0,u.jsx)(Qs,{className:n,"data-test":a,children:(0,u.jsx)(Ks,{children:t.map((e=>{const t=e.productCode===i;return(0,u.jsx)("li",{children:(0,u.jsxs)(Xs,{to:to(e),"aria-current":t?"page":void 0,children:[(0,u.jsx)(Ys,{selected:t,children:(0,u.jsx)(Js,{src:{url:e.primaryImage}})}),t&&(0,u.jsx)(eo,{children:(0,u.jsx)(io,{type:"tick"})})]})},e.id)}))})})},ao=t(26169);const ro=W.ZP.div.withConfig({displayName:"VariantSelectorstyles__Container",componentId:"sc-1qr5uve-0"})(["width:100%;"]),so=W.ZP.div.withConfig({displayName:"VariantSelectorstyles__SizeUtilsContainer",componentId:"sc-1qr5uve-1"})(["display:flex;justify-content:flex-end;"," font-weight:",";margin-bottom:",";"],(e=>e.theme.font("sm2")),(e=>e.theme.fontWeight("semiBold")),(e=>e.theme.sizing("3xs"))),oo=(0,W.ZP)(M.Z).withConfig({displayName:"VariantSelectorstyles__SelectText",componentId:"sc-1qr5uve-2"})(["font-size:inherit;line-height:inherit;white-space:nowrap;"," ",""],(e=>e.color&&(0,W.iv)(["color ",";"],e.theme.color(e.color))),(e=>!1===e.canAddToBag&&(0,W.iv)(["color ",";text-decoration:line-through;"],e.theme.color("grey")))),lo=W.ZP.div.withConfig({displayName:"VariantSelectorstyles__SelectHighlight",componentId:"sc-1qr5uve-3"})(["position:relative;z-index:1;margin-top:-2px;",""],(e=>e.color&&(0,W.iv)(["border-top:2px solid ",";"],e.theme.color(e.color)))),co=(0,W.ZP)(M.Z).withConfig({displayName:"VariantSelectorstyles__SelectInfoText",componentId:"sc-1qr5uve-4"})([""," font-weight:",";",""],(e=>e.theme.font("sm2")),(e=>e.theme.fontWeight("semiBold")),(e=>e.color&&(0,W.iv)(["color ",";"],e.theme.color(e.color))));var mo=e=>{const{product:i,isVipUser:t,value:n,onChange:a,promptSelection:r,className:s,"data-test":o}=e,d=(0,Z.T)();if("MultiVariantProduct"!==i.__typename)return null;const l=(e=>{if("MultiVariantProduct"===e.__typename){const i=e.multiVariantType,t={size:"pdp.variant.select.label.size",language:"pdp.variant.select.label.language",color:"pdp.variant.select.label.color"};if(i&&t.hasOwnProperty(i))return t[i]}return""})(i),c=((e,i,t)=>{if("MultiVariantProduct"!==e.__typename)return[];const n=e.variants;return n?n.map((n=>{const{id:a,attributes:r={}}=n,{availabilityStatus:s,availabilityTextShort:o,availabilityTextColor:d,canAddToBag:l}=(0,C.UB)(n,i),{formattedAmount:c}=xs(n),m=((e,i)=>{const t={E_AVAILABLE:"",P_FREE_ITEM:"",A_PRE_ORDER_FOR_DATE:"",C_PRE_ORDER:"",F_BACKORDER_FOR_DATE:"",G_BACKORDER:"",D_COMING_SOON:{size:"pdp.variant.select.info.sizeComingSoon",color:"pdp.variant.select.label.colorComingSoon",language:"pdp.variant.select.label.languageComingSoon"},B_COMING_SOON_AT_DATE:{size:"pdp.variant.select.info.sizeComingSoon",color:"pdp.variant.select.label.colorComingSoon",language:"pdp.variant.select.label.languageComingSoon"},K_SOLD_OUT:{size:"pdp.variant.select.info.sizeSoldOut",color:"pdp.variant.select.label.colorSoldOut",language:"pdp.variant.select.label.languageSoldOut"},H_OUT_OF_STOCK:{size:"pdp.variant.select.info.sizeOutOfStock",color:"pdp.variant.select.label.colorOutOfStock",language:"pdp.variant.select.label.languageOutOfStock"},Q_OUT_STOCK_FREE_ITEM:{size:"pdp.variant.select.info.sizeOutOfStock",color:"pdp.variant.select.label.colorOutOfStock",language:"pdp.variant.select.label.languageOutOfStock"},R_RETIRED:{size:"pdp.variant.select.info.sizeRetired",color:"pdp.variant.select.label.colorRetired",language:"pdp.variant.select.label.languageRetired"},Y_NOT_AVAILABLE:"",X_NOT_FOUND:"",Z_DO_NOT_SHOW:""};return e&&t.hasOwnProperty(e)&&i&&t[e].hasOwnProperty(i)?t[e][i]:""})(s,e.multiVariantType);return{value:a,valueText:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(oo,{canAddToBag:l,children:`${r.skuSelectorValue||""} (${c})`}),(0,u.jsx)(oo,{color:d,children:`&nbsp;${t(o)}`})]}),selectedText:(0,u.jsx)(oo,{children:r.skuSelectorValue}),selectedExtraInfo:(0,u.jsx)(lo,{color:d,children:m&&(0,u.jsx)(co,{color:d,children:(0,u.jsx)(B.Z,{id:m})})})}})):[]})(i,t,d);return(0,u.jsxs)(ro,{className:s,children:["size"===i.multiVariantType&&(0,u.jsx)(so,{children:(0,u.jsx)(Ei.Z,{to:me.y.SIZE_GUIDE,target:"_blank",rel:"noopener noreferrer",children:(0,u.jsx)(B.Z,{id:"pdp.variant.link.sizeGuide"})})}),(0,u.jsx)(ao.Z,{id:"pdp-variant",label:l,value:n,options:c,onChange:a,active:r,"data-test":o})]})},uo=t(70862),po=t(89101);const go=W.ZP.div.withConfig({displayName:"QuantitySelectorstyles__Container",componentId:"sc-1nfm8rg-0"})(["display:flex;align-items:center;flex-wrap:wrap;"]),vo=(0,W.ZP)(po.Z).withConfig({displayName:"QuantitySelectorstyles__Quantity",componentId:"sc-1nfm8rg-1"})(["flex:0 0 auto;min-width:",";margin-right:",";"],(0,Ci.hO)(160),(e=>e.theme.sizing("sm"))),ho=W.ZP.div.withConfig({displayName:"QuantitySelectorstyles__MaxQuantityWrapper",componentId:"sc-1nfm8rg-2"})(["display:inline-flex;align-items:center;white-space:nowrap;margin-top:",";"],(e=>e.theme.sizing("4xs"))),yo=(0,W.ZP)(Ha.Z).withConfig({displayName:"QuantitySelectorstyles__Tooltip",componentId:"sc-1nfm8rg-3"})(["margin-bottom:",";"],(0,Ci.hO)(3)),ko=W.ZP.div.withConfig({displayName:"QuantitySelectorstyles__TooltipBody",componentId:"sc-1nfm8rg-4"})(["width:",";white-space:normal;"],(e=>e.theme.sizing(4.5))),fo=W.ZP.span.withConfig({displayName:"QuantitySelectorstyles__InfoButtonWrapper",componentId:"sc-1nfm8rg-5"})(["",";line-height:",";margin-left:",";"],(e=>e.theme.font("sm2")),(e=>e.theme.sizing("sm")),(e=>e.theme.sizing("4xs")));var bo=e=>{const{quantity:i,availableQuantity:t,maxQuantity:n,onQuantityChange:a,className:r}=e,s=(0,Z.T)();return(0,u.jsxs)(go,{className:r,children:[(0,u.jsx)(vo,{label:s("product.quantity"),value:i,maxValue:n?Math.min(n,t):t,minValue:1,onChange:a,"data-test":"product-overview-quantity"}),!!n&&(0,u.jsxs)(ho,{children:[(0,u.jsx)(M.Z,{tag:"span",color:"grey_dark",size:"sm1",children:(0,u.jsx)(B.Z,{id:"product.limit",values:{maxQuantity:`${n}`}})}),(0,u.jsx)(yo,{id:"max-quantity-info",title:s("limit.title"),renderTrigger:({open:e,ref:i,tooltipBodyId:t})=>(0,u.jsx)(fo,{children:(0,u.jsx)(uo.Z,{"aria-describedby":t,size:"sm",ref:i,onClick:e,label:s("more.info.about")})}),children:(0,u.jsx)(ko,{children:(0,u.jsx)(M.Z,{tag:"p",colour:"black",children:(0,u.jsx)(B.Z,{id:"limit.description"})})})})]})]})},wo=t(96775),xo=t(76968);const No=W.ZP.div.withConfig({displayName:"TargetedPromotionstyles__Wrapper",componentId:"sc-rujonf-0"})(["display:flex;width:100%;background:",";padding:"," ",";justify-content:center;"],(e=>e.theme.color("blue_extra_light")),(e=>e.theme.sizing("3xs")),(e=>e.theme.sizing("xs"))),So=(0,W.ZP)(M.Z).withConfig({displayName:"TargetedPromotionstyles__Title",componentId:"sc-rujonf-1"})(["margin:0;"]),jo=(0,W.ZP)(ai.ZP).withConfig({displayName:"TargetedPromotionstyles__StyledImage",componentId:"sc-rujonf-2"})(["max-height:",";width:auto;margin-right:",";"],(e=>e.theme.sizing("xxl")),(e=>e.theme.sizing("xs"))),Po=W.ZP.div.withConfig({displayName:"TargetedPromotionstyles__TooltipBody",componentId:"sc-rujonf-3"})(["min-width:",";font-size:",";"],(e=>e.theme.sizing(4.5)),(e=>e.theme.fontSize("sm1"))),_o=(0,W.ZP)(oe.Z).withConfig({displayName:"TargetedPromotionstyles__LinkButton",componentId:"sc-rujonf-4"})(["padding:0;"]),Co=(0,W.ZP)(Ei.Z).withConfig({displayName:"TargetedPromotionstyles__StyledLink",componentId:"sc-rujonf-5"})(["font-weight:",";",";"],(e=>e.theme.fontWeight("semiBold")),(e=>e.theme.font("sm1"))),Io=W.ZP.div.withConfig({displayName:"TargetedPromotionstyles__Inner",componentId:"sc-rujonf-6"})(["width:100%;"]),Zo={kind:"Document",definitions:(e=>{const i={};return e.filter((e=>{if("FragmentDefinition"!==e.kind)return!0;const t=e.name.value;return!i[t]&&(i[t]=!0,!0)}))})([{kind:"FragmentDefinition",name:{kind:"Name",value:"TargetedPromotionSection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PromotionTargeter"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"section"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"countdownDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"callToActionText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"callToActionLink"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tooltipText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageSrc"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ImageAsset"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"fetchOnClient"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"testId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"variantId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"inExperimentAudience"},arguments:[],directives:[]}]}}].concat(xo.S.definitions)),loc:{start:0,end:298,source:{body:"\n  fragment TargetedPromotionSection on PromotionTargeter {\n    section {\n      text\n      countdownDate\n      callToActionText\n      callToActionLink\n      tooltipText\n      imageSrc {\n        ...ImageAsset\n      }\n    }\n    fetchOnClient\n    testId\n    variantId\n    inExperimentAudience\n  }\n\n  \n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};var Oo=({promotion:e,className:i})=>{const{triggerEvent:t}=(0,T.FG)(),{0:a,1:r}=(0,n.useState)(null),s=(0,n.useCallback)((i=>t({label:"promoShown",eventType:["custom"],data:{message:e.section?e.section.text:"",promoInfo:`pdp:message box:${i}`}})),[t,e]);(0,ce.F)((()=>{const e=P.Z.getInstance().isLoggedIn();r(e)})),(0,n.useEffect)((()=>{e&&s("shown")}),[e,s]);const{inExperimentAudience:o,variantId:d,testId:l}=e;if((0,n.useEffect)((()=>{o&&t({label:"abTest",eventType:["custom"],data:{experiment:{variant:d,id:l}}})}),[o,d,l,t]),!e.section||e.section&&e.fetchOnClient&&null===a||e.section&&e.fetchOnClient&&a)return null;const{imageSrc:c,text:m,countdownDate:p,callToActionText:g,callToActionLink:v,tooltipText:h}=e.section;return(0,u.jsxs)(No,{onClick:()=>{s("click")},className:i,children:[c&&(0,u.jsx)(jo,{src:c,alt:""}),(0,u.jsxs)(Io,{children:[m&&(0,u.jsx)(So,{size:"sm1",weight:"semiBold",tag:"h4",children:(0,u.jsx)(L.Z,{id:m})}),p&&(0,u.jsx)(wo.Z,{countdownToDate:p,kind:"small"}),g&&h&&(0,u.jsx)(Ha.Z,{id:"targeted-promotion-tooltip",renderTrigger:({open:e,ref:i,tooltipBodyId:t})=>(0,u.jsx)(_o,{"aria-describedby":t,onClick:e,innerRef:i,type:"ghost",children:g}),children:(0,u.jsx)(Po,{children:(0,u.jsx)(L.Z,{colour:"black",id:h})})}),g&&v&&!h&&(0,u.jsx)(Co,{to:v,onClick:()=>t({label:"pdpPromotionalBannerClick",eventType:["custom"]}),children:g})]})]})};const Fo=W.ZP.div.withConfig({displayName:"ProductActionsstyles__ColorWrapper",componentId:"sc-18otgdy-0"})(["display:flex;margin:0;margin-bottom:",";"],(e=>e.theme.sizing("xxs"))),To=(0,W.ZP)(M.Z).withConfig({displayName:"ProductActionsstyles__ColorValue",componentId:"sc-18otgdy-1"})(["margin-left:",";"],(e=>e.theme.sizing("4xs"))),Ro=(0,W.ZP)(M.Z).withConfig({displayName:"ProductActionsstyles__ColorLabel",componentId:"sc-18otgdy-2"})(["color:",";"],(e=>e.theme.color("grey"))),zo=(0,W.ZP)(no).withConfig({displayName:"ProductActionsstyles__ColorVariantProductsMenu",componentId:"sc-18otgdy-3"})(["margin-bottom:",";"],(e=>e.theme.sizing("ms"))),Do=(0,W.ZP)(mo).withConfig({displayName:"ProductActionsstyles__VariantSelector",componentId:"sc-18otgdy-4"})(["margin-bottom:",";",""],(e=>e.theme.sizing("lg")),(e=>e.theme.media.between("small","medium")((0,W.iv)(["width:50%;"])))),Vo=(0,W.ZP)(bo).withConfig({displayName:"ProductActionsstyles__QuantitySelector",componentId:"sc-18otgdy-5"})(["margin-bottom:",";"],(e=>e.theme.sizing("ms"))),Eo=W.ZP.div.withConfig({displayName:"ProductActionsstyles__ButtonsWrapper",componentId:"sc-18otgdy-6"})(["display:flex;align-items:center;width:100%;margin-bottom:",";",""],(({theme:e})=>e.sizing("ms")),(e=>e.theme.media.between("small","medium")((0,W.iv)(["width:50%;"])))),Ao=W.ZP.div.withConfig({displayName:"ProductActionsstyles__AddToBagButtonWrapper",componentId:"sc-18otgdy-7"})(["margin-right:",";width:100%;"," ",""],(e=>e.theme.sizing("ms")),(e=>e.theme.media.min("medium")((0,W.iv)(["width:80%;"]))),(e=>e.theme.media.min("large")((0,W.iv)(["width:85%;"])))),Mo=(W.ZP.div.withConfig({displayName:"ProductActionsstyles__EmailNotificationButtonWrapper",componentId:"sc-18otgdy-8"})(["margin-top:",";display:none;",";"],(e=>e.theme.sizing("3xs")),(e=>e.theme.media.min("medium")((0,W.iv)(["margin-top:0;",";"],!e.fullWidth&&"width: 50%")))),W.ZP.div.withConfig({displayName:"ProductActionsstyles__StoreCheckAccordionWrapper",componentId:"sc-18otgdy-9"})(["width:100%;",""],(({theme:e})=>(0,W.iv)(["border-top:1px solid ",";max-width:",";"],e.color("grey_light"),e.contentMaxWidth()))),W.ZP.div.withConfig({displayName:"ProductActionsstyles__ProductAccessoryActionsContainer",componentId:"sc-18otgdy-10"})(["width:100%;"," ",";"],(({theme:e})=>(0,W.iv)(["max-width:",";"],e.contentMaxWidth())),(({theme:e})=>e.media.between("small","medium")((0,W.iv)(["display:grid;grid-template-columns:repeat(2,1fr);grid-column-gap:",";column-gap:",";max-height:",";"],e.sizing("md"),e.sizing("md"),(0,Ci.hO)(150)))))),Bo=(W.ZP.div.withConfig({displayName:"ProductActionsstyles__StoreCheckTitle",componentId:"sc-18otgdy-11"})(["width:100%;display:flex;flex-direction:row;justify-content:space-between;align-items:center;margin:"," 0;",""],(e=>e.theme.sizing("ms")),(({theme:e})=>e.media.max("medium")((0,W.iv)(["margin:"," 0;"],e.sizing("xs"))))),(0,W.ZP)(M.Z).withConfig({displayName:"ProductActionsstyles__StoreCheckTitleText",componentId:"sc-18otgdy-12"})(["",""],(({theme:e})=>(0,W.iv)(["margin:0;text-align:left;font-weight:",";",";"],e.fontWeight("semiBold"),e.font("s0")))),(0,W.ZP)(qs.Z).withConfig({displayName:"ProductActionsstyles__StoreCheckExpandIcon",componentId:"sc-18otgdy-13"})(["",""],(e=>(0,W.iv)(["margin-right:",";",""],e.theme.sizing("3xs"),e.theme.media.min("medium")((0,W.iv)(["width:",";height:",";&:before,&:after{width:",";height:",";}"],e.theme.sizing("md"),e.theme.sizing("md"),(0,Ci.hO)(3),e.theme.sizing("sm")))))),W.ZP.div.withConfig({displayName:"ProductActionsstyles__StoreCheckWrapper",componentId:"sc-18otgdy-14"})(["padding-bottom:",";"],(e=>e.theme.sizing("ms"))),(0,W.ZP)(Oo).withConfig({displayName:"ProductActionsstyles__TargetedPromotion",componentId:"sc-18otgdy-15"})(["margin-bottom:",";",""],(e=>e.theme.sizing("ms")),(e=>e.theme.media.between("small","medium")((0,W.iv)(["width:70%;margin-right:",";"],(0,Ci.hO)(50)))))),$o=(0,W.ZP)(Wa).withConfig({displayName:"ProductActionsstyles__SafetyWarning",componentId:"sc-18otgdy-16"})(["margin-bottom:",";justify-content:left;",""],(e=>e.theme.sizing("ms")),(e=>e.theme.media.between("small","medium")((0,W.iv)(["margin-top:0;"])))),Lo=W.ZP.div.withConfig({displayName:"ProductActionsstyles__MessageWrapper",componentId:"sc-18otgdy-17"})(["display:flex;width:100%;flex-direction:column;",""],(e=>e.theme.media.between("small","medium")((0,W.iv)(["flex-direction:row;"])))),Wo="bisemail";var Uo=e=>{const i=(0,Z.T)(),{locale:t,country:r,query:s}=(0,a.k)(),o="Variant_B_20293"===(0,T.aq)("pdp_mandd_gbl_backorder_cta_20293"),{actionRef:d,product:l,sku:c,isOver18yo:m,isVipUser:p,canAddToBag:g,canAddToWishlist:v,canShowStoreInventory:h,variantIndex:y,onVariantSelect:k,bisNotificationState:f,promotion:b,safetyWarningKey:w,safetyWarningLabel:x,showSafetyImage:N,imageKey:S}=e,j=(0,F.v)(),{lists:P}=(0,Ua.v)({subscribeToLists:!0}),{triggerEvent:_}=(0,T.FG)(),{0:O,1:R}=(0,n.useState)(1),{0:z,1:D}=(0,n.useState)(!1),{0:V,1:E}=(0,n.useState)(null),{0:A,1:M}=(0,n.useState)(!1),{0:$,1:L}=(0,n.useState)(""),{0:W,1:U}=(0,n.useState)(!1),{productCode:G,name:q,color:H,colorVariantProducts:Q}=l,K="MultiVariantProduct"===l.__typename,X=Ls(l,y),Y="ReadOnlyProduct"===l.__typename,J=Us(X,"isNew")||!1,ee=Us(X,"onSale")||!1,ie=Us(X,"rating")||0,te=((e,i,t)=>"ProductVariant"===(null===e||void 0===e?void 0:e.__typename)?(Gs(e)||99)-((e,i)=>{var t;return(("LegoUser"===e.__typename&&(null===e||void 0===e||null===(t=e.cart)||void 0===t?void 0:t.lineItems)||[]).find((e=>e.product.productCode===i))||{}).quantity||0})(i,t):0)(X,j,G),ne=te>0,ae=Gs(X),{availabilityStatus:re}=(0,C.UB)(X,p),se=l.productCategories&&l.productCategories.some((e=>"SETS"===e.key)),de=Us(X,"featuredFlags")||null,le=!(null===de||void 0===de||!de.find((({key:e})=>"retiringSoon"===e))),me=c&&"HIDDEN"!==f&&se&&!ee&&!le,ue="DISABLED"===f,pe=g&&m,ge=(0,C.pb)(re,I.Z,o),ve=Us(X,"hideBuildingInstructions")||!1,he=()=>{D(!0)},ye=e=>{e.currentTarget;const i=l.baseImgUrl||"";if(e.currentTarget.id){const t=e.currentTarget.id,n=bs[t].title,a=bs[t].component({sku:c,productCode:G,availabilityStatus:re,productName:q,baseImgUrl:i});L(n),E(a),M(!0)}},ke=e=>{ue?_({label:"notify-me-disabled-tooltip",eventType:["custom"]}):(ye(e),_({label:"pdpNotifyMe",eventType:["custom"]}))},fe=i("product.features.buildingInstructionsUrl",{locale:t,productCode:G}),be={title:i("notification.form.title"),label:i("notification.form.title"),body:i("notification.disabled.message",{productName:q||""})},we={showBisEmailButton:me,bisTooltip:be,disableBackInStockFeature:ue,handleBisNotificationClick:ke},xe={canShowStoreInventory:h,handleProductCardLinkClick:ye};return(0,ce.F)((()=>{const{channel:e}=s;"H_OUT_OF_STOCK"===re&&e&&e===Wo&&U(!0)})),(0,u.jsxs)(u.Fragment,{children:[H&&Q&&(0,u.jsxs)(u.Fragment,{children:[H&&(0,u.jsxs)(Fo,{children:[(0,u.jsx)(Ro,{size:"sm1",children:(0,u.jsx)(B.Z,{id:"product.label.color"})}),(0,u.jsx)(To,{tag:"span",size:"sm1",children:H})]}),Q&&(0,u.jsx)(zo,{productCode:G,products:Q})]}),K&&(0,u.jsx)(Do,{value:c,product:l,isVipUser:p,onChange:e=>{D(!1),k(e)},promptSelection:z,"data-test":"pdp-variant-select"}),ne&&pe&&(0,u.jsx)(Vo,{quantity:O,availableQuantity:te,maxQuantity:ae,onQuantityChange:e=>{if(!c)return D(!0);R(e)}}),X&&(pe||v||me)&&(0,u.jsxs)(Eo,{children:[pe&&(0,u.jsx)(Ao,{ref:d,children:(()=>{if(!c)return(0,u.jsx)(oe.Z,{fullWidth:!0,type:"product","data-test":"add-to-bag-no-sku",onClick:he,children:(0,u.jsx)(B.Z,{id:"product.addToBag"})});const{formattedValue:e,currencyCode:i,formattedAmount:t}=xs(X),{formattedAmount:n}=Ns(X);if(!G||!e)return null;const a={name:q||"",productCode:G,sku:c,price:e,formattedPrice:t,formattedListPrice:n,currencyCode:i,quantity:O,isNew:J,onSale:ee,rating:ie,baseImageUrl:l.baseImgUrl||""};return(0,u.jsx)(Ts,{label:ge,data:a,analyticsEvents:()=>{_([{label:"addToBag",eventType:["custom"],data:{addedItem:{id:G,price:e,quantity:1},country:r}}])},isProductAvailable:ne})})()}),v&&(0,u.jsx)("div",{children:(()=>{if(!c){const e=!(null===P||void 0===P||!P.results.some((e=>e.lineItems.some((e=>!!e.product&&e.product.productCode===G)))));return(0,u.jsx)(qa.Z,{hideText:"always",isInWishlist:e,onClick:he})}const{formattedValue:e,currencyCode:i="NA"}=xs(X);return G&&e?(0,u.jsx)(Rs.h,{productCode:G,sku:c,price:e,currencyCode:i,availability:re,rating:ie,isNew:J,onSale:ee}):null})()})]}),(0,u.jsxs)(Lo,{children:[b&&(0,u.jsx)(Bo,{promotion:b}),w&&x&&(0,u.jsx)($o,{type:w,label:x,showSafetyImage:N,imageKey:S})]}),Y?(0,u.jsx)(Mo,{children:se&&!ve&&(0,u.jsx)(lr,{title:"product.features.buildingInstructionsLabel",iconType:"buildingInstructions",iconHeight:26,iconWidth:35,iconColor:"blue",id:"product-card-link-building-instructions",url:fe,openInNewPage:!0,onClick:()=>{_({label:"pdpBuildingInstructions",eventType:["custom"]})}})}):(0,u.jsxs)(Mo,{children:[me&&(0,u.jsx)(lr,{title:"notification.form.title",iconType:"email",id:"product-card-link-notify-stock","data-test":"product-overview-bis-email-button",tooltip:be,disabled:ue,onClick:ke}),h&&(0,u.jsx)(lr,{title:"check.store.stock",iconType:"pinpoint",iconHeight:26,iconWidth:35,iconColor:"blue",id:"product-card-link-availability","data-test":"product-overview-check-stock-button",onClick:e=>{ye(e),_({label:"pdp_check_store_stock_tab",eventType:["custom"]})}}),(0,u.jsx)(lr,{title:"product.deliveryReturns.title",iconType:"delivery",iconColor:"blue",id:"product-card-link-delivery","data-test":"product-overview-delivery-returns-button",onClick:e=>{ye(e),_({label:"pdpDeliveriesAndReturns",eventType:["custom"]})}}),se&&!ve&&(0,u.jsx)(lr,{title:"product.features.buildingInstructionsLabel",iconType:"buildingInstructions",iconHeight:26,iconWidth:35,iconColor:"blue",id:"product-card-link-building-instructions",url:fe,openInNewPage:!0,onClick:()=>{_({label:"pdpBuildingInstructions",eventType:["custom"]})}})]}),(0,u.jsx)(Ga.Z,{isOpen:A,label:$,closeLabel:i("common.close"),onRequestClose:()=>(M(!1),void E(null)),title:$,width:35,children:V}),W&&(0,u.jsx)(Ms,{data:{notifyAction:we,storeInventoryAction:xe},channel:Wo,product:q})]})};const Go=W.ZP.span.withConfig({displayName:"Reviewsstyles__Microdata",componentId:"sc-bzbdaf-0"})(["display:none;"]),qo=W.ZP.div.withConfig({displayName:"Reviewsstyles__Container",componentId:"sc-bzbdaf-1"})(["display:flex;align-items:center;flex-wrap:wrap;width:100%;height:100%;"]),Ho=(0,W.ZP)(ae.Z).withConfig({displayName:"Reviewsstyles__StyledRatingBar",componentId:"sc-bzbdaf-2"})(["",";margin:"," 0;"],(e=>e.theme.media.max("small")((0,W.iv)(["max-width:",";"],(0,Ci.hO)(96)))),(e=>e.theme.sizing("4xs"))),Qo=(0,W.ZP)(oe.Z).withConfig({displayName:"Reviewsstyles__StyledButton",componentId:"sc-bzbdaf-3"})(["padding:0;padding-top:",";",";margin-left:",";"],(0,Ci.hO)(3),(e=>e.theme.media.min("small")((0,W.iv)(["padding-top:",";"],e.theme.sizing("4xs")))),(e=>e.theme.sizing("3xs"))),Ko=W.ZP.span.withConfig({displayName:"Reviewsstyles__ReviewsText",componentId:"sc-bzbdaf-4"})(["padding:0;margin-left:10px;margin-top:",";",""],(0,Ci.hO)(4),(({theme:e})=>(0,W.iv)([""," font-weight:",";"],e.font("sm1"),e.fontWeight("semiBold"))));var Xo=e=>{const{triggerEvent:i}=(0,T.FG)(),{productName:t,reviewsCount:n,reviewsRating:a,isOver16yo:r,onClickReviewsLink:s,className:o,showLabel:d=!1,showOnlyText:l,renderAggregateRatingsMicrodata:c=!1}=e;return n?(0,u.jsxs)(qo,{className:o,children:[n&&c&&(0,u.jsxs)(Go,{itemType:"http://schema.org/AggregateRating",itemProp:"aggregateRating",itemScope:!0,"data-test":"aggregate-ratings-microdata",children:[(0,u.jsx)("span",{itemProp:"itemReviewed",children:t?(0,u.jsx)(si.Z,{markup:t}):null}),(0,u.jsx)("span",{itemProp:"ratingValue",children:a}),(0,u.jsx)("span",{itemProp:"bestRating",children:"5"}),(0,u.jsx)("span",{itemProp:"reviewCount",children:n}),"."]}),(0,u.jsx)(Ho,{type:"stars",size:"xs",mode:"display","data-test":"product-overview-rating",rating:a||0,hideOutput:!0}),null!==n&&(e=>{const t=0===e?"product.overview.noReviews":1===e?d?"product.overview.reviewCountSingular":"product.overview.reviewCount":d?"product.overview.reviewCountPlural":"product.overview.reviewCount";return r||0!==e?l?(0,u.jsx)(Ko,{"data-test":"accordion-reviews-label",children:(0,u.jsx)(B.Z,{id:t,values:{reviewCount:e}})}):(0,u.jsx)(Qo,{type:"ghost","data-test":"product-overview-reviews",onClick:()=>{i({label:"pdpReviewsStarClick",eventType:["custom"]}),s&&s()},children:(0,u.jsx)(B.Z,{id:t,values:{reviewCount:e}})}):(0,u.jsx)(Ko,{"data-test":"accordion-reviews-label",children:(0,u.jsx)(B.Z,{id:t,values:{reviewCount:e}})})})(n)]}):null},Yo=t(41971);const Jo=W.ZP.div.withConfig({displayName:"ProductOverviewstyles__ProductBadgesRow",componentId:"sc-1a1az6h-0"})(["width:100%;display:flex;justify-content:space-between;"]),ed=W.ZP.div.withConfig({displayName:"ProductOverviewstyles__ProductOverviewRow",componentId:"sc-1a1az6h-1"})(["width:100%;display:flex;justify-content:space-between;margin-bottom:",";"],(({theme:e})=>e.sizing("ms"))),id=W.ZP.div.withConfig({displayName:"ProductOverviewstyles__Container",componentId:"sc-1a1az6h-2"})(["display:flex;align-items:flex-start;justify-content:flex-start;flex-direction:column;background:",";",";& > *:last-child{margin-bottom:0;}",""],(e=>e.theme.color("white")),(e=>e.theme.media.min("medium")((0,W.iv)(["padding-top:",";padding-left:",";"],e.theme.sizing("ms"),e.theme.sizing("ms")))),(e=>e.theme.media.min("medium")((0,W.iv)(["flex:0 0 30%;padding-right:0;"])))),td=W.ZP.span.withConfig({displayName:"ProductOverviewstyles__Microdata",componentId:"sc-1a1az6h-3"})(["display:none;"]),nd=(0,W.ZP)(Da.Z).withConfig({displayName:"ProductOverviewstyles__StyledProductBadges",componentId:"sc-1a1az6h-4"})(["font-size:",";"],(e=>e.theme.fontSize("sm1"))),ad=W.ZP.div.withConfig({displayName:"ProductOverviewstyles__Badges",componentId:"sc-1a1az6h-5"})(["display:flex;flex-wrap:wrap;align-items:flex-start;width:50%;",""],(({theme:e})=>e.media.between("medium","large")((0,W.iv)(["flex-direction:column;"])))),rd=(0,W.ZP)(Ei.Z).withConfig({displayName:"ProductOverviewstyles__BrandLink",componentId:"sc-1a1az6h-6"})(["display:block;margin-top:",";margin-bottom:",";& img{max-height:",";max-width:",";}"],(e=>e.theme.sizing("xs")),(e=>e.theme.sizing("3xs")),(e=>e.theme.sizing("xxl")),(0,Ci.hO)(115)),sd=(0,W.ZP)(M.Z).withConfig({displayName:"ProductOverviewstyles__NameText",componentId:"sc-1a1az6h-7"})(["margin:0;margin-top:",";",""],(e=>e.theme.sizing("xs")),(({theme:e})=>(0,W.iv)(["font-weight:",";margin-right:",";"],e.fontWeight("semiBold"),(0,Ci.hO)(50)))),od=(0,W.ZP)(Xo).withConfig({displayName:"ProductOverviewstyles__Reviews",componentId:"sc-1a1az6h-8"})(["justify-content:flex-end;"]),dd=(0,W.ZP)(js.Z).withConfig({displayName:"ProductOverviewstyles__StyledProductPrice",componentId:"sc-1a1az6h-9"})(["",""],(({onSale:e})=>e&&(0,W.iv)(["display:flex;flex-direction:row;align-items:baseline;& span:nth-of-type(1){font-size:",";margin-right:",";}"],(e=>e.theme.fontSize("s1")),(e=>e.theme.sizing("ms"))))),ld=W.ZP.div.withConfig({displayName:"ProductOverviewstyles__PriceAvailabilityWrapper",componentId:"sc-1a1az6h-10"})(["margin-bottom:",";"],(e=>e.theme.sizing("ms"))),cd=(0,W.ZP)(M.Z).withConfig({displayName:"ProductOverviewstyles__AvailabilityStatus",componentId:"sc-1a1az6h-11"})(["max-width:100%;margin:0;"]),md=(0,W.ZP)(Yo.Z).withConfig({displayName:"ProductOverviewstyles__ThirdPartyRetailers",componentId:"sc-1a1az6h-12"})(["",""],(({theme:e})=>(0,W.iv)(["width:100%;margin-top:",";margin-bottom:",";"],e.sizing("ms"),e.sizing("ms")))),ud=(0,W.ZP)(M.Z).withConfig({displayName:"ProductOverviewstyles__NextStockDropStatus",componentId:"sc-1a1az6h-13"})(["padding:3px 0;max-width:100%;margin:0;"]),pd=e=>{const{reviewsCount:i,reviewsRating:t,product:a,variantIndex:r,isReadOnlyProduct:s,isOver18yo:o,isOver16yo:d,isVipUser:l,shouldShowReviews:c,partnerProductUrl:m,onVariantSelect:p,onClickReviewsLink:g}=e,v=(0,n.useRef)(null),{media:h}=(0,n.useContext)(W.Ni),y=(0,O.Z)(`screen and (min-width: ${h.breakpoints.large}px)`),{productCode:k}=a,f=Ls(a,r);if(!f||!f.attributes)return null;const b=Ws(f,"id")||"",w=Us(f,"onSale")||!1,x=xs(f).formattedAmount.replace(/-/," - "),N=Ns(f).formattedAmount.replace(/-/," - "),S=xs(f).currencyCode,j=xs(f).formattedValue.toFixed(2),P=Us(f,"featuredFlags")||[],_=Ws(f,"salePercentage")||0,Z=Ws(f,"promo")||null,F=Ws(f,"thirdPartyRetailers")||[],{key:T,label:R,showSafetyImage:z,imageKey:D}=Us(f,"safetyWarning")||{},{availabilityText:V,availabilityTextColor:E,availabilityStatus:A,canAddToBag:M,bisNotificationState:$}=(0,C.UB)(f,l),L=A===I.Z.retired,{url:U,name:G,logoUrl:q}=a.brandCategory||{},H=!s&&!L,Q=V&&b,K=w&&H,X=!s&&c,Y=Us(f,"showStoreInventory")||!1,J=Us(f,"canAddToWishlist")||!1,ee=U&&q&&G,ie=((e,i)=>{const t=(null===e||void 0===e?void 0:e.nextStockDropDate)||"";return!("H_OUT_OF_STOCK"!==i||!t)&&` ${t}`})(a,A);return(0,u.jsxs)(id,{children:[(0,u.jsx)(td,{itemProp:"manufacturer",children:"LEGO\xae"}),(0,u.jsx)(td,{itemProp:"sku",children:k}),(0,u.jsxs)(td,{itemProp:"offers",itemType:"http://schema.org/Offer",itemScope:!0,children:[(0,u.jsx)("meta",{itemProp:"priceCurrency",content:S}),(0,u.jsx)("meta",{itemProp:"price",content:j})]}),(0,u.jsxs)(Jo,{children:[(P.length||K)&&(0,u.jsxs)(ad,{children:[P.length?(0,u.jsx)(nd,{badges:P,showAll:!0}):null,K&&(0,u.jsx)(za.Z,{percent:_})]}),X&&(0,u.jsx)(od,{productName:a.name,reviewsCount:i,reviewsRating:t,isOver16yo:d,onClickReviewsLink:()=>{let e=0;y&&v.current&&(e=v.current.offsetHeight),g(e)},renderAggregateRatingsMicrodata:!0})]}),(0,u.jsxs)(ed,{children:[a.name&&(0,u.jsx)(sd,{tag:"h1",size:"s3","data-test":"product-overview-name",itemProp:"name",children:a.name}),ee&&(0,u.jsxs)(rd,{to:U,children:[(0,u.jsx)(td,{itemProp:"brand",children:G}),(0,u.jsx)("img",{src:q,alt:G})]})]}),(H||Q)&&(0,u.jsxs)(ld,{children:[H&&(0,u.jsx)(dd,{price:x,listPrice:N,onSale:w,size:"s3",align:"center"}),Q&&(0,u.jsx)(cd,{tag:"p",color:E,size:"sm1",weight:"semiBold","data-test":"product-overview-availability",children:V}),ie&&(0,u.jsxs)(ud,{tag:"p",color:"black",size:"sm1",weight:"semiBold","data-test":"product-overview-stockdrop",children:[(0,u.jsx)(B.Z,{id:"product.stockUpdateText"}),ie]})]}),s&&(0,u.jsx)(md,{data:F,partnerProductUrl:m}),(0,u.jsx)(Uo,{actionRef:v,sku:b,product:a,isOver18yo:o,isVipUser:l,canAddToBag:M,canAddToWishlist:J,canShowStoreInventory:Y,variantIndex:r,onVariantSelect:p,bisNotificationState:$,promotion:Z,safetyWarningKey:T,safetyWarningLabel:R,showSafetyImage:z,imageKey:D})]})},gd={product:{kind:"Document",definitions:(e=>{const i={};return e.filter((e=>{if("FragmentDefinition"!==e.kind)return!0;const t=e.name.value;return!i[t]&&(i[t]=!0,!0)}))})([{kind:"FragmentDefinition",name:{kind:"Name",value:"ProductOverview_Product"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Product"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"productCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"metaTitle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"productCategories"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"brandCategory"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"logoUrl"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReadOnlyProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"readOnlyVariant"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sku"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"attributes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ProductAttributes_SafetyWarning"},directives:[]},{kind:"Field",name:{kind:"Name",value:"featuredFlags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"thirdPartyRetailers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ProductOverview_ThirdPartyRetailer"},directives:[]}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SingleVariantProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"variant"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Variant_ProductOverview"},directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MultiVariantProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"multiVariantType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"priceRange"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"formattedPriceRange"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"formattedListPriceRange"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"variants"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Variant_ProductOverview"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Variant_ProductOverview"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProductVariant"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sku"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"centAmount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"formattedAmount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"listPrice"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"centAmount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"formattedAmount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"formattedValue"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"salePercentage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"attributes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canAddToBag"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"vipCanAddToBag"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"canAddToWishlist"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availabilityStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availabilityText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"vipAvailabilityStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"vipAvailabilityText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"onSale"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxOrderQuantity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"skuSelectorValue"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"showStoreInventory"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"showReviews"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bisNotificationState"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ProductAttributes_Flags"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ProductAttributes_SafetyWarning"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"promo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TargetedPromotionSection"},directives:[]}]}}]}}].concat(Zo.definitions,Da.Z.fragments.badges.definitions,md.fragments.thirdPartyRetailers.definitions,Wa.fragments.safetyWarning.definitions)),loc:{start:0,end:1771,source:{body:"\n    fragment ProductOverview_Product on Product {\n      id\n      name\n      productCode\n      metaTitle\n      productCategories {\n        name\n        url\n        key\n      }\n      brandCategory {\n        url\n        name\n        logoUrl\n      }\n      ... on ReadOnlyProduct {\n        color\n        readOnlyVariant {\n          id\n          sku\n          attributes {\n            ...ProductAttributes_SafetyWarning\n            featuredFlags {\n              key\n              label\n            }\n          }\n\n          thirdPartyRetailers {\n            ...ProductOverview_ThirdPartyRetailer\n          }\n        }\n      }\n      ... on SingleVariantProduct {\n        color\n        variant {\n          ...Variant_ProductOverview\n        }\n      }\n      ... on MultiVariantProduct {\n        multiVariantType\n        color\n        priceRange {\n          formattedPriceRange\n          formattedListPriceRange\n        }\n        variants {\n          ...Variant_ProductOverview\n        }\n      }\n    }\n    fragment Variant_ProductOverview on ProductVariant {\n      id\n      sku\n      price {\n        centAmount\n        formattedAmount\n      }\n      listPrice {\n        centAmount\n        formattedAmount\n        formattedValue\n      }\n      salePercentage\n      attributes {\n        canAddToBag\n        vipCanAddToBag\n        canAddToWishlist\n        availabilityStatus\n        availabilityText\n        vipAvailabilityStatus\n        vipAvailabilityText\n        onSale\n        rating\n        maxOrderQuantity\n        skuSelectorValue\n        showStoreInventory\n        showReviews\n        bisNotificationState\n        ...ProductAttributes_Flags\n        ...ProductAttributes_SafetyWarning\n      }\n      promo {\n        ...TargetedPromotionSection\n      }\n    }\n    \n    \n    \n    \n  ",name:"GraphQL request",locationOffset:{line:1,column:1}}}}};var vd=t(15278);const hd=W.ZP.span.withConfig({displayName:"ProductDetailsstyles__ProductID",componentId:"sc-16lgx7x-0"})(["display:none;"]),yd=W.ZP.span.withConfig({displayName:"ProductDetailsstyles__Mpn",componentId:"sc-16lgx7x-1"})(["display:none;"]),kd=e=>Math.ceil(e/2.54),fd=e=>{var i,t,n,a,r;const{product:s,variantIndex:o,isVipUser:d,handleOnIntersection:l}=e,c=(0,Z.T)(),m=Ls(s,o);if(!m)return null;const{availabilityStatus:p}=(0,C.UB)(m,d),g=p===I.Z.retired,v=(null===m||void 0===m||null===(i=m.attributes)||void 0===i?void 0:i.pieceCount)||0,h=(null===m||void 0===m||null===(t=m.attributes)||void 0===t?void 0:t.minifigureCount)||0,y=(null===m||void 0===m||null===(n=m.attributes)||void 0===n?void 0:n.buildWidth)||0,k=(null===m||void 0===m||null===(a=m.attributes)||void 0===a?void 0:a.buildHeight)||0,f=(null===m||void 0===m||null===(r=m.attributes)||void 0===r?void 0:r.buildDepth)||0,b=s.productCode,w=m&&"ProductVariant"===m.__typename?!m.sku&&s.vipPointsRange?s.vipPointsRange:m.vipPoints:0;return(0,u.jsx)(j.Z,{onIntersection:()=>l("attributes"),threshold:.25,children:({onRef:e})=>{var i;return(0,u.jsxs)("div",{ref:e,children:[(0,u.jsx)(vd.Z,{"data-test":"product-attributes",attributes:[{iconType:"scales",values:[null===m||void 0===m||null===(i=m.attributes)||void 0===i?void 0:i.ageRange],title:c("product.details.ages"),dataTest:"ages"},{hideAttribute:!v,iconType:"brick",values:[v.toString()],title:c("product.details.pieces"),dataTest:"pieces"},{hideAttribute:g||!w,iconType:"vip",values:[!!w&&w.toString()],title:c("vip.title"),tooltip:{title:c("vip.title"),label:c("more.info.about"),body:c("vip.description")},dataTest:"vip-points"},{iconType:"hashtag",values:[b],title:c("product.details.item"),dataTest:"item"},{hideAttribute:!h,iconType:"minifigure",values:[h.toString()],title:c("product.details.minifigures"),dataTest:"minifigures"},{iconType:"dimensions",hideAttribute:!k&&!y&&!f,values:[k?c("product.details.dimensions.height",{height:k,heightInches:kd(k)}):null,y?c("product.details.dimensions.width",{width:y,widthInches:kd(y)}):null,f?c("product.details.dimensions.depth",{depth:f,depthInches:kd(f)}):null],title:c("product.details.dimensions"),dataTest:"dimensions"}]}),(0,u.jsx)(yd,{itemProp:"mpn",children:b}),(0,u.jsx)(hd,{itemProp:"productID",children:b})]})}})};const bd=W.ZP.div.withConfig({displayName:"ProductFeaturesstyles__Body",componentId:"sc-8zwtdh-0"})(["padding:"," 0;",";"],(e=>e.theme.sizing("sm")),(e=>e.theme.layout.container({direction:{small:"column-reverse",medium:"row",large:"row"}}))),wd=W.ZP.div.withConfig({displayName:"ProductFeaturesstyles__Copy",componentId:"sc-8zwtdh-1"})(["",";",";"],(({theme:e})=>e.media.min("medium")((0,W.iv)(["flex-basis:60%;padding-right:",";"],(e=>e.theme.sizing("md"))))),(e=>e.theme.layout.item({width:{small:"100%",medium:"60%",large:"60%"}}))),xd=W.ZP.div.withConfig({displayName:"ProductFeaturesstyles__FeaturesText",componentId:"sc-8zwtdh-2"})(["ul{list-style-position:outside;margin-left:",";}ul li{list-style-type:disc;padding-bottom:",";}"],(e=>e.theme.sizing("md")),(e=>e.theme.sizing("md"))),Nd=(W.ZP.div.withConfig({displayName:"ProductFeaturesstyles__BulletText",componentId:"sc-8zwtdh-3"})(["ul{list-style-position:outside;margin-left:",";}ul li{list-style-type:disc;padding-bottom:",";}"],(e=>e.theme.sizing("md")),(e=>e.theme.sizing("md"))),W.ZP.div.withConfig({displayName:"ProductFeaturesstyles__Cta",componentId:"sc-8zwtdh-4"})(["flex:1;",";text-align:center;"],(e=>e.theme.layout.item({width:{small:"100%",medium:"40%",large:"40%"}})))),Sd=e=>{const{product:i}=e,t=i.productMedia&&i.productMedia.items.length||0;let n;return n=i.productMedia?t>1?i.secondaryImage:i.featuresPrimaryImage:"",i.featuresText?(0,u.jsx)(cr,{children:(0,u.jsxs)(bd,{children:[(0,u.jsx)(wd,{children:(0,u.jsx)(xd,{children:(0,u.jsx)(si.Z,{markup:i.featuresText})})}),(0,u.jsx)(Nd,{children:n&&(0,u.jsx)("img",{src:n,alt:i.name,itemProp:"image"})})]})}):null};var jd=t(33643);const Pd=(0,W.ZP)(jd.Z).withConfig({displayName:"ProductDetailsPagestyles__Breadcrumbs",componentId:"sc-1waehzg-0"})(["max-width:",";padding:",";background:",";& > li:last-child{overflow:hidden;}& > li > span{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}"],(e=>e.theme.maxWidth()),(e=>e.theme.sizing("ms")),(e=>e.theme.color("white"))),_d=W.ZP.div.withConfig({displayName:"ProductDetailsPagestyles__ProductOverviewContainer",componentId:"sc-1waehzg-1"})(["width:100%;max-width:",";padding:0 ",";margin:0 auto;"],(e=>e.theme.maxWidth()),(e=>e.theme.sizing("ms"))),Cd=W.ZP.div.withConfig({displayName:"ProductDetailsPagestyles__ProductOverviewLayout",componentId:"sc-1waehzg-2"})(["display:flex;flex-direction:column;",""],(e=>e.theme.media.min("medium")((0,W.iv)(["flex-direction:row;align-items:flex-start;padding:0;border-top:1px solid ",";"],e.theme.color("grey_light"))))),Id=W.ZP.span.withConfig({displayName:"ProductDetailsPagestyles__LoadingSpinnerWrapper",componentId:"sc-1waehzg-3"})(["display:flex;justify-content:center;"]),Zd=W.ZP.div.withConfig({displayName:"ProductDetailsPagestyles__GalleryAttributesWrapper",componentId:"sc-1waehzg-4"})(["width:100%;display:flex;",""],(e=>e.theme.media.min("medium")((0,W.iv)(["flex-direction:column;border-right:1px solid ",";"],e.theme.color("grey_light"))))),Od=W.ZP.div.withConfig({displayName:"ProductDetailsPagestyles__ProductGalleryWrapper",componentId:"sc-1waehzg-5"})(["margin:0 ",";display:flex;align-items:center;justify-content:center;"],(e=>`-${e.theme.sizing("ms")}`)),Fd=W.ZP.div.withConfig({displayName:"ProductDetailsPagestyles__ProductDynamicContentContainer",componentId:"sc-1waehzg-6"})(["padding:"," 0;"],(e=>e.theme.sizing("md")));var Td=e=>{const i=(0,n.useRef)(null),{productCode:t,productName:a,isOver16yo:r,primaryImage:s,addReviewFilter:o,removeReviewFilter:d,clearFilters:l,handleSortChange:c,handlePageChange:m,data:p,loading:g,error:v,filters:h,currentPage:y,sortOrder:k}=e;if(g&&!p)return(0,u.jsx)(Id,{children:(0,u.jsx)(de.Z,{})});if(v)return null;const f=p&&p.productReviews&&p.productReviews.statistics&&p.productReviews.statistics.count;if(!r&&!f)return null;const{productReviews:b}=p;return(0,u.jsxs)(cr,{"data-test":"product-reviews",children:[(0,u.jsx)(pt,{productCode:t,productName:a,primaryImage:s,productReviews:b,addReviewFilter:o,removeReviewFilter:d,reviewFilters:h,isOver16yo:r}),(0,u.jsx)(un,{productReviewsRef:i,isLoading:g,productReviews:b,reviewFilters:h,clearReviewFilters:l,removeReviewFilter:d,onSortChange:c,reviewSortOrder:k,onPageChange:e=>{m(e),(()=>{if(i.current){const e=i.current.getBoundingClientRect().top+window.pageYOffset-200;window.scrollTo(0,e)}})()},currentPage:y,reviewsPerPage:4,productName:a})]})},Rd=t(1866);const zd=W.ZP.div.withConfig({displayName:"ProductAccordionstyles__Title",componentId:"sc-38i670-0"})(["width:100%;background:",";border-top:1px solid ",";"],(e=>e.theme.color("grey_extra_light")),(e=>e.theme.color("grey_light"))),Dd=W.ZP.div.withConfig({displayName:"ProductAccordionstyles__TitleContent",componentId:"sc-38i670-1"})(["width:100%;max-width:",";margin:0 auto;padding:",";",";display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start;overflow:hidden;"],(e=>e.theme.maxWidth()),(e=>`${e.theme.sizing("lg")} ${e.theme.sizing("ms")}`),(e=>e.theme.media.min("large")((0,W.iv)(["padding-right:",";padding-left:",";"],e.theme.sizing("xl"),e.theme.sizing("xl"))))),Vd=W.ZP.div.withConfig({displayName:"ProductAccordionstyles__TitleRow",componentId:"sc-38i670-2"})(["display:flex;flex-direction:row;align-items:baseline;",""],(e=>e.theme.media.max("small")((0,W.iv)(["flex-direction:column;"])))),Ed=(0,W.ZP)(qs.Z).withConfig({displayName:"ProductAccordionstyles__ExpandIcon",componentId:"sc-38i670-3"})(["",""],(e=>(0,W.iv)(["margin-left:",";",""],e.theme.sizing("sm"),e.theme.media.min("medium")((0,W.iv)(["width:",";height:",";&:before,&:after{width:",";height:",";}"],e.theme.sizing("lg"),e.theme.sizing("lg"),(0,Ci.hO)(3),e.theme.sizing("ms")))))),Ad=(W.ZP.div.withConfig({displayName:"ProductAccordionstyles__Content",componentId:"sc-38i670-4"})(["overflow:visible;height:auto;position:relative;",""],(e=>!e.active&&(0,W.iv)(["height:0;"]))),W.ZP.span.withConfig({displayName:"ProductAccordionstyles__TitleSuffix",componentId:"sc-38i670-5"})(["margin-left:",";",""],(e=>e.theme.sizing("xs")),(e=>e.theme.media.max("small")((0,W.iv)(["margin-left:0;"]))))),Md=n.forwardRef(((e,i)=>{const{id:t,active:n,onToggle:a,title:r,titleSuffix:s,children:o,directMount:d}=e;return(0,u.jsx)(Rd.Z,{ref:i,id:t,active:n,onToggle:a,directMount:d,renderTitle:({isActive:e})=>(0,u.jsx)(zd,{children:(0,u.jsxs)(Dd,{children:[(0,u.jsxs)(Vd,{children:[(0,u.jsx)(mr,{children:(0,u.jsx)(B.Z,{id:r})}),s&&(0,u.jsx)(Ad,{children:s})]}),(0,u.jsx)(Ed,{isActive:e})]})}),children:o})}));Md.displayName="ProductAccordion";var Bd=Md,$d=t(78452);const Ld=W.ZP.div.withConfig({displayName:"ProductUgcstyles__Container",componentId:"sc-bnqv5k-0"})(["",""],(e=>(0,W.iv)(["padding:"," 0;",""],e.theme.sizing("lg"),e.theme.media.min("medium")((0,W.iv)(["padding:"," 0;"],e.theme.sizing("xl"))))));function Wd(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),t.push.apply(t,n)}return t}function Ud(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?Wd(Object(t),!0).forEach((function(i){(0,r.Z)(e,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Wd(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}))}return e}var Gd=e=>{const{ugcBlockData:i}=e;if(!i)return null;const t={ugcBlock:[Ud(Ud({},i),{},{title:""})]};return(0,u.jsx)(cr,{children:(0,u.jsx)(Ld,{children:(0,u.jsx)($d.default,{userGeneratedContentData:t})})})},qd=t(84711);const Hd=W.ZP.div.withConfig({displayName:"ShopMoreLikeThisstyles__Container",componentId:"sc-wn4mf8-0"})(["width:100%;max-width:",";margin:0 auto;border-bottom:1px solid ",";display:flex;flex-direction:row;align-items:baseline;"," ",";",";"],(e=>e.theme.contentMaxWidth()),(e=>e.theme.color("grey_light")),(e=>(0,W.iv)(["padding:"," ",";"],e.theme.sizing("xl"),e.theme.sizing("ms"))),(e=>e.theme.media.max("small")((0,W.iv)(["flex-direction:column;"]))),(e=>e.theme.media.between("small","medium")((0,W.iv)(["flex-direction:column;"])))),Qd=W.ZP.div.withConfig({displayName:"ShopMoreLikeThisstyles__SectionLabel",componentId:"sc-wn4mf8-1"})(["margin-right:",";"],(e=>e.theme.sizing("ms"))),Kd=(0,W.ZP)(qd.Z).withConfig({displayName:"ShopMoreLikeThisstyles__StyledProductTag",componentId:"sc-wn4mf8-2"})(["margin:0;width:100%;",""],(e=>(0,W.iv)(["padding:"," ",";"],e.theme.sizing("3xs"),e.theme.sizing("ms")))),Xd=(0,W.ZP)(oe.Z).withConfig({displayName:"ShopMoreLikeThisstyles__StyledButton",componentId:"sc-wn4mf8-3"})(["padding:0;margin-right:",";",";",";"],(e=>e.theme.sizing("ms")),(e=>e.theme.media.max("small")((0,W.iv)(["margin-top:",";"],e.theme.sizing("xs")))),(e=>e.theme.media.between("small","medium")((0,W.iv)(["margin-top:",";"],e.theme.sizing("xs")))));var Yd=e=>{const{triggerEvent:i}=(0,T.FG)(),{product:t,className:n}=e,a=(t.productCategories||[]).reduce(((e,i={})=>i.name&&i.url?[...e,{name:i.name,url:i.url}]:e),[]);return a.length?(0,u.jsxs)(Hd,{className:n,"data-test":"product-overview-footer",children:[(0,u.jsx)(Qd,{children:(0,u.jsx)(B.Z,{id:"product.shopMore"})}),(0,u.jsx)("ul",{children:a.map((e=>(0,u.jsx)(Xd,{"data-test":`product-overview-category-${e.name}`,type:"secondary",onClick:()=>i({label:"pdpShopMoreLikeThis",eventType:["custom"]}),children:(0,u.jsx)(Kd,{text:e.name,link:e.url})},e.name)))})]}):null};var Jd=t(77403);const el=(e,i,t,n)=>{if(!i)return null;const{socialImage:a,metaTitle:r,metaDescription:s,noIndexTag:o}=e,{locale:d,availabilityStatus:l,price:c,currency:m,productCode:p}=t,g=x.default.lego.host+n,v=(e=>e===I.Z.available?"in stock":"out of stock")(l),h=(e=>{const[i,t]=e.split("-");return t?`${i}_${t.toUpperCase()}`:""})(d);return(0,u.jsxs)(Jd.Z,{metaData:{metaTitle:r||"",metaDescription:s||"",stripQueryParams:!0,metaOpenGraph:{title:r||"",description:s||"",imageUrl:a}},children:[(0,u.jsx)("meta",{property:"og:type",content:"product"}),(0,u.jsx)("meta",{property:"og:url",content:g}),(0,u.jsx)("meta",{property:"og:locale",content:h}),(0,u.jsx)("meta",{property:"product:brand",content:"LEGO\xae"}),(0,u.jsx)("meta",{property:"product:availability",content:v}),(0,u.jsx)("meta",{property:"product:condition",content:"new"}),(0,u.jsx)("meta",{property:"product:price:amount",content:c}),(0,u.jsx)("meta",{property:"product:price:currency",content:m}),(0,u.jsx)("meta",{property:"product:retailer_item_id",content:p}),(0,u.jsx)("meta",{property:"product:locale",content:h}),o&&(0,u.jsx)("meta",{name:"robots",content:"noindex, follow"})]})};function il(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),t.push.apply(t,n)}return t}function tl(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?il(Object(t),!0).forEach((function(i){(0,r.Z)(e,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):il(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}))}return e}const nl=(e,i,t)=>{const n=((e,i)=>i?"MultiVariantProduct"===e.__typename?{variants:[...e.variants.map((e=>tl(tl({},e),{},{promo:i})))]}:"SingleVariantProduct"===e.__typename?{variant:tl(tl({},e.variant),{},{promo:i})}:null:null)(t.product,i),a=e.length?{contentBody:e}:tl({},null);return tl(tl({},t),{},{product:tl(tl(tl({},t.product),n),a)})},al={kind:"Document",definitions:(e=>{const i={};return e.filter((e=>{if("FragmentDefinition"!==e.kind)return!0;const t=e.name.value;return!i[t]&&(i[t]=!0,!0)}))})([{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ProductReviewsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"productCode"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sort"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ProductReviewSortOptions"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"reviewFilters"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"reviewsPerPage"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"productReviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"productCode"},value:{kind:"Variable",name:{kind:"Name",value:"productCode"}}},{kind:"Argument",name:{kind:"Name",value:"sort"},value:{kind:"Variable",name:{kind:"Name",value:"sort"}}},{kind:"Argument",name:{kind:"Name",value:"ratingFilter"},value:{kind:"Variable",name:{kind:"Name",value:"reviewFilters"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"reviewsPerPage"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ProductReviewsOverview_Reviews"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ProductReviews_Reviews"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"SubmitHelpfulnessVote_Reviews"},directives:[]}]}}]}}].concat(pt.fragments.productReviews.definitions,ln.productReviews.definitions,V.productReviews.definitions)),loc:{start:0,end:465,source:{body:"\n  query ProductReviewsQuery(\n    $productCode: String!\n    $sort: ProductReviewSortOptions!\n    $reviewFilters: [Int!]\n    $reviewsPerPage: Int!\n    $offset: Int!\n  ) {\n    productReviews(\n      productCode: $productCode\n      sort: $sort\n      ratingFilter: $reviewFilters\n      limit: $reviewsPerPage\n      offset: $offset\n    ) {\n      ...ProductReviewsOverview_Reviews\n      ...ProductReviews_Reviews\n      ...SubmitHelpfulnessVote_Reviews\n    }\n  }\n\n  \n  \n  \n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};var rl=t(19515),sl=t(92949);const ol=e=>{const i={};return e.filter((e=>{if("FragmentDefinition"!==e.kind)return!0;const t=e.name.value;return!i[t]&&(i[t]=!0,!0)}))},dl={kind:"Document",definitions:ol([{kind:"FragmentDefinition",name:{kind:"Name",value:"ProductMediaItem"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProductMedia"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProductImage"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ProductZoomableImage"},directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProductVideo"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoMedia"},directives:[]}]}}]}}].concat([{kind:"FragmentDefinition",name:{kind:"Name",value:"VideoMedia"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProductVideo"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumbnailUrl"},arguments:[],directives:[]}]}}]}}],[{kind:"FragmentDefinition",name:{kind:"Name",value:"ProductZoomableImage"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProductImage"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"baseImgUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sizes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"desktop"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumbnailUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"highResUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullscreenUrl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"mobile"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumbnailUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"highResUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullscreenUrl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"tablet"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumbnailUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"highResUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullscreenUrl"},arguments:[],directives:[]}]}}]}}]}}])),loc:{start:0,end:179,source:{body:"\n  fragment ProductMediaItem on ProductMedia {\n    id\n    ... on ProductImage {\n      ...ProductZoomableImage\n    }\n    ... on ProductVideo {\n      ...VideoMedia\n    }\n  }\n\n  \n  \n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},ll={kind:"Document",definitions:ol([{kind:"FragmentDefinition",name:{kind:"Name",value:"Attributes"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProductVariant"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"attributes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ProductAttributes_Flags"},directives:[]}]}}]}}].concat(Da.Z.fragments.badges.definitions)),loc:{start:0,end:119,source:{body:"\n  fragment Attributes on ProductVariant {\n    attributes {\n      rating\n      ...ProductAttributes_Flags\n    }\n  }\n  \n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},cl={kind:"Document",definitions:ol([{kind:"FragmentDefinition",name:{kind:"Name",value:"ProductAssetDimensionsItem"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProductAssetDimensions"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ProductAssetDimensionItem"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ProductAssetDimensionItem"},directives:[]}]}}]}}].concat([{kind:"FragmentDefinition",name:{kind:"Name",value:"ProductAssetDimensionItem"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProductAssetDimension"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"desktop"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tablet"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mobile"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"default"},arguments:[],directives:[]}]}}])),loc:{start:0,end:181,source:{body:"\n  fragment ProductAssetDimensionsItem on ProductAssetDimensions {\n    width {\n      ...ProductAssetDimensionItem\n    }\n    height {\n      ...ProductAssetDimensionItem\n    }\n  }\n  \n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},ml={kind:"Document",definitions:ol([{kind:"FragmentDefinition",name:{kind:"Name",value:"ProductAssetItem"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProductAsset"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"assetIdMediaQueryMap"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"default"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"defaultDimensions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ProductAssetDimensionsItem"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"fullscreenDimensions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ProductAssetDimensionsItem"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"highResDimensions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ProductAssetDimensionsItem"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"thumbnailDimensions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ProductAssetDimensionsItem"},directives:[]}]}}]}}].concat(cl.definitions)),loc:{start:0,end:370,source:{body:"\n  fragment ProductAssetItem on ProductAsset {\n    assetIdMediaQueryMap {\n      default\n    }\n    defaultDimensions {\n      ...ProductAssetDimensionsItem\n    }\n    fullscreenDimensions {\n      ...ProductAssetDimensionsItem\n    }\n    highResDimensions {\n      ...ProductAssetDimensionsItem\n    }\n    thumbnailDimensions {\n      ...ProductAssetDimensionsItem\n    }\n  }\n  \n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};var ul={fragments:{media:{kind:"Document",definitions:(e=>{const i={};return e.filter((e=>{if("FragmentDefinition"!==e.kind)return!0;const t=e.name.value;return!i[t]&&(i[t]=!0,!0)}))})([{kind:"FragmentDefinition",name:{kind:"Name",value:"ProductMediaViewer_Media"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Product"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SingleVariantProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"variant"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Attributes"},directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MultiVariantProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"variants"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Attributes"},directives:[]}]}}]}},{kind:"Field",alias:{kind:"Name",value:"mediaViewerPrimaryImage"},name:{kind:"Name",value:"primaryImage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"EnumValue",value:"HIRES"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"productCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"productMedia"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ProductMediaItem"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"experimentMedia"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ProductMediaItem"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"productAssets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ProductAssetItem"},directives:[]}]}}]}}].concat(ll.definitions,dl.definitions,ml.definitions)),loc:{start:0,end:636,source:{body:"\n      fragment ProductMediaViewer_Media on Product {\n        ... on SingleVariantProduct {\n          variant {\n            ...Attributes\n          }\n        }\n        ... on MultiVariantProduct {\n          variants {\n            ...Attributes\n          }\n        }\n        mediaViewerPrimaryImage: primaryImage(size: HIRES)\n        productCode\n        productMedia {\n          items {\n            ...ProductMediaItem\n          }\n        }\n        experimentMedia {\n          items {\n            ...ProductMediaItem\n          }\n        }\n        productAssets {\n          ...ProductAssetItem\n        }\n      }\n\n      \n      \n      \n    ",name:"GraphQL request",locationOffset:{line:1,column:1}}}}}};function pl(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),t.push.apply(t,n)}return t}function gl(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?pl(Object(t),!0).forEach((function(i){(0,r.Z)(e,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):pl(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}))}return e}const vl=e=>{const i={};return e.filter((e=>{if("FragmentDefinition"!==e.kind)return!0;const t=e.name.value;return!i[t]&&(i[t]=!0,!0)}))},hl={kind:"Document",definitions:vl([{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ProductDetailsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"visibility"}},type:{kind:"NamedType",name:{kind:"Name",value:"ProductVisibility"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"product"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}},{kind:"Argument",name:{kind:"Name",value:"visibility"},value:{kind:"Variable",name:{kind:"Name",value:"visibility"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ProductDetails_Product"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ProductFeatures_Product"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ProductUgc_Product"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ProductOverview_Product"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ProductMediaViewer_Media"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Product_ProductItem"},directives:[]},{kind:"Field",name:{kind:"Name",value:"contentBody"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ContentContainerData"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"colorVariantProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ColorVariantProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"productCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primaryImage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"EnumValue",value:"THUMBNAIL"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"overrideUrl"},arguments:[],directives:[]}]}}]}}]}}]}}].concat(rl.Z.fragments.product.definitions,sl._i.definitions,[{kind:"FragmentDefinition",name:{kind:"Name",value:"ProductDetails_Product"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Product"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"productCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"metaTitle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"metaDescription"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"noIndexTag"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nextStockDropDate"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SingleVariantProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"variant"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Variant_ProductDetails"},directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MultiVariantProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"vipPointsRange"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"variants"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Variant_ProductDetails"},directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReadOnlyProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"readOnlyVariant"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"attributes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pieceCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"buildHeight"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"buildWidth"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"buildDepth"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"minifigureCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ageRange"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hideBuildingInstructions"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",alias:{kind:"Name",value:"socialImage"},name:{kind:"Name",value:"primaryImage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"EnumValue",value:"HIRES"}}],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Variant_ProductDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProductVariant"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"vipPoints"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"attributes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"availabilityStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availabilityText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"vipAvailabilityStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"vipAvailabilityText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"canAddToBag"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"vipCanAddToBag"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ageRange"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pieceCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"buildHeight"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"buildWidth"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"buildDepth"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"minifigureCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headlineText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isNew"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"onSale"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hideBuildingInstructions"},arguments:[],directives:[]}]}}]}}],[{kind:"FragmentDefinition",name:{kind:"Name",value:"ProductFeatures_Product"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Product"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"productCode"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"featuresPrimaryImage"},name:{kind:"Name",value:"primaryImage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"EnumValue",value:"HIRES"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"productImages"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"productMedia"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"secondaryImage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"EnumValue",value:"THUMBNAIL"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"featuresText"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SingleVariantProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"variant"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Variant_ProductFeatures"},directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MultiVariantProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"variants"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Variant_ProductFeatures"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Variant_ProductFeatures"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProductVariant"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"attributes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canAddToBag"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bulletText"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"images"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}],[{kind:"FragmentDefinition",name:{kind:"Name",value:"ProductUgc_Product"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Product"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SingleVariantProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ugcBlock"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ugcType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ugcKey"},arguments:[],directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MultiVariantProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ugcBlock"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ugcType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ugcKey"},arguments:[],directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReadOnlyProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ugcBlock"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ugcType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ugcKey"},arguments:[],directives:[]}]}}]}}]}}],gd.product.definitions,ul.fragments.media.definitions)),loc:{start:0,end:622,source:{body:"\n  query ProductDetailsQuery($slug: String!, $visibility: ProductVisibility) {\n    product(slug: $slug, visibility: $visibility) {\n      ...ProductDetails_Product\n      ...ProductFeatures_Product\n      ...ProductUgc_Product\n      ...ProductOverview_Product\n      ...ProductMediaViewer_Media\n      ...Product_ProductItem\n      contentBody {\n        ...ContentContainerData\n      }\n      colorVariantProducts {\n        ... on ColorVariantProduct {\n          id\n          productCode\n          name\n          slug\n          primaryImage(size: THUMBNAIL)\n          overrideUrl\n        }\n      }\n    }\n  }\n  \n  \n  \n  \n  \n  \n  \n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},yl={kind:"Document",definitions:vl([{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ProductDetailsContentQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentSectionVars"}},type:{kind:"NamedType",name:{kind:"Name",value:"ContentSectionVars"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"promoSectionVars"}},type:{kind:"NamedType",name:{kind:"Name",value:"PromoSectionVars"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"productContent"},arguments:[{kind:"Argument",name:{kind:"Name",value:"contentSectionVars"},value:{kind:"Variable",name:{kind:"Name",value:"contentSectionVars"}}},{kind:"Argument",name:{kind:"Name",value:"promoSectionVars"},value:{kind:"Variable",name:{kind:"Name",value:"promoSectionVars"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contentBody"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ContentContainerData"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"promo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TargetedPromotionSection"},directives:[]}]}}]}}]}}].concat(rl.Z.fragments.product.definitions,Zo.definitions,sl._i.definitions)),loc:{start:0,end:381,source:{body:"\n  query ProductDetailsContentQuery(\n    $contentSectionVars: ContentSectionVars\n    $promoSectionVars: PromoSectionVars\n  ) {\n    productContent(\n      contentSectionVars: $contentSectionVars\n      promoSectionVars: $promoSectionVars\n    ) {\n      contentBody {\n        ...ContentContainerData\n      }\n      promo {\n        ...TargetedPromotionSection\n      }\n    }\n  }\n\n  \n  \n  \n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},kl=e=>{var i;return null===e||void 0===e||null===(i=e.graphQLErrors)||void 0===i?void 0:i.find((e=>{var i;return"NO_VARIANTS_AVAILABLE"===(null===(i=e.extensions)||void 0===i?void 0:i.code)}))};var fl=e=>{const{slug:i,children:t}=e;return t(gl(gl({},(0,w.aM)(hl,{variables:{slug:i},errorPolicy:"all",fetchPolicy:"cache-first"})),{},{productDetailsContentQuery:yl}))};const bl=["locale","product"];function wl(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),t.push.apply(t,n)}return t}function xl(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?wl(Object(t),!0).forEach((function(i){(0,r.Z)(e,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):wl(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}))}return e}const Nl=(0,k.ak)((0,k.ZE)((({product:e,updateProductDetailsQuery:i,productDetailsContentQuery:t})=>{var r,s,o,d,l;const c=(0,Z.T)(),m=(0,O.Z)(`(max-width: ${N.rS.media.breakpoints.medium}px)`),p=(0,T.aq)("pdp_mobile_gallery_20312","Variant_B_20312"),g=m&&p,{locale:v,pathname:h,query:y,country:k}=(0,a.k)(),f=(0,F.v)(),{triggerEvent:R}=(0,T.FG)(),{0:z,1:D}=(0,n.useState)(null),{0:V,1:E}=(0,n.useState)(Ls(e,z)),{0:M,1:B}=(0,n.useState)(!1),$=(0,n.useRef)(null),{0:L,1:W}=(0,n.useState)({reviewsCount:null,reviewsRating:Us(V,"rating")}),U=(0,n.useRef)(!1),G=(0,n.useRef)(!1),[q]=(0,w.td)(t,{onCompleted:e=>{const t=b()(e,(e=>e.productContent.contentBody))||[],n=b()(e,(e=>e.productContent.promo));i((e=>t.length||n?nl(t,n,e):e))}}),{productCode:H}=e,Q=e.ugcBlock?e.ugcBlock.ugcType:null,K=e.ugcBlock?e.ugcBlock.ugcKey:null,X=!(!Q||!K),Y="ReadOnlyProduct"===e.__typename,J=f&&f.isOver18yo,ee=f&&f.isOver16yo,ie=f&&f.isVip,{availabilityStatus:te}=(0,C.UB)(V,ie),{currencyCode:ne,formattedValue:ae,centAmount:re}=xs(V),se=null===e||void 0===e||null===(r=e.contentBody)||void 0===r?void 0:r.some((e=>!!e.section)),oe=te===I.Z.retired,de=I.Z.outOfStock.includes(te),le=oe||de,{reviewsRating:ce,reviewsCount:me}=L,ue=Us(V,"showReviews")||!1,pe=x.default.partners[v],ge=pe?pe.productUrl.replace("[PRODUCT CODE]",H):"",{0:ve,1:he}=(0,n.useState)("MOST_RELEVANT"),{0:ye,1:ke}=(0,n.useState)([]),{0:fe,1:be}=(0,n.useState)(parseInt(null===y||void 0===y?void 0:y.page,10)||1),{0:we,1:xe}=(0,n.useState)(4*(fe-1)),{data:Ne,loading:Se,error:je}=(0,w.aM)(al,{variables:{productCode:H,sort:ve,reviewFilters:ye,reviewsPerPage:4,offset:we}});(0,n.useEffect)((()=>{if(Ne){const{productReviews:{statistics:e}}=Ne,i={reviewsCount:e.count,reviewsRating:null===e.overallRating?ce:e.overallRating};W(i)}}),[Ne]);const Pe=e=>{be(1),xe(0),ke([...ye,e])},_e=e=>{be(1),xe(0),ke(ye.filter((i=>i!==e)))},Ce=()=>{be(1),xe(0),ke([])},Ie=e=>{he(e),be(1),xe(0)},Ze=e=>{be(e),xe(4*(e-1))};(0,n.useEffect)((()=>{void 0!==y["submit-review"]&&B(!0)}),[y]),(0,n.useEffect)((()=>{M&&R({label:"pdpScroll",eventType:["custom"],data:{sectionName:"customer reviews"}})}),[M,R]),(0,n.useEffect)((()=>{E(Ls(e,z))}),[z,e]),(0,n.useEffect)((()=>{if(!U.current&&H&&V){U.current=!0;const e=Us(V,"isNew")||!1,i=Us(V,"onSale")||!1,t=(e=>e&&!e.length?null:e.map((e=>e.key)).join(":"))(Us(V,"featuredFlags")||[]),n={productId:H,price:ae,currency:ne,availability:te,rating:ce||"no rating",reviewCount:me||0,isNew:e,onSale:i,flag:t};R({label:"pdpView",eventType:["analyticsLayer"],data:{pageName:n.productId,pageType:"product",productDetail:n,siteSection:"products",siteSectionLvl2:n.productId},options:{queue:!0}})}}),[H,V,ae,ne,te,me,ce,U,R]),(0,n.useEffect)((()=>{!G.current&&H&&(G.current=!0,R([{label:"viewProduct",eventType:["custom"],data:{page_type:"product detail",products:{id:H,price:ae},country:k}}]))}),[H,ae,G,R]);const Oe=e=>R({label:"pdpScroll",eventType:["custom"],data:{sectionName:e}}),Fe=()=>J&&(0,u.jsx)(cr,{children:(0,u.jsx)(S.default,{siteArea:"PRODUCT_DETAIL_PAGE",productCode:H,onIntersection:()=>Oe("recommendations")})}),Te=(null===(s=e.brandCategory)||void 0===s?void 0:s.name)||e.name,Re=(null===(o=e.brandCategory)||void 0===o?void 0:o.url)||"",ze=[{label:c("breadcrumbs.home"),url:"/"},{label:Te,url:Re}];null!==(d=e.brandCategory)&&void 0!==d&&d.name&&ze.push({label:e.name,url:""});const De={locale:v,availabilityStatus:te,price:ae,currency:ne,productCode:H},Ve=(0,u.jsx)(fd,{product:e,variantIndex:z,isOver18yo:J,isVipUser:ie,handleOnIntersection:Oe}),Ee=g?(0,u.jsx)(Od,{children:(0,u.jsx)(Ra,{media:e})}):(0,u.jsxs)(Zd,{children:[(0,u.jsx)(Zn,{media:e}),!m&&Ve]});return(0,u.jsxs)(_.ZP.Provider,{currentlyViewedProduct:e,children:[el(e,V,De,h),(0,u.jsxs)("div",{itemScope:!0,itemType:"http://schema.org/Product",children:[(0,u.jsx)(Pd,{items:ze,"data-test":"breadcrumbs"}),(0,u.jsx)(_d,{children:(0,u.jsxs)(Cd,{children:[(0,u.jsx)(xn,{productCode:H,mediaItems:null===(l=e.productMedia)||void 0===l?void 0:l.items,children:Ee}),(0,u.jsx)(pd,{product:e,variantIndex:z,isReadOnlyProduct:Y,isOver18yo:J,isOver16yo:ee,isVipUser:ie,shouldShowReviews:ue,reviewsCount:me,reviewsRating:ce,partnerProductUrl:ge,onVariantSelect:i=>{if("MultiVariantProduct"===e.__typename){const{variants:t=[]}=e,n=t.findIndex((({id:e}={})=>e===i));D(-1===n?null:n)}},onClickReviewsLink:e=>{if($.current){const i=$.current.offsetTop-(null!==e&&void 0!==e?e:0);window.scrollTo(0,i),B(!0)}}}),m&&Ve]})}),le&&Fe(),se&&(0,u.jsx)(j.Z,{onIntersection:()=>Oe("features"),threshold:.25,children:({onRef:i})=>(0,u.jsx)(Bd,{id:"pdp-features",title:"product.features.title",active:!0,ref:i,onToggle:e=>{e&&R({label:"pdpFeaturesOpen",eventType:["custom"]})},children:(0,u.jsx)(Fd,{children:(0,u.jsx)(A.Z,{id:e.id,analyticsLayerPageName:e.productCode,containers:e.contentBody,onIsRefetchRequired:i=>{const t=i?{productCode:H}:void 0,n=P.Z.getInstance().isLoggedIn()&&V&&V.promo&&V.promo.fetchOnClient?{productCode:H,productPrice:re,productCategoryKeys:e.productCategories?e.productCategories.map((e=>e.key)).filter(Boolean):[]}:void 0;(t||n)&&q({variables:{contentSectionVars:t,promoSectionVars:n}})}})})})}),X&&(0,u.jsx)(j.Z,{onIntersection:()=>Oe("ugc"),threshold:.25,children:({onRef:i})=>(0,u.jsx)(Bd,{id:"pdp-ugc",title:"product.ugc.title",active:!se,ref:i,dataTestKey:"ugc",onToggle:e=>{e&&R({label:"pdpFanMomentsOpen",eventType:["custom"]})},children:e.ugcBlock&&(0,u.jsx)(Gd,{ugcBlockData:e.ugcBlock})})}),se?(0,u.jsx)(Bd,{id:"pdp-specifications",title:"product.specifications.title",active:!1,onToggle:e=>{e&&Oe("specifications")},children:(0,u.jsx)(Sd,{product:e})}):(0,u.jsx)(j.Z,{onIntersection:()=>Oe("specifications"),threshold:.25,children:({onRef:i})=>(0,u.jsx)(Bd,{id:"pdp-specifications",title:"product.specifications.title",active:!0,ref:i,dataTestKey:"specifications",onToggle:e=>{e&&R({label:"pdpSpecificationsOpen",eventType:["custom"]})},children:(0,u.jsx)(Sd,{product:e})})}),!Y&&ue&&(0,u.jsx)(Bd,{id:"pdp-reviews",title:"product.reviews.title",titleSuffix:(0,u.jsx)(Xo,{productName:e.name,reviewsCount:me,reviewsRating:ce,isOver16yo:ee,showLabel:!0,showOnlyText:!0}),ref:$,active:M,onToggle:B,dataTestKey:"reviews",children:(0,u.jsx)(Td,{productName:e.name||"",productCode:H,primaryImage:e.primaryImage||"",isOver16yo:ee,addReviewFilter:Pe,removeReviewFilter:_e,clearFilters:Ce,handleSortChange:Ie,handlePageChange:Ze,data:Ne,loading:Se,error:je,filters:ye,currentPage:fe,sortOrder:ve})}),(0,u.jsx)(Yd,{product:e}),!le&&Fe()]})]})})),{pageType:"product"});var Sl=e=>{const{slug:i}=e,{pathname:t,location:r,createHref:c,locale:m,replace:p,query:g}=(0,a.k)(),v=(0,o.d)(),k=(0,n.useCallback)((e=>{const{locale:i,product:n}=g,a=(0,s.Z)(g,bl);let o;o="override"===e.type&&m?`/${m}${e.url}`:t.replace(t.substring(t.lastIndexOf("/")+1),e.url);const d=c(xl(xl({},r),{},{pathname:o,query:a}));return null!==v&&void 0!==v&&v.res?v.res.redirect(301,d):p({pathname:d,redirectPermanently:!0})}),[v,m,t,p,c,r,g]);return(0,u.jsx)(h,{children:(0,u.jsx)(fl,{slug:i,children:({data:e,loading:t,updateQuery:n,productDetailsContentQuery:a,error:r})=>t?(0,u.jsx)(l.Z,{}):r&&!kl(r)?(0,u.jsx)(d.Z,{title:"dynamicPage.error.title",body:"dynamicPage.error.body",linkName:"dynamicPage.error.link"}):e&&e.product&&e.product.productCode&&!kl(r)?e.product.overrideUrl?(k({type:"override",url:e.product.overrideUrl}),null):e.product.slug&&e.product.slug!==i?(k({type:"slug",url:e.product.slug}),null):(0,u.jsx)(ci,{productCode:e.product.productCode,children:(0,u.jsx)(Nl,{product:e.product,updateProductDetailsQuery:n,productDetailsContentQuery:a})}):(0,u.jsx)(y.Z,{})})})},jl=t(43202);const Pl=()=>{const{query:e}=(0,a.k)();return(0,u.jsx)(Sl,{slug:String(e.product)})};Pl.getInitialProps=async e=>{var i;const t={slug:null===(i=e.query)||void 0===i?void 0:i.product};return(0,jl.k)({ctx:e,queries:[{query:hl,variables:t}],handleError:({error:e,res:i})=>{kl(e)&&(i.statusCode=404)}})};var _l=Pl},85293:function(e,i,t){"use strict";t.d(i,{c:function(){return c}});var n=t(95235),a=t(2784);function r(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),t.push.apply(t,n)}return t}function s(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?r(Object(t),!0).forEach((function(i){(0,n.Z)(e,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}))}return e}const o=(e,i)=>{try{return e.validateSync(i,{abortEarly:!1}),{}}catch(t){return t.inner.reduce(((e,i)=>s(s({},e),{},{[i.path]:i.message})),{})}},d=(e,i)=>i?e?"error":"valid":"initial",l=e=>Object.keys(e).some((i=>null!==e[i])),c=(e,i)=>{const t=(0,a.useMemo)((()=>(e=>(i,t)=>{let{values:n,errors:a,touched:r,hasBlurred:d}=i;switch(t.type){case"update":{Object.keys(t.update).forEach((e=>{const i=t.update[e];r=r[e]?r:s(s({},r),{},{[e]:!0}),n=n[e]===i?n:s(s({},n),{},{[e]:i})}));const i=o(e,n);Object.keys(e.fields).forEach((e=>{const t=i[e]||null;a=a[e]===t?a:s(s({},a),{},{[e]:t})}));break}case"errors":Object.keys(e.fields).forEach((e=>{const i=t.errors[e];void 0!==i&&(r=r[e]?r:s(s({},r),{},{[e]:!0}),a=a[e]===i?a:s(s({},a),{},{[e]:i}))}));break;case"blur":{const{name:e}=t;d=d[e]?d:s(s({},d),{},{[e]:!0});break}case"change":{const{name:i,value:d}=t;n=n[i]===d?n:s(s({},n),{},{[i]:d}),a=o(e,n),r=r[i]?r:s(s({},r),{},{[i]:!0});break}case"touchAll":Object.keys(e.fields).forEach((e=>{r=r[e]?r:s(s({},r),{},{[e]:!0}),d=d[e]?d:s(s({},d),{},{[e]:!0})}));break;case"resetTouch":Object.keys(e.fields).forEach((e=>{r=s(s({},r),{},{[e]:!1})}))}return i.values===n&&i.errors===a&&i.touched===r&&i.hasBlurred===d?i:{isValid:!l(a),values:n,errors:a,touched:r,hasBlurred:d}})(e)),[e]),n=(0,a.useMemo)((()=>((e,i)=>{const t={},n={},a={},r={};Object.keys(e.fields).forEach((e=>{t[e]=i&&null!=i[e]?i[e]:""}));const s=o(e,t);return Object.keys(e.fields).forEach((e=>{n[e]=s[e]||null,a[e]=!1,r[e]=!1})),{isValid:!l(n),values:t,errors:n,touched:a,hasBlurred:r}})(e,i)),[i,e]),{0:r,1:c}=(0,a.useReducer)(t,n);(0,a.useDebugValue)(r);const m=(0,a.useCallback)((({target:i})=>{const t=i.name;if(void 0!==e.fields[t]){const e="checkbox"===i.type?i.checked:i.value;c({type:"change",name:t,value:e})}}),[c,e]),u=(0,a.useCallback)((i=>{m(i);const t=i.target.name;void 0!==e.fields[t]&&c({type:"blur",name:t})}),[e.fields,m]),p=(0,a.useCallback)((e=>c({type:"update",update:e})),[]),g=(0,a.useCallback)((e=>c({type:"errors",errors:e})),[]),v=(0,a.useCallback)((()=>c({type:"touchAll"})),[]),h=(0,a.useCallback)((()=>c({type:"resetTouch"})),[]),y=(0,a.useCallback)((e=>{const i=r.values[e],t=r.errors[e],n=r.hasBlurred[e],a=r.touched[e],o=a&&null!=t,l={name:e,error:o?t:null,inputState:d(o,a),onChange:m,onBlur:u,hasBlurred:n};return s(s({},l),{},"boolean"===typeof i?{checked:i}:{value:i})}),[r.errors,r.hasBlurred,r.touched,r.values,u,m]);return[r,y,p,g,v,h]}},4525:function(e,i){"use strict";i.Z=function(){const e=window.ioGetBlackbox;if("function"!==typeof e)return null;const{blackbox:i,finished:t}=e();return t?i:null}},9134:function(e,i,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[locale]/product/[product]",function(){return t(32100)}])},99729:function(e){e.exports="/_next/static/images/safety-na-781e62b178d8af1dd80f26b672575ecc.svg"},65634:function(e){e.exports="/_next/static/images/safety-08ff1b3398344608cf1508144b3c2d0f.svg"},74121:function(e){e.exports="/_next/static/images/Close-blue-406befe5c60d53818bf7704a29aac227.svg"}},function(e){e.O(0,[8794,9615,382,1488,1476,4108,1067,3842,9644,6796,6495,8713,8488,331,2155,5447,9058,376,5962,9774,2888,179],(function(){return i=9134,e(e.s=i);var i}));var i=e.O();_N_E=i}]);
//# sourceMappingURL=[product]-a28e1ce87efc11a4.js.map