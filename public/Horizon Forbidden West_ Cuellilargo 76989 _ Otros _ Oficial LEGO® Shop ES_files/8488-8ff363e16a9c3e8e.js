"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8488,2430],{70862:function(e,t,n){const i=n(54914).ZP.button.attrs((e=>({"aria-label":e.label,"data-test":"info-button"}))).withConfig({displayName:"InfoButton",componentId:"sc-1srvmfb-0"})(["width:",";height:",";border:1px solid ",";border-radius:100%;background-color:",";padding:0;margin:0;&:before{display:block;content:' i ';font-size:",";color:",";}&:hover{border-color:",";&:before{color:",";}}"],(({size:e,theme:t})=>t.sizing(e||"lg")),(({size:e,theme:t})=>t.sizing(e||"lg")),(({borderColor:e,theme:t})=>t.color(e||"grey")),(({bgColor:e,theme:t})=>t.color(e||"transparent")),(({fontSize:e,theme:t})=>t.fontSize(e||"sm2")),(({theme:e})=>e.color("grey")),(({theme:e})=>e.color("blue")),(({theme:e})=>e.color("blue")));t.Z=i},89101:function(e,t,n){n.d(t,{Z:function(){return v}});var i=n(2784),o=n(92736),r=n(54914);const s=r.ZP.div.withConfig({displayName:"Quantitystyles__QuantityWrapper",componentId:"sc-ee4u7w-0"})(["display:flex;height:",";border-radius:5px;flex:1 0 auto;"],(e=>e.theme.sizing(1.85))),a=r.ZP.button.withConfig({displayName:"Quantitystyles__ModifyButton",componentId:"sc-ee4u7w-1"})(["position:relative;cursor:pointer;flex-grow:1;height:100%;min-width:",";border:1px solid ",";display:flex;align-items:center;border-radius:",";background-color:",";justify-content:center;touch-action:manipulation;",";"],(e=>e.theme.sizing("xl")),(e=>e.theme.color("grey_light")),(e=>e.left?"5px 0 0 5px":"0 5px 5px 0"),(e=>e.theme.color("white")),(e=>e.showAsCtaButton?(0,r.iv)(["background:",";"],e.theme.color("blue")):(0,r.iv)(["&:active{background:#f9fcff;}&:disabled{cursor:default;color:red;}&:focus{outline:1px solid ",";",";}"],e.theme.color("blue_light"),e.theme.zIndex("high")))),l=r.ZP.input.withConfig({displayName:"Quantitystyles__NumberInput",componentId:"sc-ee4u7w-2"})(["background-image:none;width:100%;height:100%;border:none;border-radius:0;cursor:text;text-align:center;text-indent:0px;text-rendering:auto;text-shadow:none;word-spacing:0;padding:0;writing-mode:horizontal-tb;-webkit-appearance:none;-moz-appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;margin:0;}color:",";&:active{background:#f9fcff;}&:focus{outline:1px solid ",";",";}"],(e=>e.isLoading?"transparent":e.theme.color("black")),(e=>e.theme.color("blue_light")),(e=>e.theme.zIndex("high"))),c=r.ZP.div.withConfig({displayName:"Quantitystyles__InputContainer",componentId:"sc-ee4u7w-3"})(["position:relative;flex-grow:1;border-top:thin solid ",";border-bottom:thin solid ",";width:",";max-width:",";"],(e=>e.theme.color("grey_light")),(e=>e.theme.color("grey_light")),(e=>e.theme.sizing("xl")),(e=>e.theme.sizing("3xl"))),d=r.ZP.div.withConfig({displayName:"Quantitystyles__LoadingContainer",componentId:"sc-ee4u7w-4"})(["position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%);"]);var u=n(76103),h=n(25418),m=n(29522),p=n(64745),g=n(52322);var f=({fill:e})=>{const t=e?p.rS.color(e):"black";return(0,g.jsxs)("svg",{className:"add",xmlns:"http://www.w3.org/2000/svg",width:"14px",height:"14px",viewBox:"0 0 14 14","aria-hidden":"true",children:[(0,g.jsx)("polygon",{fill:t,points:"14 8 0 8 0 6 14 6"}),(0,g.jsx)("rect",{fill:t,fillRule:"nonzero",x:"6",y:"0",width:"2",height:"14"})]})};var b=({fill:e})=>{const t=e?p.rS.color(e):"black";return(0,g.jsx)("svg",{className:"minus",width:"14px",height:"2px",viewBox:"0 0 14 2","aria-hidden":"true",children:(0,g.jsx)("polygon",{fill:t,points:"14 2 0 2 0 -6.03961325e-14 14 -6.03961325e-14"})})};var v=({id:e,value:t,onChange:n=(()=>{}),onFocus:r=(()=>{}),onBlur:p=(()=>{}),minValue:v=0,maxValue:x=999,showAsCtaButton:y,disabled:w,className:C,label:_,loading:j,"data-test":I="quantity-value"})=>{const z=(0,o.T)(),{0:k,1:Z}=(0,i.useState)(!1),{0:P,1:S}=(0,i.useState)(`${t}`),N=(0,i.useRef)(null);(0,i.useEffect)((()=>{t>x?n(x):k||S(`${t}`)}),[x,n,t,k]);const R=e=>{const i=t+e,o=Math.max(i,v),r=Math.min(o,x);n(r,!0)},O=e=>{p(P,e)},T=()=>{r(P)},E=v>=0&&x>=0;return(0,g.jsxs)(s,{className:C,"data-test":"quantity-wrapper",children:[(0,g.jsxs)(a,{left:!0,disabled:w||j||t<=v,onClick:()=>R(-1),onFocus:T,onBlur:O,"data-test":"quantity-decrease",type:"button","aria-label":z("element.quantity.decrease"),children:[(0,g.jsx)(b,{fill:w||j||t<=v?"grey_light":void 0}),(0,g.jsx)(u.Z,{children:(0,g.jsx)(m.Z,{id:"quantity.decrease"})})]}),(0,g.jsxs)(c,{children:[j?(0,g.jsx)(d,{children:(0,g.jsx)(h.Z,{size:"md"})}):null,(0,g.jsx)(l,{id:e,name:e,disabled:w,inputmode:E?"numeric":void 0,onBlur:e=>{const n=`${t}`;S(n),p(n,e)},onChange:e=>{const{value:t}=e.target;if(null==t||""===t)return Z(!0),void S(t);S(t);const i=parseInt(t,10);isNaN(i)||n(i>=x?x:i<=v?v:i)},onFocus:()=>{N.current&&N.current.select(),r(P)},pattern:E?"[0-9]*":void 0,ref:N,type:"number",value:P,"data-test":I,"aria-label":_,isLoading:j})]}),(0,g.jsxs)(a,{showAsCtaButton:y,disabled:w||j||t>=x,onClick:()=>R(1),onFocus:T,onBlur:O,"data-test":y?"quantity-increase-cta":"quantity-increase",type:"button","aria-label":z("element.quantity.increase"),children:[(0,g.jsx)(f,{fill:w||j||t>=x?"grey_light":y?"white":void 0}),(0,g.jsx)(u.Z,{children:(0,g.jsx)(m.Z,{id:"quantity.increase"})})]})]})}},26169:function(e,t,n){n.d(t,{Z:function(){return y}});var i=n(2784),o=n(76262),r=n(22711),s=n(29522),a=n(54914),l=n(10969),c=n(58326);const d=a.ZP.div.withConfig({displayName:"SelectCustomstyles__Container",componentId:"sc-mlwz43-0"})(["position:relative;z-index:1;display:flex;flex-direction:column;cursor:pointer;",""],(e=>e.active&&(0,a.iv)(["z-index:100;"]))),u=a.ZP.button.withConfig({displayName:"SelectCustomstyles__SelectTrigger",componentId:"sc-mlwz43-1"})(["padding:0 ",";position:relative;display:flex;flex-direction:column;justify-content:center;align-items:flex-start;user-select:none;min-height:",";border:1px solid ",";",""],(e=>e.theme.sizing("sm")),(0,l.hO)(55),(e=>e.theme.color("grey_light")),(e=>e.active&&(0,a.iv)(["border:1px solid ",";border-bottom-color:",";"],e.theme.color("blue_light"),e.theme.color("grey_light")))),h=a.ZP.span.withConfig({displayName:"SelectCustomstyles__SelectedLabel",componentId:"sc-mlwz43-2"})([""," ",""],(e=>e.theme.font("sm1")),(e=>e.hasValue&&(0,a.iv)([""," color:",";"],e.theme.font("sm2"),e.theme.color("grey")))),m=a.ZP.span.withConfig({displayName:"SelectCustomstyles__SelectedText",componentId:"sc-mlwz43-3"})(["",""],(e=>e.theme.font("sm1"))),p=a.ZP.div.withConfig({displayName:"SelectCustomstyles__SelectedInfoText",componentId:"sc-mlwz43-4"})([""," padding-top:",";"],(e=>e.theme.font("sm1")),(e=>e.theme.sizing("4xs"))),g=a.ZP.div.withConfig({displayName:"SelectCustomstyles__ChevronWrapper",componentId:"sc-mlwz43-5"})(["position:absolute;top:50%;right:",";transform:translateY(-50%);pointer-events:none;"],(e=>e.theme.sizing("sm"))),f=(0,a.ZP)(c.Z).withConfig({displayName:"SelectCustomstyles__Chevron",componentId:"sc-mlwz43-6"})(["pointer-events:none;transition:transform 0s;",""],(e=>(0,a.iv)(["width:",";height:",";color:",";"],e.theme.sizing("sm"),e.theme.sizing("sm"),e.theme.color("grey")))),b=a.ZP.div.withConfig({displayName:"SelectCustomstyles__Options",componentId:"sc-mlwz43-7"})(["position:absolute;top:100%;width:100%;flex-direction:column;background-color:",";border:1px solid ",";border-top:none;display:none;overflow-y:auto;",""],(e=>e.theme.color("white")),(e=>e.theme.color("blue_light")),(e=>e.active&&(0,a.iv)(["display:flex;"]))),v=a.ZP.button.withConfig({displayName:"SelectCustomstyles__Option",componentId:"sc-mlwz43-8"})([""," display:flex;align-items:center;padding:"," ",";"," &:hover{background-color:",";}"],(e=>e.theme.font("sm1")),(e=>e.theme.sizing("xxs")),(e=>e.theme.sizing("sm")),(e=>e.selected&&(0,a.iv)(["background-color:",";"],e.theme.color("blue_extra_light"))),(e=>e.theme.color("blue_extra_light")));var x=n(52322);var y=e=>{const{id:t,label:n,value:a,options:l,onChange:c,active:y,className:w,"data-test":C}=e,_=(0,i.useRef)(!1),j=(0,i.useRef)(null),I=(0,i.useRef)(null),{0:z,1:k}=(0,i.useState)(!1),Z=(0,o.D)(z);(0,i.useEffect)((()=>{_.current&&k(y)}),[y]),(0,i.useEffect)((()=>{_.current&&(Z!==z&&I.current&&I.current.focus(),Z&&!z&&c(a))}),[z,_,I,Z,c,a]);const P=e=>{j.current&&j.current!==e.target&&!j.current.contains(e.target)&&k(!1)};(0,r.F)((()=>(_.current=!0,document.addEventListener("click",P,!1),()=>{document.removeEventListener("click",P,!1)})));const{selectedText:S,selectedExtraInfo:N}=a&&l.find((e=>e.value===a))||{};if(!l.length)return null;return(0,x.jsxs)(d,{ref:j,id:t,active:z,className:w,"data-test":C,children:[(0,x.jsxs)(u,{ref:I,onClick:()=>k(!z),active:z,id:`${t}-select-trigger`,"aria-haspopup":"listbox","aria-labelledby":`${t}-select-trigger ${t}-select-option`,children:[(0,x.jsx)(h,{hasValue:!!a,children:(0,x.jsx)(s.Z,{id:n})}),S&&(0,x.jsx)(m,{children:S}),(0,x.jsx)(g,{children:(0,x.jsx)(f,{chevronDirection:z?"up":"down"})})]}),!z&&(R=N,"string"===typeof R?(0,x.jsx)(p,{children:R}):R),(0,x.jsx)(b,{active:z,role:"listbox","aria-labelledby":"select-option","aria-activedescendant":a?`${t}-select-option-${a}`:void 0,children:l.map((e=>(0,x.jsx)(v,{selected:e.value===a,"data-test":`${t}-select-option-${e.value}`,id:`${t}-select-option-${e.value}`,role:"option","aria-selected":e.value===a?"true":void 0,onClick:()=>{var t;t=e.value,k(!1),c(t)},children:e.valueText},e.value)))})]});var R}},22852:function(e,t,n){var i=n(95235),o=n(2784);const r=new Map,s="undefined"!==typeof IntersectionObserver?new IntersectionObserver((e=>{e.forEach((e=>{const t=r.get(e.target);void 0!==t&&t(e)}))}),{rootMargin:"0px",threshold:[0,.25,.5,.75,1]}):void 0;class a extends o.Component{constructor(...e){super(...e),(0,i.Z)(this,"isIntersecting",!1),(0,i.Z)(this,"intersectionRatio",null),(0,i.Z)(this,"recsTest",null),(0,i.Z)(this,"onIntersection",(e=>{const{threshold:t=0}=this.props,n=.25*Math.round(4*e.intersectionRatio),i=e.isIntersecting&&n>=t;i!==this.isIntersecting&&(this.isIntersecting=i,this.props.onIntersection(i)),n!==this.intersectionRatio&&void 0!==this.props.onUpdate?(this.intersectionRatio=n,this.props.onUpdate({isIntersecting:e.isIntersecting,intersectionRatio:n})):this.intersectionRatio=null})),(0,i.Z)(this,"onRef",(e=>{var t,n;e&&(void 0!==this.unobserve&&this.unobserve(),this.unobserve=(t=e,n=this.onIntersection,void 0===s?()=>{}:(s.observe(t),r.set(t,n),()=>{s.unobserve(t),r.delete(t)})))})),(0,i.Z)(this,"observerProps",{onRef:this.onRef})}componentWillUnmount(){void 0!==this.unobserve&&this.unobserve()}render(){const{children:e}=this.props;return e(this.observerProps)}}t.Z=a},59579:function(e,t,n){var i=n(81839);t.Z=({to:e,from:t,redirectPermanently:n})=>{const{isLoading:o,replace:r,pathname:s}=(0,i.k)(),a=/^https?:\/\//;if(!o){if(t&&!s.includes(t))return null;a.test(e)?window.location.replace(e):r({pathname:e,redirectPermanently:n||!1})}return null}},2430:function(e,t,n){n.r(t),n.d(t,{default:function(){return z}});var i=n(95235),o=n(2784),r=n(10869),s=n.n(r),a=n(86235),l=n(22711),c=n(47663),d=n(64909),u=n(22852),h=n(27776),m=n(7553),p=n(92736),g=n(19515),f=n(97081),b=n(54914);const v=b.ZP.div.withConfig({displayName:"ProductRecommendationsstyles__Wrapper",componentId:"sc-1anuv2e-0"})(["margin:0 auto;margin-top:",";padding:",";background:",";",";",";"],(e=>e.theme.sizing("lg")),(e=>e.theme.sizing("ms")),(e=>e.theme.color("white")),(e=>e.theme.media.min("small")((0,b.iv)(["padding-top:",";padding-bottom:",";"],e.theme.sizing("lg"),e.theme.sizing("lg")))),(e=>e.theme.media.min("medium")((0,b.iv)(["padding:"," "," "," ",";max-width:",";margin:auto;"],e.theme.sizing("lg"),e.theme.sizing("xxl"),e.theme.sizing("xxl"),e.theme.sizing("xxl"),e.theme.maxWidth())))),x=b.ZP.div.withConfig({displayName:"ProductRecommendationsstyles__Container",componentId:"sc-1anuv2e-1"})(["padding:0;width:100%;max-width:100%;",";"],(e=>e.theme.media.min("massive")((0,b.iv)(["background:",";"],e.theme.color("white")))));var y=n(52322);var w=({id:e,recommendations:t,onRef:n,titleData:i,onCart:r,visibilityTracking:s})=>{const{handleInteraction:a}=(0,m.O)(),l=(0,p.T)(),{isCmsContent:c=!1,title:d,showTitle:u=!1}=i,h=c?d:l("recommended.title"),b=(0,o.useMemo)((()=>t.map((e=>({product:e})))),[t]);return(0,y.jsx)(x,{children:(0,y.jsx)(v,{"data-test":"product-recommended",ref:n,children:(0,y.jsx)(f.Z,{title:h,showTitle:c&&u||!c,"data-test":"recommendations",products:b,visibilityTracking:s,renderProduct:t=>(0,y.jsx)(g.Z,{recommendationId:e,componentType:"CarouselProductLeaf",product:t.product,onClickLink:()=>{a(t.product.productCode,e)},onCart:r})})})})};var C=({onRef:e})=>(0,y.jsx)("div",{"data-test":"product-recommended",ref:e}),_=n(58279);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var z=e=>{const{productCode:t,siteArea:n,isCmsContent:i=!1,title:r,showTitle:p=!1,onIntersection:g,orderedItems:f,cartTotalValue:b,freeDeliveryThreshold:v}=e,{fetched:x,recommendationData:j,renderRecommendations:z}=(0,h.y)(t,f),k=(0,a.xJ)(),{reportRecsLoaded:Z,handleIntersection:P}=(0,m.O)(),{0:S,1:N}=(0,o.useState)(null),{0:R,1:O}=(0,o.useState)(!1),T=(0,o.useRef)(S),E=(0,o.useRef)(!0),{0:B,1:$}=(0,o.useState)(void 0),{0:D,1:q}=(0,o.useState)(null),{0:L,1:A}=(0,o.useState)(!1);let M;const V=e=>{const t=e&&e.recommender;if(!t)return;const{recommendations:n}=t,i=n&&n.length?n.filter((e=>{const t=(e=>"SingleVariantProduct"===e.__typename?s()(e,(e=>e.variant)):"MultiVariantProduct"===e.__typename?s()(e,(e=>e.variants[0])):null)(e);return t&&t.attributes&&t.attributes.canAddToBag})):[];q(i),$(t.id)};if((0,l.F)((()=>{A(!0)})),(0,o.useEffect)((()=>Z(B)),[B,Z]),(0,o.useEffect)((()=>{if(x)return(()=>{if(!z)return;M&&(M.unsubscribe(),M=void 0);const i=(0,c.n0)(),o=(0,c.d9)();if(!i||!e.siteArea)return;const r=k.watchQuery({query:_.W,fetchPolicy:"network-only",variables:I({siteArea:n,productCode:t,sessionCookieId:i,crossSessionCookieId:o,cartTotalValue:b,freeDeliveryThreshold:v},j)});M=r.subscribe((e=>{e.data&&!e.errors&&V(e.data)}))})(),()=>{M&&M.unsubscribe()}}),[x,t,n,z]),(0,o.useEffect)((()=>{R&&S&&B&&(E.current||T.current&&T.current<S)&&(T.current=S,E.current=!1,P(R,B,S))}),[B,P,S,R,T]),!L||!B||!D)return null;const F=B&&(!D||!D.length);return z?(0,y.jsx)(u.Z,{onIntersection:e=>(e=>{O(e),g&&g()})(e),children:({onRef:e})=>F?(0,y.jsx)(C,{onRef:e}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(w,{productCode:t,onRef:e,id:B,recommendations:D,titleData:{isCmsContent:i,showTitle:p,title:r},onCart:"SHOPPING_CART"===n,visibilityTracking:e=>(e=>{N(e)})(e)}),(0,y.jsx)(d.Bh,{})]})}):null}}}]);
//# sourceMappingURL=8488-8ff363e16a9c3e8e.js.map